(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-a6becd9c","chunk-07066085","chunk-39b1e937","chunk-05a99c67","chunk-1feb7e04","chunk-192165dd","chunk-2d2105d3","chunk-2d230fe7"],{"0379":function(e,t,a){},"0431":function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{class:e.className,style:{height:e.height,width:e.width}})},s=[],n=a("313e"),o=a.n(n),l=a("a7dc");a("817d");var r={mixins:[l["default"]],props:{className:{type:String,default:"chart"},width:{type:String,default:"100%"},height:{type:String,default:"300px"},processOrderList:{type:Object,required:!0}},data:function(){return{chart:null}},mounted:function(){var e=this;this.$nextTick((function(){e.initChart()}))},beforeDestroy:function(){this.chart&&(this.chart.dispose(),this.chart=null)},methods:{initChart:function(){this.chart=o.a.init(this.$el,"macarons"),this.chart.setOption({title:{text:"最受欢迎的流程 TOP10",textStyle:{fontSize:15}},tooltip:{trigger:"axis"},grid:{top:45,left:30,right:"5%",bottom:20,containLabel:!0},xAxis:{type:"category",boundaryGap:!1,data:this.processOrderList.title},yAxis:{type:"value"},series:[{data:this.processOrderList.submit_count,type:"line",areaStyle:{}}]})}}},c=r,d=a("2877"),u=Object(d["a"])(c,i,s,!1,null,null,null);t["default"]=u.exports},"098d":function(e,t,a){},"0a35":function(e,t,a){},"0b50":function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("router-view")},s=[],n=a("2877"),o={},l=Object(n["a"])(o,i,s,!1,null,null,null);t["default"]=l.exports},1:function(e,t){},"133c":function(e,t,a){"use strict";var i=a("d785"),s=a.n(i);s.a},"157e":function(e,t,a){"use strict";var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-upload",{style:{width:e.element.options.width},attrs:{action:e.element.options.action,"on-success":e.handleSuccess,"on-preview":e.handlePreview,"on-remove":e.handleRemove,"before-remove":e.beforeRemove,multiple:"",limit:e.element.options.length,headers:e.element.options.headers,"on-exceed":e.handleExceed,"file-list":e.element.options.defaultValue,disabled:e.element.options.disabled}},[e.preview?e._e():a("div",[a("el-button",{attrs:{size:"small",type:"primary"}},[e._v("点击上传")]),e._v(" "),a("div",{staticClass:"el-upload__tip",attrs:{slot:"tip"},slot:"tip"},[e._v(e._s(e.element.options.tip))])],1)])],1)},s=[],n=(a("7f7f"),{name:"FileUpload",props:["element","preview"],data:function(){return{currentRemoveUid:""}},methods:{handleRemove:function(e,t){this.element.options.defaultValue=t},handlePreview:function(e){window.open(e.url,"_blank")},handleExceed:function(e,t){this.$message.warning("最多允许上传 ".concat(this.element.options.length," 个文件。"))},beforeRemove:function(e,t){return this.currentRemoveUid=e.uid,this.$confirm("确定要移除 ".concat(e.name,"？"))},handleSuccess:function(e,t,a){this.element.options.defaultValue.push({name:t.name,url:e.data})}}}),o=n,l=a("2877"),r=Object(l["a"])(o,i,s,!1,null,"0b0f6271",null);t["a"]=r.exports},"16f0":function(e,t,a){"use strict";var i=a("75d9"),s=a.n(i);s.a},"1a27":function(e,t,a){"use strict";var i=a("37a3"),s=a.n(i);s.a},"1db4":function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"wscn-http404-container"},[a("div",{staticClass:"wscn-http404"},[e._m(0),e._v(" "),a("div",{staticClass:"bullshit"},[a("div",{staticClass:"bullshit__oops"},[e._v("OOPS!")]),e._v(" "),a("div",{staticClass:"bullshit__headline"},[e._v(e._s(e.message))]),e._v(" "),a("div",{staticClass:"bullshit__info"},[e._v("请检查您访问的地址是否正确，通常在切换用户时，若您的用户没有上个用户退出时的页面权限，也会触发此报错，请知悉，或者点击一下按钮返回首页。")]),e._v(" "),a("a",{staticClass:"bullshit__return-home",attrs:{href:""}},[e._v("返回首页")])])])])},s=[function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"pic-404"},[i("img",{staticClass:"pic-404__parent",attrs:{src:a("a36b"),alt:"404"}}),e._v(" "),i("img",{staticClass:"pic-404__child left",attrs:{src:a("26fc"),alt:"404"}}),e._v(" "),i("img",{staticClass:"pic-404__child mid",attrs:{src:a("26fc"),alt:"404"}}),e._v(" "),i("img",{staticClass:"pic-404__child right",attrs:{src:a("26fc"),alt:"404"}})])}],n={name:"Page404",computed:{message:function(){return"抱歉，您找的页面不存在。"}}},o=n,l=(a("3f88"),a("2877")),r=Object(l["a"])(o,i,s,!1,null,"171d498a",null);t["default"]=r.exports},"1e54":function(e,t,a){"use strict";var i=a("f2cc"),s=a.n(i);s.a},2:function(e,t){},2044:function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{class:e.className,style:{height:e.height,width:e.width}})},s=[],n=a("313e"),o=a.n(n),l=a("a7dc");a("817d");var r={mixins:[l["default"]],props:{className:{type:String,default:"chart"},width:{type:String,default:"100%"},height:{type:String,default:"300px"}},data:function(){return{chart:null}},mounted:function(){var e=this;this.$nextTick((function(){e.initChart()}))},beforeDestroy:function(){this.chart&&(this.chart.dispose(),this.chart=null)},methods:{initChart:function(){this.chart=o.a.init(this.$el,"macarons"),this.chart.setOption({tooltip:{trigger:"item",formatter:"{a} <br/>{b} : {c} ({d}%)"},legend:{left:"center",bottom:"10",data:["Industries","Technology","Forex","Gold","Forecasts"]},series:[{name:"WEEKLY WRITE ARTICLES",type:"pie",roseType:"radius",radius:[15,95],center:["50%","38%"],data:[{value:320,name:"Industries"},{value:240,name:"Technology"},{value:149,name:"Forex"},{value:100,name:"Gold"},{value:59,name:"Forecasts"}],animationEasing:"cubicInOut",animationDuration:2600}]})}}},c=r,d=a("2877"),u=Object(d["a"])(c,i,s,!1,null,null,null);t["default"]=u.exports},"24e2":function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"errPage-container"},[a("el-button",{staticClass:"pan-back-btn",attrs:{icon:"el-icon-arrow-left"},on:{click:e.back}},[e._v("\n    返回\n  ")]),e._v(" "),a("el-row",[a("el-col",{attrs:{span:12}},[a("h1",{staticClass:"text-jumbo text-ginormous"},[e._v("\n        Oops!\n      ")]),e._v("\n      gif来源"),a("a",{attrs:{href:"https://zh.airbnb.com/",target:"_blank"}},[e._v("airbnb")]),e._v(" 页面\n      "),a("h2",[e._v("你没有权限去该页面")]),e._v(" "),a("h6",[e._v("如有不满请联系你领导")]),e._v(" "),a("ul",{staticClass:"list-unstyled"},[a("li",[e._v("或者你可以去:")]),e._v(" "),a("li",{staticClass:"link-type"},[a("router-link",{attrs:{to:"/dashboard"}},[e._v("\n            回首页\n          ")])],1),e._v(" "),a("li",{staticClass:"link-type"},[a("a",{attrs:{href:"https://www.taobao.com/"}},[e._v("随便看看")])]),e._v(" "),a("li",[a("a",{attrs:{href:"#"},on:{click:function(t){t.preventDefault(),e.dialogVisible=!0}}},[e._v("点我看图")])])])]),e._v(" "),a("el-col",{attrs:{span:12}},[a("img",{attrs:{src:e.errGif,width:"313",height:"428",alt:"Girl has dropped her ice cream."}})])],1),e._v(" "),a("el-dialog",{attrs:{visible:e.dialogVisible,title:"随便看"},on:{"update:visible":function(t){e.dialogVisible=t}}},[a("img",{staticClass:"pan-img",attrs:{src:e.ewizardClap}})])],1)},s=[],n=a("cc6c"),o=a.n(n),l={name:"Page401",data:function(){return{errGif:o.a+"?"+ +new Date,ewizardClap:"https://wpimg.wallstcn.com/007ef517-bafd-4066-aae4-6883632d9646",dialogVisible:!1}},methods:{back:function(){this.$route.query.noGoBack?this.$router.push({path:"/dashboard"}):this.$router.go(-1)}}},r=l,c=(a("1a27"),a("2877")),d=Object(c["a"])(r,i,s,!1,null,"35ca77fc",null);t["default"]=d.exports},"26fc":function(e,t,a){e.exports=a.p+"static/web/img/404_cloud.0f4bc32b.png"},"2a33":function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container"},[a("el-row",[a("el-col",{staticClass:"card-box",attrs:{span:12}},[a("el-card",[a("div",{attrs:{slot:"header"},slot:"header"},[a("span",[e._v("服务器信息")])]),e._v(" "),a("div",{staticClass:"el-table el-table--enable-row-hover el-table--medium"},[a("table",{staticStyle:{width:"100%"},attrs:{cellspacing:"0"}},[a("thead",[a("tr",[a("th",{staticClass:"is-leaf"},[a("div",{staticClass:"cell"},[e._v("属性")])]),e._v(" "),a("th",{staticClass:"is-leaf"},[a("div",{staticClass:"cell"},[e._v("值")])])])]),e._v(" "),a("tbody",[a("tr",[a("td",[a("div",{staticClass:"cell"},[e._v("服务器架构")])]),e._v(" "),a("td",[e.server.os?a("div",{staticClass:"cell"},[e._v(e._s(e.server.os.arch))]):e._e()])]),e._v(" "),a("tr",[a("td",[a("div",{staticClass:"cell"},[e._v("操作系统")])]),e._v(" "),a("td",[e.server.os?a("div",{staticClass:"cell"},[e._v(e._s(e.server.os.goOs))]):e._e()])]),e._v(" "),a("tr",[a("td",[a("div",{staticClass:"cell"},[e._v("核心数")])]),e._v(" "),a("td",[e.server.cpu?a("div",{staticClass:"cell"},[e._v(e._s(e.server.cpu.cpuNum))]):e._e()])])])])])])],1),e._v(" "),a("el-col",{staticClass:"card-box",attrs:{span:12}},[a("el-card",[a("div",{attrs:{slot:"header"},slot:"header"},[a("span",[e._v("内存")])]),e._v(" "),a("div",{staticClass:"el-table el-table--enable-row-hover el-table--medium"},[a("table",{staticStyle:{width:"100%"},attrs:{cellspacing:"0"}},[a("thead",[a("tr",[a("th",{staticClass:"is-leaf"},[a("div",{staticClass:"cell"},[e._v("属性")])]),e._v(" "),a("th",{staticClass:"is-leaf"},[a("div",{staticClass:"cell"},[e._v("值")])])])]),e._v(" "),a("tbody",[a("tr",[a("td",[a("div",{staticClass:"cell"},[e._v("总内存")])]),e._v(" "),a("td",[e.server.mem?a("div",{staticClass:"cell"},[e._v(e._s(e.server.mem.total)+"G")]):e._e()])]),e._v(" "),a("tr",[a("td",[a("div",{staticClass:"cell"},[e._v("已用内存")])]),e._v(" "),a("td",[e.server.mem?a("div",{staticClass:"cell"},[e._v(e._s(e.server.mem.used)+"G")]):e._e()])]),e._v(" "),a("tr",[a("td",[a("div",{staticClass:"cell"},[e._v("使用率")])]),e._v(" "),a("td",[e.server.mem?a("div",{staticClass:"cell",class:{"text-danger":e.server.mem.usage>80}},[e._v(e._s(e.server.mem.usage)+"%")]):e._e()])])])])])])],1),e._v(" "),a("el-col",{staticClass:"card-box",attrs:{span:12}},[a("el-card",[a("div",{attrs:{slot:"header"},slot:"header"},[a("span",[e._v("go运行环境")])]),e._v(" "),a("div",{staticClass:"el-table el-table--enable-row-hover el-table--medium"},[a("table",{staticStyle:{width:"100%"},attrs:{cellspacing:"0"}},[a("thead",[a("tr",[a("th",{staticClass:"is-leaf"},[a("div",{staticClass:"cell"},[e._v("属性")])]),e._v(" "),a("th",{staticClass:"is-leaf"},[a("div",{staticClass:"cell"},[e._v("值")])])])]),e._v(" "),a("tbody",[a("tr",[a("td",[a("div",{staticClass:"cell"},[e._v("go version")])]),e._v(" "),a("td",[e.server.os?a("div",{staticClass:"cell"},[e._v(e._s(e.server.os.version))]):e._e()])]),e._v(" "),a("tr",[a("td",[a("div",{staticClass:"cell"},[e._v("Goroutine")])]),e._v(" "),a("td",[e.server.os?a("div",{staticClass:"cell"},[e._v(e._s(e.server.os.numGoroutine))]):e._e()])])])])])])],1),e._v(" "),a("el-col",{staticClass:"card-box",attrs:{span:12}},[a("el-card",[a("div",{attrs:{slot:"header"},slot:"header"},[a("span",[e._v("磁盘状态")])]),e._v(" "),a("div",{staticClass:"el-table el-table--enable-row-hover el-table--medium"},[a("table",{staticStyle:{width:"100%"},attrs:{cellspacing:"0"}},[a("thead",[a("tr",[a("th",{staticClass:"is-leaf"},[a("div",{staticClass:"cell"},[e._v("属性")])]),e._v(" "),a("th",{staticClass:"is-leaf"},[a("div",{staticClass:"cell"},[e._v("值")])])])]),e._v(" "),e.server.disk?a("tbody",[a("tr",[a("td",[a("div",{staticClass:"cell"},[e._v("总共")])]),e._v(" "),a("td",[a("div",{staticClass:"cell"},[e._v(e._s(e.server.disk.total))])])]),e._v(" "),a("tr",[a("td",[a("div",{staticClass:"cell"},[e._v("可用")])]),e._v(" "),a("td",[a("div",{staticClass:"cell"},[e._v(e._s(e.server.disk.free))])])])]):e._e()])])])],1)],1)],1)},s=[],n=a("b775");function o(){return Object(n["a"])({url:"/api/v1/monitor/server",method:"get"})}var l={name:"Server",data:function(){return{loading:[],server:[]}},created:function(){this.getList(),this.openLoading()},methods:{getList:function(){var e=this;o().then((function(t){e.server=t,e.loading.close()}))},openLoading:function(){this.loading=this.$loading({lock:!0,text:"拼命读取中",spinner:"el-icon-loading",background:"rgba(0, 0, 0, 0.7)"})}}},r=l,c=a("2877"),d=Object(c["a"])(r,i,s,!1,null,null,null);t["default"]=d.exports},"2ac3":function(e,t,a){"use strict";a.d(t,"a",(function(){return s})),a.d(t,"e",(function(){return n})),a.d(t,"d",(function(){return o})),a.d(t,"c",(function(){return l})),a.d(t,"b",(function(){return r}));var i=a("b775");function s(e){return Object(i["a"])({url:"/api/v1/tpl",method:"post",data:e})}function n(e){return Object(i["a"])({url:"/api/v1/tpl",method:"get",params:e})}function o(e){return Object(i["a"])({url:"/api/v1/tpl/details",method:"get",params:e})}function l(e){return Object(i["a"])({url:"/api/v1/tpl",method:"put",data:e})}function r(e){return Object(i["a"])({url:"/api/v1/tpl",method:"delete",params:e})}},"2ba7":function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container"},[a("el-card",{staticClass:"box-card"},[a("el-form",{ref:"queryForm",attrs:{model:e.queryParams,inline:!0,"label-width":"68px"}},[a("el-form-item",{attrs:{label:"登录地址"}},[a("el-input",{staticStyle:{width:"240px"},attrs:{placeholder:"请输入登录地址",clearable:"",size:"small"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleQuery(t)}},model:{value:e.queryParams.ipaddr,callback:function(t){e.$set(e.queryParams,"ipaddr",t)},expression:"queryParams.ipaddr"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"用户名称"}},[a("el-input",{staticStyle:{width:"240px"},attrs:{placeholder:"请输入用户名称",clearable:"",size:"small"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleQuery(t)}},model:{value:e.queryParams.username,callback:function(t){e.$set(e.queryParams,"username",t)},expression:"queryParams.username"}})],1),e._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary",icon:"el-icon-search",size:"small"},on:{click:e.handleQuery}},[e._v("搜索")]),e._v(" "),a("el-button",{attrs:{icon:"el-icon-refresh",size:"small"},on:{click:e.resetQuery}},[e._v("重置")])],1)],1),e._v(" "),a("el-row",{staticClass:"mb8",attrs:{gutter:10}},[a("el-col",{attrs:{span:1.5}},[a("el-button",{directives:[{name:"permisaction",rawName:"v-permisaction",value:["system:sysloginlog:remove"],expression:"['system:sysloginlog:remove']"}],attrs:{type:"danger",icon:"el-icon-delete",size:"mini",disabled:e.multiple},on:{click:e.handleDelete}},[e._v("删除")])],1),e._v(" "),a("el-col",{attrs:{span:1.5}},[a("el-button",{directives:[{name:"permisaction",rawName:"v-permisaction",value:["system:sysloginlog:clean"],expression:"['system:sysloginlog:clean']"}],attrs:{type:"danger",icon:"el-icon-delete",size:"mini"},on:{click:e.handleClean}},[e._v("清空")])],1),e._v(" "),a("el-col",{attrs:{span:1.5}},[a("el-button",{directives:[{name:"permisaction",rawName:"v-permisaction",value:["system:sysloginlog:export"],expression:"['system:sysloginlog:export']"}],attrs:{type:"warning",icon:"el-icon-download",size:"mini"},on:{click:e.handleExport}},[e._v("导出")])],1)],1),e._v(" "),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],attrs:{border:"",data:e.list},on:{"selection-change":e.handleSelectionChange}},[a("el-table-column",{attrs:{type:"selection",width:"55",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{label:"编号",width:"100",align:"center",prop:"infoId"}}),e._v(" "),a("el-table-column",{attrs:{label:"用户名称",width:"150",align:"center",prop:"username"}}),e._v(" "),a("el-table-column",{attrs:{label:"登录地址",align:"center",prop:"ipaddr",width:"130","show-overflow-tooltip":!0}}),e._v(" "),a("el-table-column",{attrs:{label:"登录地点",align:"center",prop:"loginLocation"}}),e._v(" "),a("el-table-column",{attrs:{label:"浏览器",align:"center",prop:"browser"}}),e._v(" "),a("el-table-column",{attrs:{label:"操作系统",align:"center",prop:"os"}}),e._v(" "),a("el-table-column",{attrs:{label:"操作信息",width:"120",align:"center",prop:"msg"}}),e._v(" "),a("el-table-column",{attrs:{label:"登录日期",align:"center",prop:"loginTime",width:"180"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(e.parseTime(t.row.loginTime)))])]}}])})],1),e._v(" "),a("pagination",{directives:[{name:"show",rawName:"v-show",value:e.total>0,expression:"total>0"}],attrs:{total:e.total,page:e.queryParams.pageIndex,limit:e.queryParams.pageSize},on:{"update:page":function(t){return e.$set(e.queryParams,"pageIndex",t)},"update:limit":function(t){return e.$set(e.queryParams,"pageSize",t)},pagination:e.getList}})],1)],1)},s=[],n=a("b775");function o(e){return Object(n["a"])({url:"/api/v1/loginloglist",method:"get",params:e})}function l(e){return Object(n["a"])({url:"/api/v1/loginlog/"+e,method:"delete"})}function r(){return Object(n["a"])({url:"/api/v1/loginlog",method:"delete"})}var c=a("ed08"),d={name:"Logininfor",data:function(){return{loading:!0,ids:[],multiple:!0,total:0,list:[],dateRange:[],queryParams:{pageIndex:1,pageSize:10,ipaddr:void 0,username:void 0,status:void 0}}},created:function(){this.getList()},methods:{getList:function(){var e=this;this.loading=!0,o(this.addDateRange(this.queryParams,this.dateRange)).then((function(t){e.list=t.data.list,e.total=t.data.count,e.loading=!1}))},handleQuery:function(){this.queryParams.pageIndex=1,this.getList()},resetQuery:function(){this.dateRange=[],this.resetForm("queryForm"),this.handleQuery()},handleSelectionChange:function(e){this.ids=e.map((function(e){return e.infoId})),this.multiple=!e.length},handleDelete:function(e){var t=this,a=e.infoId||this.ids;this.$confirm('是否确认删除访问编号为"'+a+'"的数据项?',"警告",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){return l(a)})).then((function(){t.getList(),t.msgSuccess("删除成功")})).catch((function(){}))},handleClean:function(){var e=this;this.$confirm("是否确认清空所有登录日志数据项?","警告",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){return r()})).then((function(t){200===t.code&&(e.getList(),e.msgSuccess("清空成功"))})).catch((function(){}))},handleExport:function(){var e=this;this.$confirm("是否确认导出所有操作日志数据项?","警告",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){e.downloadLoading=!0,Promise.all([a.e("chunk-50a983d1"),a.e("chunk-748b566e")]).then(a.bind(null,"4bf8d")).then((function(t){var a=["编号","用户名称","登陆地址","登陆地点","浏览器","操作系统","登陆状态","操作信息","登陆日期"],i=["infoId","username","ipaddr","loginLocation","browser","os","status","msg","loginTime"],s=e.list,n=Object(c["c"])(i,s);t.export_json_to_excel({header:a,data:n,filename:"登陆日志",autoWidth:!0,bookType:"xlsx"}),e.downloadLoading=!1}))}))}}},u=d,p=a("2877"),m=Object(p["a"])(u,i,s,!1,null,null,null);t["default"]=m.exports},"2c76":function(e,t,a){"use strict";var i=a("abf3"),s=a.n(i);s.a},"2ced":function(e,t,a){"use strict";a("ac6a"),a("7f7f");var i=a("db72"),s=a("08a3"),n=a.n(s),o=(a("f5df"),function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-container",{staticClass:"fm2-container"},[a("el-main",{staticClass:"fm2-main"},[a("el-container",[a("el-aside",{attrs:{width:"250px"}},[a("div",{staticClass:"components-list"},[e.basicFields.length?[a("div",{staticClass:"widget-cate"},[e._v(e._s(e.$t("fm.components.basic.title")))]),e._v(" "),a("draggable",e._b({attrs:{tag:"ul",list:e.basicComponents,move:e.handleMove},on:{end:e.handleMoveEnd,start:e.handleMoveStart}},"draggable",{group:{name:"people",pull:"clone",put:!1},sort:!1,ghostClass:"ghost"},!1),[e._l(e.basicComponents,(function(t,i){return[e.basicFields.indexOf(t.type)>=0?a("li",{key:i,staticClass:"form-edit-widget-label",class:{"no-put":"divider"==t.type}},[a("a",[a("i",{staticClass:"icon iconfont",class:t.icon}),e._v(" "),a("span",[e._v(e._s(t.name))])])]):e._e()]}))],2)]:e._e(),e._v(" "),e.advanceFields.length?[a("div",{staticClass:"widget-cate"},[e._v(e._s(e.$t("fm.components.advance.title")))]),e._v(" "),a("draggable",e._b({attrs:{tag:"ul",list:e.advanceComponents,move:e.handleMove},on:{end:e.handleMoveEnd,start:e.handleMoveStart}},"draggable",{group:{name:"people",pull:"clone",put:!1},sort:!1,ghostClass:"ghost"},!1),[e._l(e.advanceComponents,(function(t,i){return[e.advanceFields.indexOf(t.type)>=0?a("li",{key:i,staticClass:"form-edit-widget-label",class:{"no-put":"table"==t.type}},[a("a",[a("i",{staticClass:"icon iconfont",class:t.icon}),e._v(" "),a("span",[e._v(e._s(t.name))])])]):e._e()]}))],2)]:e._e(),e._v(" "),e.layoutFields.length?[a("div",{staticClass:"widget-cate"},[e._v(e._s(e.$t("fm.components.layout.title")))]),e._v(" "),a("draggable",e._b({attrs:{tag:"ul",list:e.layoutComponents,move:e.handleMove},on:{end:e.handleMoveEnd,start:e.handleMoveStart}},"draggable",{group:{name:"people",pull:"clone",put:!1},sort:!1,ghostClass:"ghost"},!1),[e._l(e.layoutComponents,(function(t,i){return[e.layoutFields.indexOf(t.type)>=0?a("li",{key:i,staticClass:"form-edit-widget-label no-put"},[a("a",[a("i",{staticClass:"icon iconfont",class:t.icon}),e._v(" "),a("span",[e._v(e._s(t.name))])])]):e._e()]}))],2)]:e._e()],2)]),e._v(" "),a("el-container",{staticClass:"center-container",attrs:{direction:"vertical"}},[a("el-header",{staticClass:"btn-bar",staticStyle:{height:"45px"}},[e._t("action"),e._v(" "),e.upload?a("el-button",{attrs:{type:"text",size:"medium",icon:"el-icon-upload2"},on:{click:e.handleUpload}},[e._v(e._s(e.$t("fm.actions.import")))]):e._e(),e._v(" "),e.clearable?a("el-button",{attrs:{type:"text",size:"medium",icon:"el-icon-delete"},on:{click:e.handleClear}},[e._v(e._s(e.$t("fm.actions.clear")))]):e._e(),e._v(" "),e.preview?a("el-button",{attrs:{type:"text",size:"medium",icon:"el-icon-view"},on:{click:e.handlePreview}},[e._v(e._s(e.$t("fm.actions.preview")))]):e._e(),e._v(" "),e.generateJson?a("el-button",{attrs:{type:"text",size:"medium",icon:"el-icon-tickets"},on:{click:e.handleGenerateJson}},[e._v(e._s(e.$t("fm.actions.json")))]):e._e(),e._v(" "),e.generateCode?a("el-button",{attrs:{type:"text",size:"medium",icon:"el-icon-document"},on:{click:e.handleGenerateCode}},[e._v(e._s(e.$t("fm.actions.code")))]):e._e()],2),e._v(" "),a("el-main",{class:{"widget-empty":0==e.widgetForm.list.length}},[e.resetJson?e._e():a("widget-form",{ref:"widgetForm",attrs:{data:e.widgetForm,select:e.widgetFormSelect},on:{"update:select":function(t){e.widgetFormSelect=t}}})],1)],1),e._v(" "),a("el-aside",{staticClass:"widget-config-container",staticStyle:{width:"305px"}},[a("el-container",[a("el-header",{attrs:{height:"45px"}},[a("div",{staticClass:"config-tab",class:{active:"widget"==e.configTab},on:{click:function(t){return e.handleConfigSelect("widget")}}},[e._v(e._s(e.$t("fm.config.widget.title")))]),e._v(" "),a("div",{staticClass:"config-tab",class:{active:"form"==e.configTab},on:{click:function(t){return e.handleConfigSelect("form")}}},[e._v(e._s(e.$t("fm.config.form.title")))])]),e._v(" "),a("el-main",{staticClass:"config-content"},[null!==e.widgetFormSelect?a("widget-config",{directives:[{name:"show",rawName:"v-show",value:"widget"==e.configTab,expression:"configTab=='widget'"}],attrs:{data:e.widgetFormSelect}}):e._e(),e._v(" "),a("form-config",{directives:[{name:"show",rawName:"v-show",value:"form"==e.configTab,expression:"configTab=='form'"}],attrs:{data:e.widgetForm.config}})],1)],1)],1),e._v(" "),a("cus-dialog",{ref:"widgetPreview",attrs:{visible:e.previewVisible,width:"1000px",form:""},on:{"on-close":function(t){e.previewVisible=!1}}},[e.previewVisible?a("generate-form",{ref:"generateForm",attrs:{insite:"true",data:e.widgetForm,value:e.widgetModels,remote:e.remoteFuncs},on:{"on-change":e.handleDataChange},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n            Width "),a("el-input",{staticStyle:{width:"100px"},model:{value:t.model.blank.width,callback:function(a){e.$set(t.model.blank,"width",a)},expression:"scope.model.blank.width"}}),e._v("\n            Height "),a("el-input",{staticStyle:{width:"100px"},model:{value:t.model.blank.height,callback:function(a){e.$set(t.model.blank,"height",a)},expression:"scope.model.blank.height"}})]}}],null,!1,232176884)}):e._e(),e._v(" "),a("template",{slot:"action"},[a("el-button",{attrs:{type:"primary"},on:{click:e.handleTest}},[e._v(e._s(e.$t("fm.actions.getData")))]),e._v(" "),a("el-button",{on:{click:e.handleReset}},[e._v(e._s(e.$t("fm.actions.reset")))])],1)],2),e._v(" "),a("cus-dialog",{ref:"uploadJson",attrs:{visible:e.uploadVisible,width:"800px",form:""},on:{"on-close":function(t){e.uploadVisible=!1},"on-submit":e.handleUploadJson}},[a("el-alert",{attrs:{type:"info",title:e.$t("fm.description.uploadJsonInfo")}}),e._v(" "),a("div",{staticStyle:{height:"400px",width:"100%"},attrs:{id:"uploadeditor"}},[e._v(e._s(e.jsonEg))])],1),e._v(" "),a("cus-dialog",{ref:"jsonPreview",attrs:{visible:e.jsonVisible,width:"800px",form:""},on:{"on-close":function(t){e.jsonVisible=!1}}},[a("div",{staticStyle:{height:"400px",width:"100%"},attrs:{id:"jsoneditor"}},[e._v(e._s(e.jsonTemplate))]),e._v(" "),a("template",{slot:"action"},[a("el-button",{staticClass:"json-btn",attrs:{type:"primary","data-clipboard-text":e.jsonCopyValue}},[e._v(e._s(e.$t("fm.actions.copyData")))])],1)],2),e._v(" "),a("cus-dialog",{ref:"codePreview",attrs:{visible:e.codeVisible,width:"800px",form:"",action:!1},on:{"on-close":function(t){e.codeVisible=!1}}},[a("div",{staticStyle:{height:"500px",width:"100%"},attrs:{id:"codeeditor"}},[e._v(e._s(e.htmlTemplate))])])],1)],1),e._v(" "),a("el-footer",{staticStyle:{"font-weight":"600"},attrs:{height:"30px"}},[e._v("Powered by "),a("a",{attrs:{target:"_blank",href:"http://www.fdevops.com"}},[e._v("fdevops")])])],1)}),l=[],r=a("1980"),c=a.n(r),d=function(){var e=this,t=e.$createElement,a=e._self._c||t;return e.show?a("div",[a("el-form",{attrs:{"label-position":"top"}},["grid"!=e.data.type?a("el-form-item",{attrs:{label:e.$t("fm.config.widget.model")}},[a("el-input",{model:{value:e.data.model,callback:function(t){e.$set(e.data,"model",t)},expression:"data.model"}})],1):e._e(),e._v(" "),"grid"!==e.data.type&&"divider"!==e.data.type?a("el-form-item",{attrs:{label:e.$t("fm.config.widget.name")}},[a("el-input",{model:{value:e.data.name,callback:function(t){e.$set(e.data,"name",t)},expression:"data.name"}})],1):e._e(),e._v(" "),Object.keys(e.data.options).indexOf("width")>=0?a("el-form-item",{attrs:{label:e.$t("fm.config.widget.width")}},[a("el-input",{model:{value:e.data.options.width,callback:function(t){e.$set(e.data.options,"width",t)},expression:"data.options.width"}})],1):e._e(),e._v(" "),Object.keys(e.data.options).indexOf("labelWidth")>=0&&"grid"!==e.data.type&&"subform"!==e.data.type&&"divider"!==e.data.type?a("el-form-item",{attrs:{label:e.$t("fm.config.widget.labelWidth")}},[a("el-checkbox",{model:{value:e.data.options.labelWidthDisabled,callback:function(t){e.$set(e.data.options,"labelWidthDisabled",t)},expression:"data.options.labelWidthDisabled"}},[e._v("自定义")]),e._v(" "),a("el-input-number",{attrs:{min:0,step:10,disabled:!e.data.options.labelWidthDisabled},model:{value:e.data.options.labelWidth,callback:function(t){e.$set(e.data.options,"labelWidth",t)},expression:"data.options.labelWidth"}})],1):e._e(),e._v(" "),Object.keys(e.data.options).indexOf("labelWidthStatus")>=0&&"grid"!==e.data.type&&"divider"!==e.data.type?a("el-form-item",{attrs:{label:"显示标签"}},[a("el-switch",{model:{value:e.data.options.labelWidthStatus,callback:function(t){e.$set(e.data.options,"labelWidthStatus",t)},expression:"data.options.labelWidthStatus"}})],1):e._e(),e._v(" "),Object.keys(e.data.options).indexOf("tip")>=0?a("el-form-item",{attrs:{label:e.$t("fm.config.widget.tip")}},[a("el-input",{model:{value:e.data.options.tip,callback:function(t){e.$set(e.data.options,"tip",t)},expression:"data.options.tip"}})],1):e._e(),e._v(" "),Object.keys(e.data.options).indexOf("height")>=0?a("el-form-item",{attrs:{label:e.$t("fm.config.widget.height")}},[a("el-input",{model:{value:e.data.options.height,callback:function(t){e.$set(e.data.options,"height",t)},expression:"data.options.height"}})],1):e._e(),e._v(" "),Object.keys(e.data.options).indexOf("size")>=0?a("el-form-item",{attrs:{label:e.$t("fm.config.widget.size")}},[e._v("\n      "+e._s(e.$t("fm.config.widget.width"))+" "),a("el-input",{staticStyle:{width:"90px"},attrs:{type:"number"},model:{value:e.data.options.size.width,callback:function(t){e.$set(e.data.options.size,"width",e._n(t))},expression:"data.options.size.width"}}),e._v("\n      "+e._s(e.$t("fm.config.widget.height"))+" "),a("el-input",{staticStyle:{width:"90px"},attrs:{type:"number"},model:{value:e.data.options.size.height,callback:function(t){e.$set(e.data.options.size,"height",e._n(t))},expression:"data.options.size.height"}})],1):e._e(),e._v(" "),Object.keys(e.data.options).indexOf("placeholder")>=0&&("time"!=e.data.type||"date"!=e.data.type)?a("el-form-item",{attrs:{label:e.$t("fm.config.widget.placeholder")}},[a("el-input",{model:{value:e.data.options.placeholder,callback:function(t){e.$set(e.data.options,"placeholder",t)},expression:"data.options.placeholder"}})],1):e._e(),e._v(" "),Object.keys(e.data.options).indexOf("inline")>=0?a("el-form-item",{attrs:{label:e.$t("fm.config.widget.layout")}},[a("el-radio-group",{model:{value:e.data.options.inline,callback:function(t){e.$set(e.data.options,"inline",t)},expression:"data.options.inline"}},[a("el-radio-button",{attrs:{label:!1}},[e._v(e._s(e.$t("fm.config.widget.block")))]),e._v(" "),a("el-radio-button",{attrs:{label:!0}},[e._v(e._s(e.$t("fm.config.widget.inline")))])],1)],1):e._e(),e._v(" "),Object.keys(e.data.options).indexOf("showInput")>=0?a("el-form-item",{attrs:{label:e.$t("fm.config.widget.showInput")}},[a("el-switch",{model:{value:e.data.options.showInput,callback:function(t){e.$set(e.data.options,"showInput",t)},expression:"data.options.showInput"}})],1):e._e(),e._v(" "),Object.keys(e.data.options).indexOf("min")>=0?a("el-form-item",{attrs:{label:e.$t("fm.config.widget.min")}},[a("el-input-number",{attrs:{min:0,max:100,step:1},model:{value:e.data.options.min,callback:function(t){e.$set(e.data.options,"min",t)},expression:"data.options.min"}})],1):e._e(),e._v(" "),Object.keys(e.data.options).indexOf("max")>=0?a("el-form-item",{attrs:{label:e.$t("fm.config.widget.max")}},[a("el-input-number",{attrs:{min:0,max:100,step:1},model:{value:e.data.options.max,callback:function(t){e.$set(e.data.options,"max",t)},expression:"data.options.max"}})],1):e._e(),e._v(" "),Object.keys(e.data.options).indexOf("step")>=0?a("el-form-item",{attrs:{label:e.$t("fm.config.widget.step")}},[a("el-input-number",{attrs:{min:0,max:100,step:1},model:{value:e.data.options.step,callback:function(t){e.$set(e.data.options,"step",t)},expression:"data.options.step"}})],1):e._e(),e._v(" "),"select"==e.data.type?a("el-form-item",{attrs:{label:e.$t("fm.config.widget.multiple")}},[a("el-switch",{on:{change:e.handleSelectMuliple},model:{value:e.data.options.multiple,callback:function(t){e.$set(e.data.options,"multiple",t)},expression:"data.options.multiple"}})],1):e._e(),e._v(" "),"select"==e.data.type?a("el-form-item",{attrs:{label:e.$t("fm.config.widget.filterable")}},[a("el-switch",{model:{value:e.data.options.filterable,callback:function(t){e.$set(e.data.options,"filterable",t)},expression:"data.options.filterable"}})],1):e._e(),e._v(" "),Object.keys(e.data.options).indexOf("allowHalf")>=0?a("el-form-item",{attrs:{label:e.$t("fm.config.widget.allowHalf")}},[a("el-switch",{model:{value:e.data.options.allowHalf,callback:function(t){e.$set(e.data.options,"allowHalf",t)},expression:"data.options.allowHalf"}})],1):e._e(),e._v(" "),Object.keys(e.data.options).indexOf("showAlpha")>=0?a("el-form-item",{attrs:{label:e.$t("fm.config.widget.showAlpha")}},[a("el-switch",{model:{value:e.data.options.showAlpha,callback:function(t){e.$set(e.data.options,"showAlpha",t)},expression:"data.options.showAlpha"}})],1):e._e(),e._v(" "),Object.keys(e.data.options).indexOf("showLabel")>=0?a("el-form-item",{attrs:{label:e.$t("fm.config.widget.showLabel")}},[a("el-switch",{model:{value:e.data.options.showLabel,callback:function(t){e.$set(e.data.options,"showLabel",t)},expression:"data.options.showLabel"}})],1):e._e(),e._v(" "),Object.keys(e.data.options).indexOf("options")>=0?a("el-form-item",{attrs:{label:e.$t("fm.config.widget.option")}},[a("el-radio-group",{staticStyle:{"margin-bottom":"10px"},attrs:{size:"mini"},model:{value:e.data.options.remote,callback:function(t){e.$set(e.data.options,"remote",t)},expression:"data.options.remote"}},[a("el-radio-button",{attrs:{label:!1}},[e._v(e._s(e.$t("fm.config.widget.staticData")))]),e._v(" "),a("el-radio-button",{attrs:{label:!0}},[e._v(e._s(e.$t("fm.config.widget.remoteData")))])],1),e._v(" "),e.data.options.remote?[a("div",[a("el-input",{attrs:{size:"mini"},model:{value:e.data.options.remoteFunc,callback:function(t){e.$set(e.data.options,"remoteFunc",t)},expression:"data.options.remoteFunc"}},[a("template",{slot:"prepend"},[e._v(e._s(e.$t("fm.config.widget.remoteFunc")))])],2),e._v(" "),a("el-input",{attrs:{size:"mini"},model:{value:e.data.options.props.value,callback:function(t){e.$set(e.data.options.props,"value",t)},expression:"data.options.props.value"}},[a("template",{slot:"prepend"},[e._v(e._s(e.$t("fm.config.widget.value")))])],2),e._v(" "),a("el-input",{attrs:{size:"mini"},model:{value:e.data.options.props.label,callback:function(t){e.$set(e.data.options.props,"label",t)},expression:"data.options.props.label"}},[a("template",{slot:"prepend"},[e._v(e._s(e.$t("fm.config.widget.label")))])],2),e._v(" "),"cascader"===e.data.type?a("el-input",{attrs:{size:"mini"},model:{value:e.data.options.props.children,callback:function(t){e.$set(e.data.options.props,"children",t)},expression:"data.options.props.children"}},[a("template",{slot:"prepend"},[e._v(e._s(e.$t("fm.config.widget.childrenOption")))])],2):e._e()],1)]:["radio"==e.data.type||"select"==e.data.type&&!e.data.options.multiple?[a("el-radio-group",{model:{value:e.data.options.defaultValue,callback:function(t){e.$set(e.data.options,"defaultValue",t)},expression:"data.options.defaultValue"}},[a("draggable",e._b({attrs:{tag:"ul",list:e.data.options.options,handle:".drag-item"}},"draggable",{group:{name:"options"},ghostClass:"ghost",handle:".drag-item"},!1),e._l(e.data.options.options,(function(t,i){return a("li",{key:i},[a("el-radio",{staticStyle:{"margin-right":"5px"},attrs:{label:t.value}},[a("el-input",{style:{width:e.data.options.showLabel?"90px":"180px"},attrs:{size:"mini"},model:{value:t.value,callback:function(a){e.$set(t,"value",a)},expression:"item.value"}}),e._v(" "),e.data.options.showLabel?a("el-input",{staticStyle:{width:"90px"},attrs:{size:"mini"},model:{value:t.label,callback:function(a){e.$set(t,"label",a)},expression:"item.label"}}):e._e()],1),e._v(" "),a("i",{staticClass:"drag-item",staticStyle:{"font-size":"16px",margin:"0 5px",cursor:"move"}},[a("i",{staticClass:"iconfont icon-icon_bars"})]),e._v(" "),a("el-button",{staticStyle:{padding:"4px","margin-left":"5px"},attrs:{circle:"",plain:"",type:"danger",size:"mini",icon:"el-icon-minus"},on:{click:function(t){return e.handleOptionsRemove(i)}}})],1)})),0)],1)]:e._e(),e._v(" "),"checkbox"==e.data.type||"select"==e.data.type&&e.data.options.multiple?[a("el-checkbox-group",{model:{value:e.data.options.defaultValue,callback:function(t){e.$set(e.data.options,"defaultValue",t)},expression:"data.options.defaultValue"}},[a("draggable",e._b({attrs:{tag:"ul",list:e.data.options.options,handle:".drag-item"}},"draggable",{group:{name:"options"},ghostClass:"ghost",handle:".drag-item"},!1),e._l(e.data.options.options,(function(t,i){return a("li",{key:i},[a("el-checkbox",{staticStyle:{"margin-right":"5px"},attrs:{label:t.value}},[a("el-input",{style:{width:e.data.options.showLabel?"90px":"180px"},attrs:{size:"mini"},model:{value:t.value,callback:function(a){e.$set(t,"value",a)},expression:"item.value"}}),e._v(" "),e.data.options.showLabel?a("el-input",{staticStyle:{width:"90px"},attrs:{size:"mini"},model:{value:t.label,callback:function(a){e.$set(t,"label",a)},expression:"item.label"}}):e._e()],1),e._v(" "),a("i",{staticClass:"drag-item",staticStyle:{"font-size":"16px",margin:"0 5px",cursor:"move"}},[a("i",{staticClass:"iconfont icon-icon_bars"})]),e._v(" "),a("el-button",{staticStyle:{padding:"4px","margin-left":"5px"},attrs:{circle:"",plain:"",type:"danger",size:"mini",icon:"el-icon-minus"},on:{click:function(t){return e.handleOptionsRemove(i)}}})],1)})),0)],1)]:e._e(),e._v(" "),"cascader"===e.data.type?[a("el-tree",{attrs:{data:e.data.options.options,"node-key":"id","default-expand-all":"","expand-on-click-node":!1},scopedSlots:e._u([{key:"default",fn:function(t){var i=t.node,s=t.data;return a("span",{staticClass:"custom-tree-node"},[a("span",{staticStyle:{"font-size":"12px"}},[e._v(e._s(i.label))]),e._v(" "),a("span",[a("el-button",{attrs:{type:"text",size:"mini"},on:{click:function(){return e.appendCascaderDialog(s)}}},[a("i",{staticClass:"el-icon-circle-plus",staticStyle:{"font-size":"15px"}})]),e._v(" "),a("el-button",{attrs:{type:"text",size:"mini"},on:{click:function(){return e.editCascaderData(s)}}},[a("i",{staticClass:"el-icon-edit-outline",staticStyle:{"font-size":"15px"}})]),e._v(" "),a("el-button",{attrs:{type:"text",size:"mini"},on:{click:function(){return e.removeCascaderData(i,s)}}},[a("i",{staticClass:"el-icon-remove",staticStyle:{"font-size":"15px",color:"#f56c6c"}})])],1)])}}],null,!1,1915869788)})]:e._e(),e._v(" "),a("div",{style:"cascader"===e.data.type?{"margin-left":"5px"}:{"margin-left":"22px"}},[a("el-button",{style:"cascader"===e.data.type?{"font-size":"13px"}:{},attrs:{type:"text"},on:{click:function(t){"cascader"===e.data.type?e.handleAddCascaderTopDialog():e.handleAddOption()}}},[e._v("\n            "+e._s(e.$t("fm.actions.addOption"))+"\n          ")])],1)]],2):e._e(),e._v(" "),Object.keys(e.data.options).indexOf("defaultValue")>=0&&("textarea"==e.data.type||"input"==e.data.type||"rate"==e.data.type||"color"==e.data.type||"switch"==e.data.type)?a("el-form-item",{attrs:{label:e.$t("fm.config.widget.defaultValue")}},["textarea"==e.data.type?a("el-input",{attrs:{type:"textarea",rows:5},model:{value:e.data.options.defaultValue,callback:function(t){e.$set(e.data.options,"defaultValue",t)},expression:"data.options.defaultValue"}}):e._e(),e._v(" "),"input"==e.data.type?a("el-input",{model:{value:e.data.options.defaultValue,callback:function(t){e.$set(e.data.options,"defaultValue",t)},expression:"data.options.defaultValue"}}):e._e(),e._v(" "),"rate"==e.data.type?a("el-rate",{staticStyle:{display:"inline-block","vertical-align":"middle"},attrs:{max:e.data.options.max,"allow-half":e.data.options.allowHalf},model:{value:e.data.options.defaultValue,callback:function(t){e.$set(e.data.options,"defaultValue",t)},expression:"data.options.defaultValue"}}):e._e(),e._v(" "),"rate"==e.data.type?a("el-button",{staticStyle:{display:"inline-block","vertical-align":"middle","margin-left":"10px"},attrs:{type:"text"},on:{click:function(t){e.data.options.defaultValue=0}}},[e._v(e._s(e.$t("fm.actions.clear")))]):e._e(),e._v(" "),"color"==e.data.type?a("el-color-picker",{attrs:{"show-alpha":e.data.options.showAlpha},model:{value:e.data.options.defaultValue,callback:function(t){e.$set(e.data.options,"defaultValue",t)},expression:"data.options.defaultValue"}}):e._e(),e._v(" "),"switch"==e.data.type?a("el-switch",{model:{value:e.data.options.defaultValue,callback:function(t){e.$set(e.data.options,"defaultValue",t)},expression:"data.options.defaultValue"}}):e._e()],1):e._e(),e._v(" "),"time"==e.data.type||"date"==e.data.type?["date"==e.data.type?a("el-form-item",{attrs:{label:e.$t("fm.config.widget.showType")}},[a("el-select",{model:{value:e.data.options.type,callback:function(t){e.$set(e.data.options,"type",t)},expression:"data.options.type"}},[a("el-option",{attrs:{value:"year"}}),e._v(" "),a("el-option",{attrs:{value:"month"}}),e._v(" "),a("el-option",{attrs:{value:"date"}}),e._v(" "),a("el-option",{attrs:{value:"dates"}}),e._v(" "),a("el-option",{attrs:{value:"datetime"}}),e._v(" "),a("el-option",{attrs:{value:"datetimerange"}}),e._v(" "),a("el-option",{attrs:{value:"daterange"}})],1)],1):e._e(),e._v(" "),"time"==e.data.type?a("el-form-item",{attrs:{label:e.$t("fm.config.widget.isRange")}},[a("el-switch",{model:{value:e.data.options.isRange,callback:function(t){e.$set(e.data.options,"isRange",t)},expression:"data.options.isRange"}})],1):e._e(),e._v(" "),"date"==e.data.type?a("el-form-item",{attrs:{label:e.$t("fm.config.widget.isTimestamp")}},[a("el-switch",{model:{value:e.data.options.timestamp,callback:function(t){e.$set(e.data.options,"timestamp",t)},expression:"data.options.timestamp"}})],1):e._e(),e._v(" "),!e.data.options.isRange&&"time"==e.data.type||"time"!=e.data.type&&"datetimerange"!=e.data.options.type&&"daterange"!=e.data.options.type?a("el-form-item",{attrs:{label:e.$t("fm.config.widget.placeholder")}},[a("el-input",{model:{value:e.data.options.placeholder,callback:function(t){e.$set(e.data.options,"placeholder",t)},expression:"data.options.placeholder"}})],1):e._e(),e._v(" "),e.data.options.isRange||"datetimerange"==e.data.options.type||"daterange"==e.data.options.type?a("el-form-item",{attrs:{label:e.$t("fm.config.widget.startPlaceholder")}},[a("el-input",{model:{value:e.data.options.startPlaceholder,callback:function(t){e.$set(e.data.options,"startPlaceholder",t)},expression:"data.options.startPlaceholder"}})],1):e._e(),e._v(" "),e.data.options.isRange||"datetimerange"==e.data.options.type||"daterange"==e.data.options.type?a("el-form-item",{attrs:{label:e.$t("fm.config.widget.endPlaceholder")}},[a("el-input",{model:{value:e.data.options.endPlaceholder,callback:function(t){e.$set(e.data.options,"endPlaceholder",t)},expression:"data.options.endPlaceholder"}})],1):e._e(),e._v(" "),a("el-form-item",{attrs:{label:e.$t("fm.config.widget.format")}},[a("el-input",{model:{value:e.data.options.format,callback:function(t){e.$set(e.data.options,"format",t)},expression:"data.options.format"}})],1),e._v(" "),"time"==e.data.type&&Object.keys(e.data.options).indexOf("isRange")>=0?a("el-form-item",{attrs:{label:e.$t("fm.config.widget.defaultValue")}},[e.data.options.isRange?e._e():a("el-time-picker",{key:"1",staticStyle:{width:"100%"},attrs:{"arrow-control":e.data.options.arrowControl,"value-format":e.data.options.format},model:{value:e.data.options.defaultValue,callback:function(t){e.$set(e.data.options,"defaultValue",t)},expression:"data.options.defaultValue"}}),e._v(" "),e.data.options.isRange?a("el-time-picker",{key:"2",staticStyle:{width:"100%"},attrs:{"is-range":"","arrow-control":e.data.options.arrowControl,"value-format":e.data.options.format},model:{value:e.data.options.defaultValue,callback:function(t){e.$set(e.data.options,"defaultValue",t)},expression:"data.options.defaultValue"}}):e._e()],1):e._e()]:e._e(),e._v(" "),"imgupload"==e.data.type||"file"==e.data.type?[a("el-form-item",{attrs:{label:e.$t("fm.config.widget.limit")}},[a("el-input",{attrs:{type:"number"},model:{value:e.data.options.length,callback:function(t){e.$set(e.data.options,"length",e._n(t))},expression:"data.options.length"}})],1),e._v(" "),Object.keys(e.data.options).indexOf("isQiniu")>0?a("el-form-item",{attrs:{label:e.$t("fm.config.widget.isQiniu")}},[a("el-switch",{model:{value:e.data.options.isQiniu,callback:function(t){e.$set(e.data.options,"isQiniu",t)},expression:"data.options.isQiniu"}})],1):e._e(),e._v(" "),e.data.options.isQiniu?[a("el-form-item",{attrs:{label:"Domain",required:!0}},[a("el-input",{model:{value:e.data.options.domain,callback:function(t){e.$set(e.data.options,"domain",t)},expression:"data.options.domain"}})],1),e._v(" "),a("el-form-item",{attrs:{label:e.$t("fm.config.widget.tokenFunc"),required:!0}},[a("el-input",{model:{value:e.data.options.tokenFunc,callback:function(t){e.$set(e.data.options,"tokenFunc",t)},expression:"data.options.tokenFunc"}})],1)]:[a("el-form-item",{attrs:{label:e.$t("fm.config.widget.imageAction"),required:!0}},[a("el-input",{model:{value:e.data.options.action,callback:function(t){e.$set(e.data.options,"action",t)},expression:"data.options.action"}})],1),e._v(" "),a("el-form-item",{attrs:{label:e.$t("fm.config.widget.setHeaders")}},[e._l(e.headers,(function(t,i){return a("el-row",{key:i},[a("el-col",{attrs:{span:10}},[a("el-input",{attrs:{type:"textarea",rows:1,placeholder:"KEY"},model:{value:t.key,callback:function(a){e.$set(t,"key",a)},expression:"uploadItem.key"}})],1),e._v(" "),a("el-col",{staticStyle:{float:"left","margin-left":"10px"},attrs:{span:10}},[a("el-input",{attrs:{type:"textarea",rows:1,placeholder:"VALUE"},model:{value:t.value,callback:function(a){e.$set(t,"value",a)},expression:"uploadItem.value"}})],1),e._v(" "),a("el-col",{attrs:{span:2}},[a("el-button",{staticStyle:{padding:"4px","margin-left":"5px"},attrs:{type:"danger",icon:"el-icon-delete",plain:"",circle:""},on:{click:function(t){return e.handleDelHeader(i)}}})],1)],1)})),e._v(" "),a("el-button",{staticStyle:{"font-size":"12px",color:"#1890ff"},attrs:{type:"text"},on:{click:e.handleAddHeader}},[e._v("添加")])],2)]]:e._e(),e._v(" "),"text"===e.data.type?[a("el-form-item",{attrs:{label:"文字内容"}},[a("el-input",{attrs:{placeholder:"请输入文字内容"},model:{value:e.data.options.defaultValue,callback:function(t){e.$set(e.data.options,"defaultValue",t)},expression:"data.options.defaultValue"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"文字大小"}},[a("el-input",{attrs:{placeholder:"请输入字体大小"},model:{value:e.data.options.font_size,callback:function(t){e.$set(e.data.options,"font_size",t)},expression:"data.options.font_size"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"文字颜色"}},[a("el-input",{attrs:{placeholder:"请输入文字颜色"},model:{value:e.data.options.font_color,callback:function(t){e.$set(e.data.options,"font_color",t)},expression:"data.options.font_color"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"设置粗体"}},[a("el-input",{attrs:{placeholder:"请输入设置粗体"},model:{value:e.data.options.font_weight,callback:function(t){e.$set(e.data.options,"font_weight",t)},expression:"data.options.font_weight"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"字体属性"}},[a("el-input",{attrs:{placeholder:"请输入字体属性"},model:{value:e.data.options.font_family,callback:function(t){e.$set(e.data.options,"font_family",t)},expression:"data.options.font_family"}})],1)]:e._e(),e._v(" "),"divider"===e.data.type?[a("el-form-item",{attrs:{label:"文字内容"}},[a("el-input",{attrs:{placeholder:"请输入文字内容"},model:{value:e.data.options.defaultValue,callback:function(t){e.$set(e.data.options,"defaultValue",t)},expression:"data.options.defaultValue"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"文字位置"}},[a("el-radio-group",{model:{value:e.data.options.content_position,callback:function(t){e.$set(e.data.options,"content_position",t)},expression:"data.options.content_position"}},[a("el-radio-button",{attrs:{label:"left"}},[e._v("左")]),e._v(" "),a("el-radio-button",{attrs:{label:"center"}},[e._v("中间")]),e._v(" "),a("el-radio-button",{attrs:{label:"right"}},[e._v("右")])],1)],1),e._v(" "),a("el-form-item",{attrs:{label:"分割线方向"}},[a("el-radio-group",{model:{value:e.data.options.direction,callback:function(t){e.$set(e.data.options,"direction",t)},expression:"data.options.direction"}},[a("el-radio-button",{attrs:{label:"horizontal"}},[e._v("横")]),e._v(" "),a("el-radio-button",{attrs:{label:"vertical"}},[e._v("竖")])],1)],1),e._v(" "),a("el-form-item",{attrs:{label:"文字大小"}},[a("el-input",{attrs:{placeholder:"请输入字体大小"},model:{value:e.data.options.font_size,callback:function(t){e.$set(e.data.options,"font_size",t)},expression:"data.options.font_size"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"文字颜色"}},[a("el-input",{attrs:{placeholder:"请输入文字颜色"},model:{value:e.data.options.font_color,callback:function(t){e.$set(e.data.options,"font_color",t)},expression:"data.options.font_color"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"设置粗体"}},[a("el-input",{attrs:{placeholder:"请输入设置粗体"},model:{value:e.data.options.font_weight,callback:function(t){e.$set(e.data.options,"font_weight",t)},expression:"data.options.font_weight"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"字体属性"}},[a("el-input",{attrs:{placeholder:"请输入字体属性"},model:{value:e.data.options.font_family,callback:function(t){e.$set(e.data.options,"font_family",t)},expression:"data.options.font_family"}})],1)]:e._e(),e._v(" "),"blank"===e.data.type?[a("el-form-item",{attrs:{label:e.$t("fm.config.widget.defaultType")}},[a("el-select",{model:{value:e.data.options.defaultType,callback:function(t){e.$set(e.data.options,"defaultType",t)},expression:"data.options.defaultType"}},[a("el-option",{attrs:{value:"String",label:e.$t("fm.config.widget.string")}}),e._v(" "),a("el-option",{attrs:{value:"Object",label:e.$t("fm.config.widget.object")}}),e._v(" "),a("el-option",{attrs:{value:"Array",label:e.$t("fm.config.widget.array")}})],1)],1)]:e._e(),e._v(" "),"grid"===e.data.type?[a("el-form-item",{attrs:{label:e.$t("fm.config.widget.gutter")}},[a("el-input",{attrs:{type:"number"},model:{value:e.data.options.gutter,callback:function(t){e.$set(e.data.options,"gutter",e._n(t))},expression:"data.options.gutter"}})],1),e._v(" "),a("el-form-item",{attrs:{label:e.$t("fm.config.widget.columnOption")}},[a("draggable",e._b({attrs:{tag:"ul",list:e.data.columns,handle:".drag-item"}},"draggable",{group:{name:"options"},ghostClass:"ghost",handle:".drag-item"},!1),e._l(e.data.columns,(function(t,i){return a("li",{key:i},[a("i",{staticClass:"drag-item",staticStyle:{"font-size":"16px",margin:"0 5px",cursor:"move"}},[a("i",{staticClass:"iconfont icon-icon_bars"})]),e._v(" "),a("el-input",{staticStyle:{width:"100px"},attrs:{placeholder:e.$t("fm.config.widget.span"),size:"mini",type:"number"},model:{value:t.span,callback:function(a){e.$set(t,"span",e._n(a))},expression:"item.span"}}),e._v(" "),a("el-button",{staticStyle:{padding:"4px","margin-left":"5px"},attrs:{circle:"",plain:"",type:"danger",size:"mini",icon:"el-icon-minus"},on:{click:function(t){return e.handleOptionsRemove(i)}}})],1)})),0),e._v(" "),a("div",{staticStyle:{"margin-left":"22px"}},[a("el-button",{attrs:{type:"text"},on:{click:e.handleAddColumn}},[e._v(e._s(e.$t("fm.actions.addColumn")))])],1)],1),e._v(" "),a("el-form-item",{attrs:{label:e.$t("fm.config.widget.justify")}},[a("el-select",{model:{value:e.data.options.justify,callback:function(t){e.$set(e.data.options,"justify",t)},expression:"data.options.justify"}},[a("el-option",{attrs:{value:"start",label:e.$t("fm.config.widget.justifyStart")}}),e._v(" "),a("el-option",{attrs:{value:"end",label:e.$t("fm.config.widget.justifyEnd")}}),e._v(" "),a("el-option",{attrs:{value:"center",label:e.$t("fm.config.widget.justifyCenter")}}),e._v(" "),a("el-option",{attrs:{value:"space-around",label:e.$t("fm.config.widget.justifySpaceAround")}}),e._v(" "),a("el-option",{attrs:{value:"space-between",label:e.$t("fm.config.widget.justifySpaceBetween")}})],1)],1),e._v(" "),a("el-form-item",{attrs:{label:e.$t("fm.config.widget.align")}},[a("el-select",{model:{value:e.data.options.align,callback:function(t){e.$set(e.data.options,"align",t)},expression:"data.options.align"}},[a("el-option",{attrs:{value:"top",label:e.$t("fm.config.widget.alignTop")}}),e._v(" "),a("el-option",{attrs:{value:"middle",label:e.$t("fm.config.widget.alignMiddle")}}),e._v(" "),a("el-option",{attrs:{value:"bottom",label:e.$t("fm.config.widget.alignBottom")}})],1)],1)]:e._e(),e._v(" "),"grid"!==e.data.type?[a("el-form-item",{attrs:{label:e.$t("fm.config.widget.attribute")}},[Object.keys(e.data.options).indexOf("readonly")>=0?a("el-checkbox",{model:{value:e.data.options.readonly,callback:function(t){e.$set(e.data.options,"readonly",t)},expression:"data.options.readonly"}},[e._v(e._s(e.$t("fm.config.widget.readonly")))]):e._e(),e._v(" "),Object.keys(e.data.options).indexOf("disabled")>=0?a("el-checkbox",{model:{value:e.data.options.disabled,callback:function(t){e.$set(e.data.options,"disabled",t)},expression:"data.options.disabled"}},[e._v(e._s(e.$t("fm.config.widget.disabled"))+"\t")]):e._e(),e._v(" "),Object.keys(e.data.options).indexOf("showPassword")>=0?a("el-checkbox",{model:{value:e.data.options.showPassword,callback:function(t){e.$set(e.data.options,"showPassword",t)},expression:"data.options.showPassword"}},[e._v(e._s(e.$t("fm.config.widget.showPassword"))+"\t")]):e._e(),e._v(" "),Object.keys(e.data.options).indexOf("editable")>=0?a("el-checkbox",{model:{value:e.data.options.editable,callback:function(t){e.$set(e.data.options,"editable",t)},expression:"data.options.editable"}},[e._v(e._s(e.$t("fm.config.widget.editable")))]):e._e(),e._v(" "),Object.keys(e.data.options).indexOf("clearable")>=0?a("el-checkbox",{model:{value:e.data.options.clearable,callback:function(t){e.$set(e.data.options,"clearable",t)},expression:"data.options.clearable"}},[e._v(e._s(e.$t("fm.config.widget.clearable"))+" ")]):e._e(),e._v(" "),Object.keys(e.data.options).indexOf("arrowControl")>=0?a("el-checkbox",{model:{value:e.data.options.arrowControl,callback:function(t){e.$set(e.data.options,"arrowControl",t)},expression:"data.options.arrowControl"}},[e._v(e._s(e.$t("fm.config.widget.arrowControl")))]):e._e(),e._v(" "),Object.keys(e.data.options).indexOf("isDelete")>=0?a("el-checkbox",{model:{value:e.data.options.isDelete,callback:function(t){e.$set(e.data.options,"isDelete",t)},expression:"data.options.isDelete"}},[e._v(e._s(e.$t("fm.config.widget.isDelete")))]):e._e(),e._v(" "),Object.keys(e.data.options).indexOf("isEdit")>=0?a("el-checkbox",{model:{value:e.data.options.isEdit,callback:function(t){e.$set(e.data.options,"isEdit",t)},expression:"data.options.isEdit"}},[e._v(e._s(e.$t("fm.config.widget.isEdit")))]):e._e(),e._v(" "),Object.keys(e.data.options).indexOf("showAllLevels")>=0?a("el-checkbox",{model:{value:e.data.options.showAllLevels,callback:function(t){e.$set(e.data.options,"showAllLevels",t)},expression:"data.options.showAllLevels"}},[e._v(e._s(e.$t("fm.config.widget.showAllLevels")))]):e._e()],1),e._v(" "),a("el-form-item",{attrs:{label:e.$t("fm.config.widget.validate")}},[Object.keys(e.data.options).indexOf("required")>=0?a("div",[a("el-checkbox",{model:{value:e.data.options.required,callback:function(t){e.$set(e.data.options,"required",t)},expression:"data.options.required"}},[e._v(e._s(e.$t("fm.config.widget.required")))])],1):e._e(),e._v(" "),Object.keys(e.data.options).indexOf("dataType")>=0?a("el-select",{attrs:{size:"mini"},model:{value:e.data.options.dataType,callback:function(t){e.$set(e.data.options,"dataType",t)},expression:"data.options.dataType"}},[a("el-option",{attrs:{value:"string",label:e.$t("fm.config.widget.string")}}),e._v(" "),a("el-option",{attrs:{value:"number",label:e.$t("fm.config.widget.number")}}),e._v(" "),a("el-option",{attrs:{value:"boolean",label:e.$t("fm.config.widget.boolean")}}),e._v(" "),a("el-option",{attrs:{value:"integer",label:e.$t("fm.config.widget.integer")}}),e._v(" "),a("el-option",{attrs:{value:"float",label:e.$t("fm.config.widget.float")}}),e._v(" "),a("el-option",{attrs:{value:"url",label:e.$t("fm.config.widget.url")}}),e._v(" "),a("el-option",{attrs:{value:"email",label:e.$t("fm.config.widget.email")}}),e._v(" "),a("el-option",{attrs:{value:"hex",label:e.$t("fm.config.widget.hex")}})],1):e._e(),e._v(" "),Object.keys(e.data.options).indexOf("pattern")>=0?a("div",[a("el-input",{staticStyle:{width:"240px"},attrs:{size:"mini",placeholder:e.$t("fm.config.widget.patternPlaceholder")},model:{value:e.data.options.pattern,callback:function(t){e.$set(e.data.options,"pattern",t)},expression:"data.options.pattern"}})],1):e._e()],1)]:e._e()],2),e._v(" "),a("el-dialog",{attrs:{title:"提示",visible:e.cascaderDialog,width:"30%","append-to-body":"","before-close":e.handleClose},on:{"update:visible":function(t){e.cascaderDialog=t}}},[a("div",[a("el-form",{ref:"addTreeData",attrs:{model:e.addTreeData,"label-width":"80px"}},[a("el-form-item",{attrs:{prop:"label",label:"Label",rules:{required:!0,message:"Label不能为空",trigger:"blur"}}},[a("el-input",{staticStyle:{width:"95%"},model:{value:e.addTreeData.label,callback:function(t){e.$set(e.addTreeData,"label",t)},expression:"addTreeData.label"}})],1),e._v(" "),a("el-form-item",{attrs:{prop:"value",label:"Value",rules:{required:!0,message:"Value不能为空",trigger:"blur"}}},[a("el-input",{staticStyle:{width:"95%"},model:{value:e.addTreeData.value,callback:function(t){e.$set(e.addTreeData,"value",t)},expression:"addTreeData.value"}})],1)],1)],1),e._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.cascaderDialog=!1}}},[e._v("取 消")]),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:function(t){"add"===e.operatingStatus?e.appendCascaderData():e.cascaderDialog=!1}}},[e._v("确 定")])],1)])],1):e._e()},u=[],p=(a("20d6"),a("2d63")),m=(a("456d"),{components:{Draggable:c.a},props:["data"],data:function(){return{selectTreeData:{},addTreeData:{},cascaderDialog:!1,operatingStatus:"add",validator:{type:null,required:null,pattern:null,range:null,length:null},headers:[]}},computed:{show:function(){return!!(this.data&&Object.keys(this.data).length>0)}},watch:{"data.options.isRange":function(e){"undefined"!==typeof e&&(e?this.data.options.defaultValue=null:Object.keys(this.data.options).indexOf("defaultValue")>=0&&(this.data.options.defaultValue=""))},"data.options.required":function(e){this.validateRequired(e)},"data.options.dataType":function(e){this.validateDataType(e)},"data.options.pattern":function(e){this.valiatePattern(e)},"data.name":function(e){this.data.options&&(this.validateRequired(this.data.options.required),this.validateDataType(this.data.options.dataType),this.valiatePattern(this.data.options.pattern))},headers:{handler:function(e){if(this.data.options)if(this.headers.length>0){this.data.options.headers={};var t,a=Object(p["a"])(this.headers);try{for(a.s();!(t=a.n()).done;){var i=t.value;this.data.options.headers[i.key]=i.value}}catch(s){a.e(s)}finally{a.f()}}else this.data.options.headers={}},deep:!0}},created:function(){this.handleInitHeaders()},methods:{handleAddCascaderTopDialog:function(){this.selectTreeData="top",this.addTreeData={},this.cascaderDialog=!0},handleClose:function(){},appendCascaderDialog:function(e){this.operatingStatus="add",this.addTreeData={},this.selectTreeData=e,this.cascaderDialog=!0},appendCascaderData:function(){var e=this;this.$refs["addTreeData"].validate((function(t){t&&("top"===e.selectTreeData?e.data.options.options.push(e.addTreeData):e.selectTreeData.children?e.selectTreeData.children.push(e.addTreeData):e.$set(e.selectTreeData,"children",[e.addTreeData]),e.cascaderDialog=!1)}))},editCascaderData:function(e){this.operatingStatus="edit",this.addTreeData=e,this.cascaderDialog=!0},removeCascaderData:function(e,t){var a=e.parent,i=a.data.children||a.data,s=i.findIndex((function(e){return e.id===t.id}));i.splice(s,1)},handleInitHeaders:function(){if(this.data.options)for(var e in this.data.options.headers)this.headers.push({key:e,value:this.data.options.headers[e]})},handleAddHeader:function(){this.headers.push({key:"",value:""})},handleDelHeader:function(e){this.headers.splice(e,1)},handleOptionsRemove:function(e){"grid"===this.data.type?this.data.columns.splice(e,1):this.data.options.options.splice(e,1)},handleAddOption:function(){this.data.options.showLabel?this.data.options.options.push({value:this.$t("fm.config.widget.newOption"),label:this.$t("fm.config.widget.newOption")}):this.data.options.options.push({value:this.$t("fm.config.widget.newOption")})},handleAddColumn:function(){this.data.columns.push({span:"",list:[]})},generateRule:function(){var e=this;this.data.rules=[],Object.keys(this.validator).forEach((function(t){e.validator[t]&&e.data.rules.push(e.validator[t])}))},handleSelectMuliple:function(e){e?this.data.options.defaultValue?this.data.options.defaultValue=[this.data.options.defaultValue]:this.data.options.defaultValue=[]:this.data.options.defaultValue.length>0?this.data.options.defaultValue=this.data.options.defaultValue[0]:this.data.options.defaultValue=""},validateRequired:function(e){var t=this;this.validator.required=e?{required:!0,message:"".concat(this.data.name).concat(this.$t("fm.config.widget.validatorRequired"))}:null,this.$nextTick((function(){t.generateRule()}))},validateDataType:function(e){if(!this.show)return!1;this.validator.type=e?{type:e,message:this.data.name+this.$t("fm.config.widget.validatorType")}:null,this.generateRule()},valiatePattern:function(e){if(!this.show)return!1;this.validator.pattern=e?{pattern:e,message:this.data.name+this.$t("fm.config.widget.validatorPattern")}:null,this.generateRule()}}}),f=m,h=(a("9e68"),a("2877")),v=Object(h["a"])(f,d,u,!1,null,"deb34b76",null),b=v.exports,g=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"form-config-container"},[a("el-form",{attrs:{"label-position":"top"}},[a("el-form-item",{attrs:{label:e.$t("fm.config.form.labelPosition.title")}},[a("el-radio-group",{model:{value:e.data.labelPosition,callback:function(t){e.$set(e.data,"labelPosition",t)},expression:"data.labelPosition"}},[a("el-radio-button",{attrs:{label:"left"}},[e._v(e._s(e.$t("fm.config.form.labelPosition.left")))]),e._v(" "),a("el-radio-button",{attrs:{label:"right"}},[e._v(e._s(e.$t("fm.config.form.labelPosition.right")))]),e._v(" "),a("el-radio-button",{attrs:{label:"top"}},[e._v(e._s(e.$t("fm.config.form.labelPosition.top")))])],1)],1),e._v(" "),a("el-form-item",{attrs:{label:e.$t("fm.config.form.labelWidth")}},[a("el-input-number",{attrs:{min:0,max:200,step:10},model:{value:e.data.labelWidth,callback:function(t){e.$set(e.data,"labelWidth",t)},expression:"data.labelWidth"}})],1),e._v(" "),a("el-form-item",{attrs:{label:e.$t("fm.config.form.size")}},[a("el-radio-group",{model:{value:e.data.size,callback:function(t){e.$set(e.data,"size",t)},expression:"data.size"}},[a("el-radio-button",{attrs:{label:"medium"}},[e._v("medium")]),e._v(" "),a("el-radio-button",{attrs:{label:"small"}},[e._v("small")]),e._v(" "),a("el-radio-button",{attrs:{label:"mini"}},[e._v("mini")])],1)],1)],1)],1)},_=[],y={props:["data"]},w=y,x=Object(h["a"])(w,g,_,!1,null,null,null),k=x.exports,C=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"widget-form-container"},[0==e.data.list.length?a("div",{staticClass:"form-empty"},[e._v(e._s(e.$t("fm.description.containerEmpty")))]):e._e(),e._v(" "),a("el-form",{attrs:{size:e.data.config.size,"label-suffix":":","label-position":e.data.config.labelPosition,"label-width":e.data.config.labelWidth+"px"}},[a("draggable",e._b({on:{end:e.handleMoveEnd,add:e.handleWidgetAdd},model:{value:e.data.list,callback:function(t){e.$set(e.data,"list",t)},expression:"data.list"}},"draggable",{group:"people",ghostClass:"ghost",animation:200,handle:".drag-widget"},!1),[a("transition-group",{staticClass:"widget-form-list",attrs:{name:"fade",tag:"div"}},[e._l(e.data.list,(function(t,i){return["grid"==t.type?[t&&t.key?a("el-row",{key:t.key,staticClass:"widget-col widget-view",class:{active:e.selectWidget.key==t.key},attrs:{type:"flex",gutter:t.options.gutter?t.options.gutter:0,justify:t.options.justify,align:t.options.align},nativeOn:{click:function(t){return e.handleSelectWidget(i)}}},[e._l(t.columns,(function(i,s){return a("el-col",{key:s,attrs:{span:i.span?i.span:0}},[a("draggable",e._b({attrs:{"no-transition-on-drag":!0},on:{end:e.handleMoveEnd,add:function(a){return e.handleWidgetColAdd(a,t,s)}},model:{value:i.list,callback:function(t){e.$set(i,"list",t)},expression:"col.list"}},"draggable",{group:"people",ghostClass:"ghost",animation:200,handle:".drag-widget"},!1),[a("transition-group",{staticClass:"widget-col-list",attrs:{name:"fade",tag:"div"}},[e._l(i.list,(function(t,s){return[t.key?a("widget-form-item",{key:t.key,attrs:{element:t,select:e.selectWidget,index:s,data:i,"data-config":e.data},on:{"update:select":function(t){e.selectWidget=t}}}):e._e()]}))],2)],1)],1)})),e._v(" "),e.selectWidget.key==t.key?a("div",{staticClass:"widget-view-action widget-col-action"},[a("i",{staticClass:"iconfont icon-trash",on:{click:function(t){return t.stopPropagation(),e.handleWidgetDelete(i)}}})]):e._e(),e._v(" "),e.selectWidget.key==t.key?a("div",{staticClass:"widget-view-drag widget-col-drag"},[a("i",{staticClass:"iconfont icon-drag drag-widget"})]):e._e()],2):e._e()]:"subform"==t.type?[t&&t.key?a("el-row",{key:t.key},[a("el-form-item",{staticClass:"widget-col widget-view",class:{active:e.selectWidget.key===t.key,is_req:t.options.required},attrs:{"label-width":t.options.labelWidthStatus?e.data.config.labelWidth+"px":"0px",label:t.options.labelWidthStatus?t.name:""},nativeOn:{click:function(t){return e.handleSelectWidget(i)}}},[a("div",{class:{active:e.selectWidget.key==t.key},attrs:{type:"flex",gutter:t.options.gutter?t.options.gutter:0,justify:t.options.justify,align:t.options.align}},[e._l(t.columns,(function(i,s){return a("el-col",{key:s,attrs:{span:i.span?i.span:0}},[a("draggable",e._b({attrs:{"no-transition-on-drag":!0},on:{end:e.handleMoveEnd,add:function(a){return e.handleWidgetColAdd(a,t,s)}},model:{value:i.list,callback:function(t){e.$set(i,"list",t)},expression:"col.list"}},"draggable",{group:"people",ghostClass:"ghost",animation:200,handle:".drag-widget"},!1),[a("transition-group",{staticClass:"widget-col-list",staticStyle:{"min-height":"131px","overflow-x":"auto","white-space":"nowrap"},attrs:{name:"fade",tag:"div"}},[e._l(i.list,(function(t,s){return[t&&t.key?a("div",{key:t.key,on:{click:function(t){return e.handleSelectWidget(s)}}},[a("widget-form-item",{attrs:{element:t,select:e.selectWidget,index:s,data:i,"data-config":e.data,"is-label":!0,"is-table":!0},on:{"update:select":function(t){e.selectWidget=t}}})],1):e._e()]}))],2)],1)],1)})),e._v(" "),e.selectWidget.key==t.key?a("div",{staticClass:"widget-view-action widget-col-action"},[a("i",{staticClass:"iconfont icon-trash",on:{click:function(t){return t.stopPropagation(),e.handleWidgetDelete(i)}}})]):e._e(),e._v(" "),e.selectWidget.key==t.key?a("div",{staticClass:"widget-view-drag widget-col-drag"},[a("i",{staticClass:"iconfont icon-drag drag-widget"})]):e._e()],2)])],1):e._e()]:[t&&t.key?a("widget-form-item",{key:t.key,attrs:{element:t,select:e.selectWidget,index:i,"data-config":e.data,data:e.data},on:{"update:select":function(t){e.selectWidget=t}}}):e._e()]]}))],2)],1)],1)],1)},O=[],$=function(){var e=this,t=e.$createElement,a=e._self._c||t;return e.element&&e.element.key?a("el-form-item",{staticClass:"widget-view ",class:{active:e.selectWidget.key===e.element.key,is_req:e.element.options.required},attrs:{"label-width":e.isLabel||!e.element.options.labelWidthStatus?"0px":e.elementLabelWidth+"px",label:e.isLabel||"divider"===e.element.type||!e.element.options.labelWidthStatus?"":e.element.name},nativeOn:{click:function(t){return t.stopPropagation(),e.handleSelectWidget(e.index)}}},[e.isTable?a("div",[a("el-table",{attrs:{data:[e.element],border:""}},[a("el-table-column",{attrs:{label:e.element.name}},[a("WidgetFormFields",{attrs:{element:e.element}})],1)],1)],1):a("div",[a("WidgetFormFields",{attrs:{element:e.element}})],1),e._v(" "),e.selectWidget.key==e.element.key?a("div",{staticClass:"widget-view-action"},[a("i",{staticClass:"iconfont icon-icon_clone",on:{click:function(t){return t.stopPropagation(),e.handleWidgetClone(e.index)}}}),e._v(" "),a("i",{staticClass:"iconfont icon-trash",on:{click:function(t){return t.stopPropagation(),e.handleWidgetDelete(e.index)}}})]):e._e(),e._v(" "),e.selectWidget.key==e.element.key?a("div",{staticClass:"widget-view-drag"},[a("i",{staticClass:"iconfont icon-drag drag-widget"})]):e._e()]):e._e()},S=[],j=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",["input"==e.element.type?[a("el-input",{style:{width:e.element.options.width},attrs:{placeholder:e.element.options.placeholder,disabled:e.element.options.disabled},model:{value:e.element.options.defaultValue,callback:function(t){e.$set(e.element.options,"defaultValue",t)},expression:"element.options.defaultValue"}})]:e._e(),e._v(" "),"textarea"==e.element.type?[a("el-input",{style:{width:e.element.options.width},attrs:{type:"textarea",rows:5,disabled:e.element.options.disabled,placeholder:e.element.options.placeholder},model:{value:e.element.options.defaultValue,callback:function(t){e.$set(e.element.options,"defaultValue",t)},expression:"element.options.defaultValue"}})]:e._e(),e._v(" "),"number"==e.element.type?[a("el-input-number",{style:{width:e.element.options.width},attrs:{disabled:e.element.options.disabled,"controls-position":e.element.options.controlsPosition},model:{value:e.element.options.defaultValue,callback:function(t){e.$set(e.element.options,"defaultValue",t)},expression:"element.options.defaultValue"}})]:e._e(),e._v(" "),"radio"==e.element.type?[a("el-radio-group",{style:{width:e.element.options.width},attrs:{disabled:e.element.options.disabled},model:{value:e.element.options.defaultValue,callback:function(t){e.$set(e.element.options,"defaultValue",t)},expression:"element.options.defaultValue"}},e._l(e.element.options.options,(function(t,i){return a("el-radio",{key:t.value+i,style:{display:e.element.options.inline?"inline-block":"block"},attrs:{label:t.value}},[e._v("\n        "+e._s(e.element.options.showLabel?t.label:t.value)+"\n      ")])})),1)]:e._e(),e._v(" "),"checkbox"==e.element.type?[a("el-checkbox-group",{style:{width:e.element.options.width},attrs:{disabled:e.element.options.disabled},model:{value:e.element.options.defaultValue,callback:function(t){e.$set(e.element.options,"defaultValue",t)},expression:"element.options.defaultValue"}},e._l(e.element.options.options,(function(t,i){return a("el-checkbox",{key:t.value+i,style:{display:e.element.options.inline?"inline-block":"block"},attrs:{label:t.value}},[e._v("\n        "+e._s(e.element.options.showLabel?t.label:t.value)+"\n      ")])})),1)]:e._e(),e._v(" "),"time"==e.element.type?[a("el-time-picker",{style:{width:e.element.options.width},attrs:{"is-range":e.element.options.isRange,placeholder:e.element.options.placeholder,"start-placeholder":e.element.options.startPlaceholder,"end-placeholder":e.element.options.endPlaceholder,readonly:e.element.options.readonly,disabled:e.element.options.disabled,editable:e.element.options.editable,clearable:e.element.options.clearable,"arrow-control":e.element.options.arrowControl},model:{value:e.element.options.defaultValue,callback:function(t){e.$set(e.element.options,"defaultValue",t)},expression:"element.options.defaultValue"}})]:e._e(),e._v(" "),"date"==e.element.type?[a("el-date-picker",{style:{width:e.element.options.width},attrs:{type:e.element.options.type,"is-range":e.element.options.isRange,placeholder:e.element.options.placeholder,"start-placeholder":e.element.options.startPlaceholder,"end-placeholder":e.element.options.endPlaceholder,readonly:e.element.options.readonly,disabled:e.element.options.disabled,editable:e.element.options.editable,clearable:e.element.options.clearable},model:{value:e.element.options.defaultValue,callback:function(t){e.$set(e.element.options,"defaultValue",t)},expression:"element.options.defaultValue"}})]:e._e(),e._v(" "),"rate"==e.element.type?[a("el-rate",{attrs:{max:e.element.options.max,disabled:e.element.options.disabled,"allow-half":e.element.options.allowHalf},model:{value:e.element.options.defaultValue,callback:function(t){e.$set(e.element.options,"defaultValue",t)},expression:"element.options.defaultValue"}})]:e._e(),e._v(" "),"color"==e.element.type?[a("el-color-picker",{attrs:{disabled:e.element.options.disabled,"show-alpha":e.element.options.showAlpha},model:{value:e.element.options.defaultValue,callback:function(t){e.$set(e.element.options,"defaultValue",t)},expression:"element.options.defaultValue"}})]:e._e(),e._v(" "),"select"==e.element.type?[a("el-select",{style:{width:e.element.options.width},attrs:{disabled:e.element.options.disabled,multiple:e.element.options.multiple,clearable:e.element.options.clearable,placeholder:e.element.options.placeholder},model:{value:e.element.options.defaultValue,callback:function(t){e.$set(e.element.options,"defaultValue",t)},expression:"element.options.defaultValue"}},e._l(e.element.options.options,(function(t){return a("el-option",{key:t.value,attrs:{value:t.value,label:e.element.options.showLabel?t.label:t.value}})})),1)]:e._e(),e._v(" "),"switch"==e.element.type?[a("el-switch",{attrs:{disabled:e.element.options.disabled},model:{value:e.element.options.defaultValue,callback:function(t){e.$set(e.element.options,"defaultValue",t)},expression:"element.options.defaultValue"}})]:e._e(),e._v(" "),"slider"==e.element.type?[a("el-slider",{style:{width:e.element.options.width},attrs:{min:e.element.options.min,max:e.element.options.max,disabled:e.element.options.disabled,step:e.element.options.step,"show-input":e.element.options.showInput,range:e.element.options.range},model:{value:e.element.options.defaultValue,callback:function(t){e.$set(e.element.options,"defaultValue",t)},expression:"element.options.defaultValue"}})]:e._e(),e._v(" "),"imgupload"==e.element.type?[a("fm-upload",{style:{width:e.element.options.width},attrs:{disabled:e.element.options.disabled,width:e.element.options.size.width,height:e.element.options.size.height,token:"xxx",domain:"xxx"},model:{value:e.element.options.defaultValue,callback:function(t){e.$set(e.element.options,"defaultValue",t)},expression:"element.options.defaultValue"}})]:e._e(),e._v(" "),"file"==e.element.type?[a("FileUpload",{attrs:{element:e.element}})]:e._e(),e._v(" "),"cascader"==e.element.type?[a("el-cascader",{style:{width:e.element.options.width},attrs:{disabled:e.element.options.disabled,"show-all-levels":e.element.options.showAllLevels,clearable:e.element.options.clearable,placeholder:e.element.options.placeholder,options:e.element.options.remote?e.element.options.remoteOptions:e.element.options.options},model:{value:e.element.options.defaultValue,callback:function(t){e.$set(e.element.options,"defaultValue",t)},expression:"element.options.defaultValue"}})]:e._e(),e._v(" "),"editor"==e.element.type?[a("vue-editor",{style:{width:e.element.options.width},model:{value:e.element.options.defaultValue,callback:function(t){e.$set(e.element.options,"defaultValue",t)},expression:"element.options.defaultValue"}})]:e._e(),e._v(" "),"blank"==e.element.type?[a("div",{staticStyle:{height:"50px",color:"#999",background:"#eee","line-height":"50px","text-align":"center"}},[e._v(e._s(e.$t("fm.components.fields.blank")))])]:e._e(),e._v(" "),"text"===e.element.type?[a("span",{style:{"font-size":e.element.options.font_size,"font-family":e.element.options.font_family,"font-weight":e.element.options.font_weight,color:e.element.options.font_color}},[e._v("\n      "+e._s(e.element.options.defaultValue)+"\n    ")])]:e._e(),e._v(" "),"divider"===e.element.type?[a("el-divider",{attrs:{direction:e.element.options.direction,"content-position":e.element.options.content_position}},[a("span",{style:{"font-size":e.element.options.font_size,"font-family":e.element.options.font_family,"font-weight":e.element.options.font_weight,color:e.element.options.font_color}},[e._v("\n        "+e._s(e.element.options.defaultValue)+"\n      ")])])]:e._e()],2)},F=[],L=a("d7f4"),P=a("157e"),T={name:"WidgetFormFields",props:["element"],components:{FmUpload:L["a"],FileUpload:P["a"]}},I=T,z=Object(h["a"])(I,j,F,!1,null,null,null),D=z.exports,E={components:{WidgetFormFields:D},props:["element","select","index","data","dataConfig","isLabel","isTable"],data:function(){return{elementLabelWidth:"",selectWidget:this.select}},watch:{select:function(e){this.selectWidget=e},selectWidget:{handler:function(e){this.$emit("update:select",e)},deep:!0},"element.options.labelWidth":function(e){this.elementLabelWidth=e},"element.options.labelWidthDisabled":function(e){this.setLabelWidth(e)},"dataConfig.config.labelWidth":function(e){this.element.options.labelWidthDisabled||"divider"===this.element.type||(this.elementLabelWidth=e)}},mounted:function(){this.setLabelWidth()},methods:{setLabelWidth:function(e){void 0===e&&(e=this.element.options.labelWidthDisabled),e?this.elementLabelWidth=this.element.options.labelWidth:"divider"===this.element.type?this.elementLabelWidth=0:this.elementLabelWidth=this.dataConfig.config.labelWidth},handleSelectWidget:function(e){this.selectWidget=this.data.list[e]},handleWidgetDelete:function(e){var t=this;this.data.list.length-1===e?this.selectWidget=0===e?{}:this.data.list[e-1]:this.selectWidget=this.data.list[e+1],this.$nextTick((function(){t.data.list.splice(e,1)}))},handleWidgetClone:function(e){var t=this,a=Object(i["a"])(Object(i["a"])({},this.data.list[e]),{},{options:Object(i["a"])({},this.data.list[e].options),key:Date.parse(new Date)+"_"+Math.ceil(99999*Math.random())});"radio"!==this.data.list[e].type&&"checkbox"!==this.data.list[e].type&&"select"!==this.data.list[e].type||(a=Object(i["a"])(Object(i["a"])({},a),{},{options:Object(i["a"])(Object(i["a"])({},a.options),{},{options:a.options.options.map((function(e){return Object(i["a"])({},e)}))})})),this.data.list.splice(e,0,a),this.$nextTick((function(){t.selectWidget=t.data.list[e+1]}))}}},N=E,V=Object(h["a"])(N,$,S,!1,null,null,null),q=V.exports,W={components:{Draggable:c.a,WidgetFormItem:q},props:["data","select"],data:function(){return{selectWidget:this.select}},watch:{select:function(e){this.selectWidget=e},selectWidget:{handler:function(e){this.$emit("update:select",e)},deep:!0}},mounted:function(){document.body.ondrop=function(e){var t=navigator.userAgent.toLowerCase().indexOf("firefox")>-1;t&&(e.preventDefault(),e.stopPropagation())}},methods:{handleMoveEnd:function(e){e.newIndex,e.oldIndex},handleSelectWidget:function(e){this.selectWidget=this.data.list[e]},handleWidgetAdd:function(e){var t=e.newIndex,a=(e.to,Date.parse(new Date)+"_"+Math.ceil(99999*Math.random()));this.$set(this.data.list,t,Object(i["a"])(Object(i["a"])({},this.data.list[t]),{},{options:Object(i["a"])(Object(i["a"])({},this.data.list[t].options),{},{remoteFunc:"func_"+a}),key:a,model:this.data.list[t].type+"_"+a,rules:[]})),"radio"!==this.data.list[t].type&&"checkbox"!==this.data.list[t].type&&"select"!==this.data.list[t].type||this.$set(this.data.list,t,Object(i["a"])(Object(i["a"])({},this.data.list[t]),{},{options:Object(i["a"])(Object(i["a"])({},this.data.list[t].options),{},{options:this.data.list[t].options.options.map((function(e){return Object(i["a"])({},e)}))})})),"grid"!==this.data.list[t].type&&"subform"!==this.data.list[t].type||this.$set(this.data.list,t,Object(i["a"])(Object(i["a"])({},this.data.list[t]),{},{columns:this.data.list[t].columns.map((function(e){return Object(i["a"])({},e)}))})),this.selectWidget=this.data.list[t]},handleWidgetColAdd:function(e,t,a){var s=e.newIndex,n=e.oldIndex,o=e.item;if(o.className.indexOf("data-grid")>=0)return"DIV"===o.tagName&&this.data.list.splice(n,0,t.columns[a].list[s]),t.columns[a].list.splice(s,1),!1;var l=Date.parse(new Date)+"_"+Math.ceil(99999*Math.random());this.$set(t.columns[a].list,s,Object(i["a"])(Object(i["a"])({},t.columns[a].list[s]),{},{options:Object(i["a"])(Object(i["a"])({},t.columns[a].list[s].options),{},{remoteFunc:"func_"+l}),key:l,model:t.columns[a].list[s].type+"_"+l,rules:[]})),"radio"!==t.columns[a].list[s].type&&"checkbox"!==t.columns[a].list[s].type&&"select"!==t.columns[a].list[s].type||this.$set(t.columns[a].list,s,Object(i["a"])(Object(i["a"])({},t.columns[a].list[s]),{},{options:Object(i["a"])(Object(i["a"])({},t.columns[a].list[s].options),{},{options:t.columns[a].list[s].options.options.map((function(e){return Object(i["a"])({},e)}))})})),this.selectWidget=t.columns[a].list[s]},handleWidgetDelete:function(e){var t=this;this.data.list.length-1===e?this.selectWidget=0===e?{}:this.data.list[e-1]:this.selectWidget=this.data.list[e+1],this.$nextTick((function(){t.data.list.splice(e,1)}))}}},M=W,A=Object(h["a"])(M,C,O,!1,null,null,null),Q=A.exports,R=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-dialog",{ref:"elDialog",staticClass:"cus-dialog-container",attrs:{id:e.id,title:e.title,visible:e.dialogVisible,"close-on-click-modal":!1,"append-to-body":"",center:"",width:e.width},on:{"update:visible":function(t){e.dialogVisible=t}}},[e.show?a("span",[e._t("default")],2):e._e(),e._v(" "),e.action?a("span",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticClass:"dialog-footer",attrs:{slot:"footer","element-loading-text":e.loadingText},slot:"footer"},[e._t("action",[a("el-button",{on:{click:e.close}},[e._v(e._s(e.$t("fm.actions.cancel")))]),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:e.submit}},[e._v(e._s(e.$t("fm.actions.confirm")))])])],2):e._e()])},U=[],B={props:{visible:Boolean,loadingText:{type:String,default:""},title:{type:String,default:""},width:{type:String,default:"600px"},form:{type:Boolean,default:!0},action:{type:Boolean,default:!0}},data:function(){return{loading:!1,dialogVisible:this.visible,id:"dialog_"+(new Date).getTime(),showForm:!1}},computed:{show:function(){return!this.form||this.showForm}},watch:{dialogVisible:function(e){var t=this;e?this.showForm=!0:(this.loading=!1,this.$emit("on-close"),setTimeout((function(){t.showForm=!1}),300))},visible:function(e){this.dialogVisible=e}},mounted:function(){},methods:{close:function(){this.dialogVisible=!1},submit:function(){this.loading=!0,this.$emit("on-submit")},end:function(){this.loading=!1}}},H=B,G=(a("16f0"),Object(h["a"])(H,R,U,!1,null,null,null)),K=G.exports,J=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-form",{ref:"generateForm",attrs:{"label-suffix":":",size:e.data.config.size,model:e.models,rules:e.rules,"label-position":e.data.config.labelPosition,"label-width":e.data.config.labelWidth+"px"}},[e._l(e.data.list,(function(t){return["grid"==t.type?[a("el-row",{key:t.key,attrs:{type:"flex",gutter:t.options.gutter?t.options.gutter:0,justify:t.options.justify,align:t.options.align}},e._l(t.columns,(function(t,i){return a("el-col",{key:i,attrs:{span:t.span}},[e._l(t.list,(function(t){return["blank"==t.type?a("el-form-item",{key:t.key,attrs:{label:t.name,prop:t.model}},[e._t(t.model,null,{model:e.models})],2):a("genetate-form-item",{key:t.key,attrs:{preview:e.preview,models:e.models,remote:e.remote,rules:e.rules,widget:t,data:e.data},on:{"update:models":function(t){e.models=t},"input-change":e.onInputChange}})]}))],2)})),1)]:"blank"==t.type?[a("el-form-item",{key:t.key,attrs:{label:t.name,prop:t.model}},[e._t(t.model,null,{model:e.models})],2)]:e._e(),e._v(" "),"subform"===t.type?[a("el-form-item",{key:t.key,attrs:{"label-width":t.options.labelWidthStatus?t.options.labelWidth+"px":"0px",label:t.options.labelWidthStatus?t.name:"",prop:t.model}},[a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.models[t.model],border:"","header-cell-style":{padding:"5px 0"}}},[e.preview?e._e():a("el-table-column",{attrs:{fixed:"",width:"50"},scopedSlots:e._u([{key:"default",fn:function(i){return[a("i",{staticClass:"el-icon-remove",staticStyle:{"font-size":"25px",color:"red"},on:{click:function(a){return e.delSubformCol(t,i.$index)}}})]}}],null,!0)},[a("template",{slot:"header"},[a("i",{staticClass:"el-icon-circle-plus",staticStyle:{"font-size":"25px",color:"#409EFF",cursor:"pointer"},on:{click:function(a){return e.addSubformCol(t)}}})])],2),e._v(" "),e._l(t.columns,(function(i,s){return[a("div",{key:s},e._l(i.list,(function(i){return a("el-table-column",{key:i.key,attrs:{prop:i.modal,label:i.name,"min-width":"250"},scopedSlots:e._u([{key:"default",fn:function(s){return[a("genetate-form-item",{attrs:{preview:e.preview,models:e.models,rules:e.rules,widget:i,remote:e.remote,data:e.data,disabled:e.disabled,"is-label":!1,"subform-index":s.$index,"subform-model":t.model},on:{"update:models":function(t){e.models=t}}})]}}],null,!0)})})),1)]}))],2)],1)]:[a("genetate-form-item",{key:t.key,attrs:{preview:e.preview,models:e.models,rules:e.rules,widget:t,remote:e.remote,data:e.data,disabled:e.disabled},on:{"update:models":function(t){e.models=t},"input-change":e.onInputChange}})]]}))],2)],1)},Y=[],Z=a("c183"),X=Z["a"],ee=(a("7854"),Object(h["a"])(X,J,Y,!1,null,null,null)),te=ee.exports,ae=a("b311"),ie=a.n(ae),se=[{type:"input",icon:"icon-input",options:{width:"100%",defaultValue:"",required:!1,dataType:"string",pattern:"",placeholder:"",disabled:!1,showPassword:!1,labelWidth:100,labelWidthDisabled:!1,labelWidthStatus:!0}},{type:"textarea",icon:"icon-diy-com-textarea",options:{width:"100%",defaultValue:"",required:!1,disabled:!1,pattern:"",placeholder:"",labelWidth:100,labelWidthDisabled:!1,labelWidthStatus:!0}},{type:"number",icon:"icon-number",options:{width:"",required:!1,defaultValue:0,min:"",max:"",step:1,disabled:!1,controlsPosition:"",labelWidth:100,labelWidthDisabled:!1,labelWidthStatus:!0}},{type:"radio",icon:"icon-radio-active",options:{inline:!1,defaultValue:"",showLabel:!1,options:[{value:"Option 1",label:"Option 1"},{value:"Option 2",label:"Option 2"},{value:"Option 3",label:"Option 3"}],required:!1,width:"",remote:!1,remoteOptions:[],props:{value:"value",label:"label"},remoteFunc:"",disabled:!1,labelWidth:100,labelWidthDisabled:!1,labelWidthStatus:!0}},{type:"checkbox",icon:"icon-check-box",options:{inline:!1,defaultValue:[],showLabel:!1,options:[{value:"Option 1"},{value:"Option 2"},{value:"Option 3"}],required:!1,width:"",remote:!1,remoteOptions:[],props:{value:"value",label:"label"},remoteFunc:"",disabled:!1,labelWidth:100,labelWidthDisabled:!1,labelWidthStatus:!0}},{type:"time",icon:"icon-time",options:{defaultValue:"21:19:56",readonly:!1,disabled:!1,editable:!0,clearable:!0,placeholder:"",startPlaceholder:"",endPlaceholder:"",isRange:!1,arrowControl:!0,format:"HH:mm:ss",required:!1,width:"",labelWidth:100,labelWidthDisabled:!1,labelWidthStatus:!0}},{type:"date",icon:"icon-date",options:{defaultValue:"",readonly:!1,disabled:!1,editable:!0,clearable:!0,placeholder:"",startPlaceholder:"",endPlaceholder:"",type:"date",format:"yyyy-MM-dd",timestamp:!1,required:!1,width:"",labelWidth:100,labelWidthDisabled:!1,labelWidthStatus:!0}},{type:"rate",icon:"icon-pingfen1",options:{defaultValue:null,max:5,disabled:!1,allowHalf:!1,required:!1,labelWidth:100,labelWidthDisabled:!1,labelWidthStatus:!0}},{type:"color",icon:"icon-color",options:{defaultValue:"",disabled:!1,showAlpha:!1,required:!1,labelWidth:100,labelWidthDisabled:!1,labelWidthStatus:!0}},{type:"select",icon:"icon-select",options:{defaultValue:"",multiple:!1,disabled:!1,clearable:!1,placeholder:"",required:!1,showLabel:!1,width:"",options:[{value:"Option 1"},{value:"Option 2"},{value:"Option 3"}],remote:!1,filterable:!1,remoteOptions:[],props:{value:"value",label:"label"},remoteFunc:"",labelWidth:100,labelWidthDisabled:!1,labelWidthStatus:!0}},{type:"switch",icon:"icon-switch",options:{defaultValue:!1,required:!1,disabled:!1,labelWidth:100,labelWidthDisabled:!1,labelWidthStatus:!0}},{type:"slider",icon:"icon-slider",options:{defaultValue:0,disabled:!1,required:!1,min:0,max:100,step:1,showInput:!1,range:!1,width:"",labelWidth:100,labelWidthDisabled:!1,labelWidthStatus:!0}},{type:"text",icon:"icon-wenzishezhi-",options:{font_size:"15px",font_color:"#606266",font_weight:"500",font_family:"",defaultValue:"这是一句话",labelWidthStatus:!0,customClass:"",labelWidth:100,labelWidthDisabled:!1}}],ne=[{type:"blank",icon:"icon-zidingyishuju",options:{defaultType:"String",labelWidth:100,labelWidthDisabled:!1,labelWidthStatus:!0}},{type:"imgupload",icon:"icon-tupian",options:{defaultValue:[],size:{width:100,height:100},width:"",tokenFunc:"funcGetToken",token:"",domain:"http://pfp81ptt6.bkt.clouddn.com/",disabled:!1,length:8,multiple:!1,isQiniu:!1,isDelete:!1,min:0,isEdit:!1,action:"https://jsonplaceholder.typicode.com/photos/",labelWidth:100,labelWidthDisabled:!1,labelWidthStatus:!0}},{type:"file",icon:"icon-wenjianshangchuan",options:{defaultValue:[],width:"",tokenFunc:"funcGetToken",token:"",domain:"http://pfp81ptt6.bkt.clouddn.com/",disabled:!1,length:9,headers:{},tip:"",action:"https://jsonplaceholder.typicode.com/photos/",labelWidth:100,labelWidthDisabled:!1,labelWidthStatus:!0}},{type:"editor",icon:"icon-fuwenbenkuang",options:{defaultValue:"",width:"",labelWidth:100,labelWidthDisabled:!1,labelWidthStatus:!0}},{type:"cascader",icon:"icon-jilianxuanze",options:{defaultValue:[],width:"",placeholder:"",disabled:!1,clearable:!1,remote:!1,remoteOptions:[],showAllLevels:!0,options:[{value:"lanyulei",label:"作者",children:[{value:"character",label:"性格",children:[{value:"good",label:"好"},{value:"well",label:"很好"},{value:"veryGood",label:"非常好"}]},{value:"Handsome",label:"帅气"}]}],props:{value:"value",label:"label",children:"children"},remoteFunc:"",labelWidth:100,labelWidthDisabled:!1,labelWidthStatus:!0}},{type:"subform",icon:"icon-table",columns:[{span:12,list:[]},{span:12,list:[]}],options:{gutter:0,justify:"start",align:"top",labelWidth:100,labelWidthDisabled:!1,labelWidthStatus:!0}}],oe=[{type:"grid",icon:"icon-grid-",columns:[{span:12,list:[]},{span:12,list:[]}],options:{gutter:0,justify:"start",align:"top"}},{type:"divider",icon:"icon-input",options:{defaultValue:"分割线",font_size:"15px",font_color:"#606266",font_weight:"500",font_family:"",direction:"horizontal",content_position:"center"}}],le=a("bc3a"),re=a.n(le),ce=re.a.create({withCredentials:!1});ce.interceptors.request.use((function(e){return e}),(function(e){return Promise.reject(new Error(e).message)})),ce.interceptors.response.use((function(e){return e.data}),(function(e){return Promise.reject(new Error(e).message)}));var de=ce;function ue(e,t,a,i){for(var s=0;s<e.length;s++)"grid"===e[s].type?e[s].columns.forEach((function(e){ue(e.list,t,a,i)})):"blank"===e[s].type?e[s].model&&i.push({name:e[s].model,label:e[s].name}):"imgupload"===e[s].type?e[s].options.tokenFunc&&a.push({func:e[s].options.tokenFunc,label:e[s].name,model:e[s].model}):e[s].options.remote&&e[s].options.remoteFunc&&t.push({func:e[s].options.remoteFunc,label:e[s].name,model:e[s].model})}var pe=function(e){var t=[],a=[],i=[];ue(JSON.parse(e).list,t,a,i);for(var s="",n="",o=0;o<t.length;o++)s+="\n            ".concat(t[o].func," (resolve) {\n              // ").concat(t[o].label," ").concat(t[o].model,"\n              // Call callback function once get the data from remote server\n              // resolve(data)\n            },\n    ");for(var l=0;l<a.length;l++)s+="\n            ".concat(a[l].func," (resolve) {\n              // ").concat(a[l].label," ").concat(a[l].model,"\n              // Call callback function once get the token\n              // resolve(token)\n            },\n    ");for(var r=0;r<i.length;r++)n+='\n        <template slot="'.concat(i[r].name,'" slot-scope="scope">\n          \x3c!-- ').concat(i[r].label,' --\x3e\n          \x3c!-- use v-model="scope.model.').concat(i[r].name,'" to bind data --\x3e\n        </template>\n    ');return'<!DOCTYPE html>\n  <html>\n  <head>\n    <meta charset="UTF-8">\n    <link rel="stylesheet" href="https://unpkg.com/element-ui/lib/theme-chalk/index.css">\n    <link rel="stylesheet" href="https://unpkg.com/form-making/dist/FormMaking.css">\n  </head>\n  <body>\n    <div id="app">\n      <fm-generate-form :data="jsonData" :remote="remoteFuncs" :value="editData" ref="generateForm">\n        '.concat(n,'\n      </fm-generate-form>\n      <el-button type="primary" @click="handleSubmit">提交</el-button>\n    </div>\n    <script src="https://unpkg.com/vue/dist/vue.js"><\/script>\n    <script src="https://unpkg.com/element-ui/lib/index.js"><\/script>\n    <script src="https://unpkg.com/form-making/dist/FormMaking.umd.js"><\/script>\n    <script>\n      new Vue({\n        el: \'#app\',\n        data: {\n          jsonData: ').concat(e,",\n          editData: {},\n          remoteFuncs: {\n            ").concat(s,"\n          }\n        },\n        methods: {\n          handleSubmit () {\n            this.$refs.generateForm.getData().then(data => {\n              // data check success\n              // data - form data\n            }).catch(e => {\n              // data check failed\n            })\n          }\n        }\n      })\n    <\/script>\n  </body>\n  </html>")},me=a("6d4f");me.config.set("basePath","/lib/ace"),me.config.set("modePath","/lib/ace"),me.config.set("themePath","/lib/ace"),window.define=window.define||me.define,window.require=window.require||me.require;var fe={name:"FmMakingForm",components:{Draggable:c.a,WidgetConfig:b,FormConfig:k,WidgetForm:Q,CusDialog:K,GenerateForm:te},props:{preview:{type:Boolean,default:!1},generateCode:{type:Boolean,default:!1},generateJson:{type:Boolean,default:!1},upload:{type:Boolean,default:!1},clearable:{type:Boolean,default:!1},basicFields:{type:Array,default:function(){return["input","textarea","number","radio","checkbox","time","date","rate","color","select","switch","slider","text"]}},advanceFields:{type:Array,default:function(){return["blank","imgupload","editor","cascader"]}},layoutFields:{type:Array,default:function(){return["grid","divider"]}}},data:function(){return{basicComponents:se,layoutComponents:oe,advanceComponents:ne,resetJson:!1,widgetForm:{list:[],config:{labelWidth:100,labelPosition:"right",size:"small"}},configTab:"widget",widgetFormSelect:null,previewVisible:!1,jsonVisible:!1,codeVisible:!1,uploadVisible:!1,remoteFuncs:{func_test:function(e){setTimeout((function(){var t=[{id:"1",name:"1111"},{id:"2",name:"2222"},{id:"3",name:"3333"}];e(t)}),2e3)},funcGetToken:function(e){de.get("http://tools-server.xiaoyaoji.cn/api/uptoken").then((function(t){e(t.uptoken)}))},upload_callback:function(e,t,a){}},widgetModels:{},blank:"",htmlTemplate:"",jsonTemplate:"",uploadEditor:null,jsonCopyValue:"",jsonClipboard:null,jsonEg:'{\n  "list": [],\n  "config": {\n    "labelWidth": 100,\n    "labelPosition": "top",\n    "size": "small"\n  }\n}'}},watch:{widgetForm:{deep:!0,handler:function(e){}},$lang:function(e){this._loadComponents()}},mounted:function(){this._loadComponents()},methods:{_loadComponents:function(){var e=this;this.basicComponents=this.basicComponents.map((function(t){return Object(i["a"])(Object(i["a"])({},t),{},{name:e.$t("fm.components.fields.".concat(t.type))})})),this.advanceComponents=this.advanceComponents.map((function(t){return Object(i["a"])(Object(i["a"])({},t),{},{name:e.$t("fm.components.fields.".concat(t.type))})})),this.layoutComponents=this.layoutComponents.map((function(t){return Object(i["a"])(Object(i["a"])({},t),{},{name:e.$t("fm.components.fields.".concat(t.type))})}))},handleConfigSelect:function(e){this.configTab=e},handleMoveEnd:function(e){},handleMoveStart:function(e){e.oldIndex},handleMove:function(){return!0},handlePreview:function(){this.previewVisible=!0},handleTest:function(){var e=this;this.$refs.generateForm.getData().then((function(t){e.$alert(t,"").catch((function(e){})),e.$refs.widgetPreview.end()})).catch((function(t){e.$refs.widgetPreview.end()}))},handleReset:function(){this.$refs.generateForm.reset()},handleGenerateJson:function(){var e=this;this.jsonVisible=!0,this.jsonTemplate=this.widgetForm,this.$nextTick((function(){var t=me.edit("jsoneditor");t.session.setMode("ace/mode/json"),e.jsonClipboard||(e.jsonClipboard=new ie.a(".json-btn"),e.jsonClipboard.on("success",(function(t){e.$message.success(e.$t("fm.message.copySuccess"))}))),e.jsonCopyValue=JSON.stringify(e.widgetForm)}))},handleGenerateCode:function(){this.codeVisible=!0,this.htmlTemplate=pe(JSON.stringify(this.widgetForm)),this.$nextTick((function(){var e=me.edit("codeeditor");e.session.setMode("ace/mode/html")}))},handleUpload:function(){var e=this;this.uploadVisible=!0,this.$nextTick((function(){e.uploadEditor=me.edit("uploadeditor"),e.uploadEditor.session.setMode("ace/mode/json")}))},handleUploadJson:function(){try{this.setJSON(JSON.parse(this.uploadEditor.getValue())),this.uploadVisible=!1}catch(e){this.$message.error(e.message),this.$refs.uploadJson.end()}},handleClear:function(){this.widgetForm={list:[],config:{labelWidth:100,labelPosition:"right",size:"small",customClass:""}},this.widgetFormSelect={}},getJSON:function(){return this.widgetForm},getHtml:function(){return pe(JSON.stringify(this.widgetForm))},setJSON:function(e){this.widgetForm=e,e.list.length>0&&(this.widgetFormSelect=e.list[0])},handleInput:function(e){this.blank=e},handleDataChange:function(e,t,a){}}},he=fe,ve=(a("3ea0"),Object(h["a"])(he,o,l,!1,null,null,null)),be=ve.exports,ge={fm:{components:{fields:{input:"Input",textarea:"Textarea",number:"Number",radio:"Radio",checkbox:"Checkbox",time:"Time",date:"Date",rate:"Rate",color:"Color",select:"Select",switch:"Switch",slider:"Slider",text:"Text",blank:"Custom",fileupload:"File",imgupload:"Image",editor:"Editor",cascader:"Cascader",table:"Sub-table",grid:"Grid",tabs:"Tabs",divider:"Divider"},basic:{title:"Basic Component"},advance:{title:"Advance Component"},layout:{title:"Layout"}},description:{containerEmpty:"You can drag and drop the item from the left to add components",configEmpty:"Please add a component",tableEmpty:"You can drag and drop the item from the left to add components",uploadJsonInfo:"There is the format of JSON below，you can overwrite it with you own JSON code"},message:{copySuccess:"Copy Successed",validError:"Form data validation failed"},actions:{import:"Import JSON",clear:"Clear",preview:"Preview",json:"Generate JSON",code:"Generate Code",getData:"Get Data",reset:"Reset",copyData:"Copy Data",cancel:"Cancel",confirm:"Confirm",addOption:"Add Option",addColumn:"Add Column",addTab:"Add Tab",upload:"Upload",add:"Add"},config:{form:{title:"Form Attribute",labelPosition:{title:"Label Position",left:"Left",right:"Right",top:"Top"},labelWidth:"Label Width",size:"Size",customClass:"Custom Class"},widget:{title:"Component Attribute",model:"ID",name:"Name",width:"Width",height:"Height",size:"Size",labelWidth:"Label Width",custom:"Custom",placeholder:"Placeholder",layout:"Layout",block:"Block",inline:"Inline",contentPosition:"Content Position",center:"Center",showInput:"Display Input Box",min:"Minimum",max:"Maximum",step:"Step",multiple:"Multiple",filterable:"Searchable",allowHalf:"Allow Half",showAlpha:"Support transparency options",showLabel:"Show lable",option:"Option",staticData:"Static Data",remoteData:"Remote Date",remoteFunc:"Remote Function",value:"Value",label:"Label",childrenOption:"Sub-Option",defaultValue:"Default Value",showType:"Display type",isRange:"Range Time",isTimestamp:"Get time stamp",startPlaceholder:"Placeholder of start time",endPlaceholder:"Placeholder of end time",format:"Format",limit:"Maximum Upload Count",isQiniu:"Upload with Qiniu Cloud",tokenFunc:"A funchtin to get Qiniu Uptoken",imageAction:"Picture upload address",tip:"Text Prompt",action:"Upload Address",defaultType:"Data Type",string:"String",object:"Object",array:"Array",number:"Number",boolean:"Boolean",integer:"Integer",float:"Float",url:"URL",email:"E-mail",hex:"Hexadecimal",gutter:"Grid Spacing",columnOption:"Column Configuration",span:"Grid spans",justify:"Horizontal Arrangement",justifyStart:"Start",justifyEnd:"End",justifyCenter:"Center",justifySpaceAround:"Space Around",justifySpaceBetween:"Space Between",align:"Vertical Arrangement",alignTop:"Top",alignMiddle:"Middle",alignBottom:"Bottom",type:"Type",default:"Default",card:"Tabs",borderCard:"Border-Card",tabPosition:"Tab Position",top:"Tob",left:"Left",right:"Right",bottom:"Bottom",tabOption:"Label Configuration",tabName:"Tab Name",customClass:"Custom Class",attribute:"Attribute Action",dataBind:"Data Binding",hidden:"Hidden",readonly:"Read Only",disabled:"Disabled",editable:"Text box is editable",clearable:"Display Clear Button",arrowControl:"Use the arrow for time selection",isDelete:"Deletable",isEdit:"Editable",showPassword:"Display Password",validate:"Validation",required:"Required",patternPlaceholder:"Fill in the regular expressions",newOption:"New Option",tab:"Tab",validatorRequired:"Required",validatorType:"Invaild format",validatorPattern:"Unmatched pattern"}},upload:{preview:"preview",edit:"replace",delete:"delete"}}},_e={fm:{components:{fields:{input:"单行文本",textarea:"多行文本",number:"计数器",radio:"单选框组",checkbox:"多选框组",time:"时间选择器",date:"日期选择器",rate:"评分",color:"颜色选择器",select:"下拉选择框",switch:"开关",slider:"滑块",text:"文字",blank:"自定义区域",fileupload:"文件",imgupload:"图片",editor:"编辑器",cascader:"级联选择器",table:"子表单",subform:"子表单",grid:"栅格布局",tabs:"标签页",divider:"分割线",file:"文件"},basic:{title:"基础字段"},advance:{title:"高级字段"},layout:{title:"布局字段"}},description:{containerEmpty:"从左侧拖拽来添加字段",configEmpty:"请添加字段",tableEmpty:"从左侧拖拽来添加字段",uploadJsonInfo:"JSON格式如下，直接复制生成的json覆盖此处代码点击确定即可"},message:{copySuccess:"复制成功",validError:"表单数据校验失败"},actions:{import:"导入JSON",clear:"清空",preview:"预览",json:"生成JSON",code:"生成代码",getData:"获取数据",reset:"重置",copyData:"复制数据",cancel:"取 消",confirm:"确 定",addOption:"添加选项",addColumn:"添加列",addTab:"添加标签",upload:"点击上传",add:"添加"},config:{form:{title:"表单属性",labelPosition:{title:"标签对齐方式",left:"左对齐",right:"右对齐",top:"顶部对齐"},labelWidth:"表单标签宽度",size:"组件尺寸",customClass:"自定义Class"},widget:{title:"字段属性",model:"字段标识",name:"标题",width:"宽度",height:"高度",size:"大小",labelWidth:"标签宽度",custom:"自定义",placeholder:"占位内容",layout:"布局方式",block:"块级",inline:"行内",contentPosition:"文案位置",center:"居中",showInput:"显示输入框",min:"最小值",max:"最大值",step:"步长",multiple:"是否多选",filterable:"是否可搜索",allowHalf:"允许半选",showAlpha:"支持透明度选择",showLabel:"是否显示标签",option:"选项",staticData:"静态数据",remoteData:"远端数据",remoteFunc:"远端方法",value:"值",label:"标签",childrenOption:"子选项",defaultValue:"默认值",showType:"显示类型",isRange:"是否为范围选择",isTimestamp:"是否获取时间戳",startPlaceholder:"开始时间占位内容",endPlaceholder:"结束时间占位内容",format:"格式",limit:"最大上传数",isQiniu:"使用七牛上传",tokenFunc:"获取七牛Token方法",setHeaders:"设置上传的请求头部",imageAction:"图片上传地址",tip:"提示说明文字",action:"上传地址",defaultType:"绑定数据类型",string:"字符串",object:"对象",array:"数组",number:"数字",boolean:"布尔值",integer:"整数",float:"浮点数",url:"URL地址",email:"邮箱地址",hex:"十六进制",gutter:"栅格间隔",columnOption:"列配置项",span:"栅格值",justify:"水平排列方式",justifyStart:"左对齐",justifyEnd:"右对齐",justifyCenter:"居中",justifySpaceAround:"两侧间隔相等",justifySpaceBetween:"两端对齐",align:"垂直排列方式",alignTop:"顶部对齐",alignMiddle:"居中",alignBottom:"底部对齐",type:"风格类型",default:"默认",card:"选项卡",borderCard:"卡片化",tabPosition:"选项卡位置",top:"顶部",left:"左侧",right:"右侧",bottom:"底部",tabOption:"标签配置项",tabName:"标签名称",customClass:"自定义Class",attribute:"操作属性",dataBind:"数据绑定",hidden:"隐藏",readonly:"完全只读",disabled:"禁用",editable:"文本框可输入",clearable:"显示清除按钮",arrowControl:"使用箭头进行时间选择",isDelete:"删除",isEdit:"编辑",showPassword:"密码",validate:"校验",required:"必填",patternPlaceholder:"填写正则表达式",newOption:"新选项",tab:"标签页",validatorRequired:"必须填写",validatorType:"格式不正确",validatorPattern:"格式不匹配",showAllLevels:"完整路径"}},upload:{preview:"预览",edit:"替换",delete:"删除"}}};a("3163"),a("f757"),a("4241");a.d(t,"b",(function(){return be})),a.d(t,"a",(function(){return te}));var ye=function(e,t,a,s){a?(a("en-US",Object(i["a"])(Object(i["a"])({},a("en-US")),ge)),a("zh-CN",Object(i["a"])(Object(i["a"])({},a("zh-CN")),_e)),e.config.lang=t):s?(s.setLocaleMessage("en-US",Object(i["a"])(Object(i["a"])({},s.messages["en-US"]),ge)),s.setLocaleMessage("zh-CN",Object(i["a"])(Object(i["a"])({},s.messages["zh-CN"]),_e)),s.locale=t):(e.use(n.a),e.locale("en-US",Object(i["a"])(Object(i["a"])({},e.locale("en-US")),ge)),e.locale("zh-CN",Object(i["a"])(Object(i["a"])({},e.locale("zh-CN")),_e)),e.config.lang=t)};be.install=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{lang:"zh-CN",locale:null,i18n:null};ye(e,t.lang,t.locale,t.i18n),e.component(be.name,be)},te.install=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{lang:"zh-CN",locale:null,i18n:null};ye(e,t.lang,t.locale,t.i18n),e.component(te.name,te)};var we=[be,te],xe=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{lang:"zh-CN",locale:null,i18n:null};ye(e,t.lang,t.locale,t.i18n),we.forEach((function(t){e.component(t.name,t)}))};"undefined"!==typeof window&&window.Vue&&xe(window.Vue)},"2cff":function(e,t,a){"use strict";var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-form-item",{style:void 0!==e.subformIndex?{"margin-bottom":"0"}:{},attrs:{"label-width":!1!==e.isLabel&&e.widget.options.labelWidthStatus?e.widgetLabelWidth+"px":"0px",label:!1!==e.isLabel&&"divider"!==e.widget.type&&e.widget.options.labelWidthStatus?e.widget.name:"",prop:e.widget.model}},[e.preview?["color"===e.widget.type?[a("div",{staticStyle:{width:"32px",height:"20px","margin-top":"6px","border-radius":"3px"},style:{"background-color":e.dataModel}})]:"switch"==e.widget.type?[a("el-switch",{attrs:{disabled:!0},model:{value:e.dataModel,callback:function(t){e.dataModel=t},expression:"dataModel"}})]:"editor"===e.widget.type?[a("div",{staticClass:"previewEditorDiv",domProps:{innerHTML:e._s(e.dataModel)}})]:e._e(),e._v(" "),"file"==e.widget.type?e._l(e.dataModel,(function(t,i){return a("div",{key:i},[a("i",{staticClass:"el-icon-document",staticStyle:{color:"#909399"}}),e._v(" "),a("a",{attrs:{href:t.url,target:"_blank"}},[e._v(e._s(t.name))])])})):"imgupload"==e.widget.type?[a("fm-upload",{style:{width:e.widget.options.width},attrs:{width:e.widget.options.size.width,height:e.widget.options.size.height,preview:e.preview},model:{value:e.dataModel,callback:function(t){e.dataModel=t},expression:"dataModel"}})]:"rate"==e.widget.type?[a("el-rate",{attrs:{max:e.widget.options.max,disabled:!0,"allow-half":e.widget.options.allowHalf},model:{value:e.dataModel,callback:function(t){e.dataModel=t},expression:"dataModel"}})]:"divider"===e.widget.type?[a("el-divider",{attrs:{direction:e.widget.options.direction,"content-position":e.widget.options.content_position}},[a("span",{style:{"font-size":e.widget.options.font_size,"font-family":e.widget.options.font_family,"font-weight":e.widget.options.font_weight,color:e.widget.options.font_color}},[e._v("\n          "+e._s(e.widget.options.defaultValue)+"\n        ")])])]:"input"===e.widget.type&&e.widget.options.showPassword?[a("input",{staticStyle:{border:"none","background-color":"#ffffff",color:"#303133"},attrs:{type:"password",disabled:"disabled"},domProps:{value:e.dataModel}})]:"cascader"===e.widget.type?[a("el-cascader",{staticClass:"preview-cascader-class",attrs:{disabled:!0,"show-all-levels":e.widget.options.showAllLevels,options:e.widget.options.remote?e.widget.options.remoteOptions:e.widget.options.options},model:{value:e.dataModel,callback:function(t){e.dataModel=t},expression:"dataModel"}})]:[a("div",[e._v("\n        "+e._s(e.dataModel)+"\n      ")])]]:["input"===e.widget.type?["number"===e.widget.options.dataType||"integer"===e.widget.options.dataType||"float"===e.widget.options.dataType?a("el-input",{style:{width:e.widget.options.width},attrs:{type:e.widget.options.dataType,placeholder:e.widget.options.placeholder,disabled:e.widget.options.disabled,"show-password":e.widget.options.showPassword},model:{value:e.dataModel,callback:function(t){e.dataModel=e._n(t)},expression:"dataModel"}}):a("el-input",{style:{width:e.widget.options.width},attrs:{type:e.widget.options.dataType,disabled:e.widget.options.disabled,placeholder:e.widget.options.placeholder,"show-password":e.widget.options.showPassword},model:{value:e.dataModel,callback:function(t){e.dataModel=t},expression:"dataModel"}})]:e._e(),e._v(" "),"textarea"===e.widget.type?[a("el-input",{style:{width:e.widget.options.width},attrs:{type:"textarea",rows:5,disabled:e.widget.options.disabled,placeholder:e.widget.options.placeholder},model:{value:e.dataModel,callback:function(t){e.dataModel=t},expression:"dataModel"}})]:e._e(),e._v(" "),"number"===e.widget.type?[a("el-input-number",{style:{width:e.widget.options.width},attrs:{step:e.widget.options.step,"controls-position":"right",disabled:e.widget.options.disabled},model:{value:e.dataModel,callback:function(t){e.dataModel=t},expression:"dataModel"}})]:e._e(),e._v(" "),"radio"===e.widget.type?[a("el-radio-group",{style:{width:e.widget.options.width},attrs:{disabled:e.widget.options.disabled},model:{value:e.dataModel,callback:function(t){e.dataModel=t},expression:"dataModel"}},e._l(e.widget.options.remote?e.widget.options.remoteOptions:e.widget.options.options,(function(t,i){return a("el-radio",{key:i,style:{display:e.widget.options.inline?"inline-block":"block"},attrs:{label:t.value}},[e.widget.options.remote?[e._v(e._s(t.label))]:[e._v(e._s(e.widget.options.showLabel?t.label:t.value))]],2)})),1)]:e._e(),e._v(" "),"checkbox"===e.widget.type?[a("el-checkbox-group",{style:{width:e.widget.options.width},attrs:{disabled:e.widget.options.disabled},model:{value:e.dataModel,callback:function(t){e.dataModel=t},expression:"dataModel"}},e._l(e.widget.options.remote?e.widget.options.remoteOptions:e.widget.options.options,(function(t,i){return a("el-checkbox",{key:i,style:{display:e.widget.options.inline?"inline-block":"block"},attrs:{label:t.value}},[e.widget.options.remote?[e._v(e._s(t.label))]:[e._v(e._s(e.widget.options.showLabel?t.label:t.value))]],2)})),1)]:e._e(),e._v(" "),"time"===e.widget.type?[a("el-time-picker",{style:{width:e.widget.options.width},attrs:{"is-range":e.widget.options.isRange,placeholder:e.widget.options.placeholder,"start-placeholder":e.widget.options.startPlaceholder,"end-placeholder":e.widget.options.endPlaceholder,readonly:e.widget.options.readonly,disabled:e.widget.options.disabled,editable:e.widget.options.editable,clearable:e.widget.options.clearable,"arrow-control":e.widget.options.arrowControl,"value-format":e.widget.options.format},model:{value:e.dataModel,callback:function(t){e.dataModel=t},expression:"dataModel"}})]:e._e(),e._v(" "),"date"==e.widget.type?[a("el-date-picker",{style:{width:e.widget.options.width},attrs:{type:e.widget.options.type,placeholder:e.widget.options.placeholder,"start-placeholder":e.widget.options.startPlaceholder,"end-placeholder":e.widget.options.endPlaceholder,readonly:e.widget.options.readonly,disabled:e.widget.options.disabled,editable:e.widget.options.editable,clearable:e.widget.options.clearable,"value-format":e.widget.options.timestamp?"timestamp":e.widget.options.format,format:e.widget.options.format},model:{value:e.dataModel,callback:function(t){e.dataModel=t},expression:"dataModel"}})]:e._e(),e._v(" "),"rate"==e.widget.type?[a("el-rate",{attrs:{max:e.widget.options.max,disabled:e.widget.options.disabled,"allow-half":e.widget.options.allowHalf},model:{value:e.dataModel,callback:function(t){e.dataModel=t},expression:"dataModel"}})]:e._e(),e._v(" "),"color"===e.widget.type?[a("el-color-picker",{attrs:{disabled:e.widget.options.disabled,"show-alpha":e.widget.options.showAlpha},model:{value:e.dataModel,callback:function(t){e.dataModel=t},expression:"dataModel"}})]:e._e(),e._v(" "),"select"===e.widget.type?[a("el-select",{style:{width:e.widget.options.width},attrs:{disabled:e.widget.options.disabled,multiple:e.widget.options.multiple,clearable:e.widget.options.clearable,placeholder:e.widget.options.placeholder,filterable:e.widget.options.filterable},model:{value:e.dataModel,callback:function(t){e.dataModel=t},expression:"dataModel"}},e._l(e.widget.options.remote?e.widget.options.remoteOptions:e.widget.options.options,(function(t){return a("el-option",{key:t.value,attrs:{value:t.value,label:e.widget.options.showLabel||e.widget.options.remote?t.label:t.value}})})),1)]:e._e(),e._v(" "),"switch"==e.widget.type?[a("el-switch",{attrs:{disabled:e.widget.options.disabled},model:{value:e.dataModel,callback:function(t){e.dataModel=t},expression:"dataModel"}})]:e._e(),e._v(" "),"slider"==e.widget.type?[a("el-slider",{style:{width:e.widget.options.width},attrs:{min:e.widget.options.min,max:e.widget.options.max,disabled:e.widget.options.disabled,step:e.widget.options.step,"show-input":e.widget.options.showInput,range:e.widget.options.range},model:{value:e.dataModel,callback:function(t){e.dataModel=t},expression:"dataModel"}})]:e._e(),e._v(" "),"imgupload"==e.widget.type?[a("fm-upload",{style:{width:e.widget.options.width},attrs:{disabled:e.widget.options.disabled,width:e.widget.options.size.width,height:e.widget.options.size.height,token:e.widget.options.token,domain:e.widget.options.domain,multiple:e.widget.options.multiple,length:e.widget.options.length,"is-qiniu":e.widget.options.isQiniu,"is-delete":e.widget.options.isDelete,min:e.widget.options.min,"is-edit":e.widget.options.isEdit,action:e.widget.options.action},model:{value:e.dataModel,callback:function(t){e.dataModel=t},expression:"dataModel"}})]:e._e(),e._v(" "),"file"==e.widget.type?[a("FileUpload",{attrs:{element:e.widget}})]:e._e(),e._v(" "),"editor"===e.widget.type?[a("vue-editor",{style:{width:e.widget.options.width},attrs:{disabled:e.widget.options.disabled},model:{value:e.dataModel,callback:function(t){e.dataModel=t},expression:"dataModel"}})]:e._e(),e._v(" "),"cascader"===e.widget.type?[a("el-cascader",{style:{width:e.widget.options.width},attrs:{disabled:e.widget.options.disabled,"show-all-levels":e.widget.options.showAllLevels,clearable:e.widget.options.clearable,placeholder:e.widget.options.placeholder,options:e.widget.options.remote?e.widget.options.remoteOptions:e.widget.options.options},model:{value:e.dataModel,callback:function(t){e.dataModel=t},expression:"dataModel"}})]:e._e(),e._v(" "),"text"===e.widget.type?[a("span",{style:{"font-size":e.widget.options.font_size,"font-family":e.widget.options.font_family,"font-weight":e.widget.options.font_weight,color:e.widget.options.font_color}},[e._v("\n        "+e._s(e.widget.options.defaultValue)+"\n      ")])]:e._e(),e._v(" "),"divider"===e.widget.type?[a("el-divider",{attrs:{direction:e.widget.options.direction,"content-position":e.widget.options.content_position}},[a("span",{style:{"font-size":e.widget.options.font_size,"font-family":e.widget.options.font_family,"font-weight":e.widget.options.font_weight,color:e.widget.options.font_color}},[e._v("\n          "+e._s(e.widget.options.defaultValue)+"\n        ")])])]:e._e()]],2)},s=[],n=a("bd86"),o=a("db72"),l=a("d7f4"),r=a("157e"),c={name:"GenetateFormItem",components:{FmUpload:l["a"],FileUpload:r["a"]},props:["widget","models","rules","remote","data","disabled","preview","isLabel","subformIndex","subformModel"],data:function(){return{widgetLabelWidth:"",dataModel:void 0===this.subformIndex?this.models[this.widget.model]:this.models[this.subformModel][this.subformIndex][this.widget.model],tableData:[]}},watch:{dataModel:{deep:!0,handler:function(e){void 0!==e&&null!==e&&(void 0!==this.subformIndex?(this.models[this.subformModel][this.subformIndex][this.widget.model]=e,this.$emit("update:models",Object(o["a"])(Object(o["a"])({},this.models),{},Object(n["a"])({},this.subformModel,this.models[this.subformModel])))):(this.models[this.widget.model]=e,this.$emit("update:models",Object(o["a"])(Object(o["a"])({},this.models),{},Object(n["a"])({},this.widget.model,e)))))}},models:{deep:!0,handler:function(e){void 0===e.status&&null===e.status&&(void 0===this.subformIndex?this.dataModel=e[this.widget.model]:this.dataModel=e[this.subformModel][this.subformIndex][this.widget.model]),delete this.models.status}}},created:function(){var e=this;this.widget.options.remote&&this.remote[this.widget.options.remoteFunc]&&this.remote[this.widget.options.remoteFunc]((function(t){e.widget.options.remoteOptions=t.map((function(t){return{value:t[e.widget.options.props.value],label:t[e.widget.options.props.label],children:t[e.widget.options.props.children]}}))})),"imgupload"===this.widget.type&&this.widget.options.isQiniu&&this.remote[this.widget.options.tokenFunc]((function(t){e.widget.options.token=t})),void 0!==this.disabled&&null!==this.disabled&&(this.widget.options.disabled=this.disabled),this.widget.options.labelWidthDisabled?this.widgetLabelWidth=this.widget.options.labelWidth:"divider"===this.widget.type?this.widgetLabelWidth=0:this.widgetLabelWidth=this.data.config.labelWidth},methods:{}},d=c,u=(a("4060"),a("2877")),p=Object(u["a"])(d,i,s,!1,null,null,null);t["a"]=p.exports},"2dde":function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-form",{ref:"form",attrs:{model:e.user,rules:e.rules,"label-width":"80px"}},[a("el-form-item",{attrs:{label:"用户昵称",prop:"nickName"}},[a("el-input",{model:{value:e.user.nickName,callback:function(t){e.$set(e.user,"nickName",t)},expression:"user.nickName"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"手机号码",prop:"phone"}},[a("el-input",{attrs:{maxlength:"11"},model:{value:e.user.phone,callback:function(t){e.$set(e.user,"phone",t)},expression:"user.phone"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"邮箱",prop:"email"}},[a("el-input",{attrs:{maxlength:"50"},model:{value:e.user.email,callback:function(t){e.$set(e.user,"email",t)},expression:"user.email"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"性别"}},[a("el-radio-group",{model:{value:e.user.sex,callback:function(t){e.$set(e.user,"sex",t)},expression:"user.sex"}},[a("el-radio",{attrs:{label:"0"}},[e._v("男")]),e._v(" "),a("el-radio",{attrs:{label:"1"}},[e._v("女")])],1)],1),e._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:e.submit}},[e._v("保存")]),e._v(" "),a("el-button",{attrs:{type:"danger",size:"mini"},on:{click:e.close}},[e._v("关闭")])],1)],1)},s=[],n=a("b150"),o={props:{user:{type:Object}},data:function(){return{rules:{nickName:[{required:!0,message:"用户昵称不能为空",trigger:"blur"}],email:[{required:!0,message:"邮箱地址不能为空",trigger:"blur"},{type:"email",message:"'请输入正确的邮箱地址",trigger:["blur","change"]}],phone:[{required:!0,message:"手机号码不能为空",trigger:"blur"},{pattern:/^1[3|4|5|6|7|8|9][0-9]\d{8}$/,message:"请输入正确的手机号码",trigger:"blur"}]}}},methods:{submit:function(){var e=this;this.$refs["form"].validate((function(t){t&&Object(n["k"])(e.user).then((function(t){200===t.code?e.msgSuccess("修改成功"):e.msgError(t.msg)}))}))},close:function(){this.$store.dispatch("tagsView/delView",this.$route),this.$router.push({path:"/dashboard"})}}},l=o,r=a("2877"),c=Object(r["a"])(l,i,s,!1,null,null,null);t["default"]=c.exports},3:function(e,t){},3163:function(e,t,a){},"34ef":function(e,t,a){"use strict";var i=a("ce30"),s=a.n(i);s.a},"36ef":function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{class:e.className,style:{height:e.height,width:e.width}})},s=[],n=a("313e"),o=a.n(n),l=a("a7dc");a("817d");var r={mixins:[l["default"]],props:{className:{type:String,default:"chart"},width:{type:String,default:"100%"},height:{type:String,default:"350px"},autoResize:{type:Boolean,default:!0},statisticsData:{type:Object,required:!0}},data:function(){return{chart:null}},watch:{statisticsData:{deep:!0,handler:function(e){this.setOptions(e)}}},mounted:function(){var e=this;this.$nextTick((function(){e.initChart()}))},beforeDestroy:function(){this.chart&&(this.chart.dispose(),this.chart=null)},methods:{initChart:function(){this.chart=o.a.init(this.$el,"macarons"),this.setOptions(this.statisticsData)},setOptions:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};e.expectedData,e.actualData;this.chart.setOption({title:{text:"最近7天工单统计",textStyle:{fontSize:15}},tooltip:{trigger:"axis"},legend:{data:["工单总数","待办工单","已完成工单"]},grid:{left:"25",right:"45",bottom:"20",top:"50",containLabel:!0},xAxis:{type:"category",boundaryGap:!1,data:this.statisticsData.datetime},yAxis:{type:"value"},series:[{name:"工单总数",type:"line",data:this.statisticsData.total},{name:"待办工单",type:"line",data:this.statisticsData.processing},{name:"已完成工单",type:"line",data:this.statisticsData.overs}]})}}},c=r,d=a("2877"),u=Object(d["a"])(c,i,s,!1,null,null,null);t["default"]=u.exports},"37a3":function(e,t,a){},3823:function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-form",{ref:"form",attrs:{model:e.user,rules:e.rules,"label-width":"80px"}},[a("el-form-item",{attrs:{label:"旧密码",prop:"oldPassword"}},[a("el-input",{attrs:{placeholder:"请输入旧密码",type:"password"},model:{value:e.user.oldPassword,callback:function(t){e.$set(e.user,"oldPassword",t)},expression:"user.oldPassword"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"新密码",prop:"newPassword"}},[a("el-input",{attrs:{placeholder:"请输入新密码",type:"password"},model:{value:e.user.newPassword,callback:function(t){e.$set(e.user,"newPassword",t)},expression:"user.newPassword"}})],1),e._v(" "),a("el-form-item",{staticStyle:{"/* margin-bottom":"10px */"},attrs:{label:"确认密码",prop:"confirmPassword"}},[a("el-input",{attrs:{placeholder:"请确认密码",type:"password"},model:{value:e.user.confirmPassword,callback:function(t){e.$set(e.user,"confirmPassword",t)},expression:"user.confirmPassword"}})],1),e._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:e.submit}},[e._v("保存")]),e._v(" "),a("el-button",{attrs:{type:"danger",size:"mini"},on:{click:e.close}},[e._v("关闭")])],1)],1)},s=[],n=a("b150"),o={data:function(){var e=this,t=function(t,a,i){e.user.newPassword!==a?i(new Error("两次输入的密码不一致")):i()};return{passwordTyleStatus:!0,user:{oldPassword:void 0,newPassword:void 0,confirmPassword:void 0,passwordType:1},rules:{oldPassword:[{required:!0,message:"旧密码不能为空",trigger:"blur"}],newPassword:[{required:!0,message:"新密码不能为空",trigger:"blur"},{min:6,max:20,message:"长度在 6 到 20 个字符",trigger:"blur"}],confirmPassword:[{required:!0,message:"确认密码不能为空",trigger:"blur"},{required:!0,validator:t,trigger:"blur"}]}}},methods:{submit:function(){var e=this;this.$refs["form"].validate((function(t){t&&(e.passwordTyleStatus||(e.user.passwordType=0),e.user.passwordType=0,Object(n["l"])(e.user.oldPassword,e.user.newPassword,e.user.passwordType).then((function(t){200===t.code?e.msgSuccess("修改成功"):e.msgError(t.msg)})))}))},close:function(){this.$store.dispatch("tagsView/delView",this.$route),this.$router.push({path:"/index"})}}},l=o,r=a("2877"),c=Object(r["a"])(l,i,s,!1,null,null,null);t["default"]=c.exports},3944:function(e,t,a){},"3c30":function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container"},[a("el-card",{staticClass:"box-card"},[a("el-form",{ref:"listQuery",attrs:{model:e.listQuery,inline:!0}},[a("el-form-item",{attrs:{label:"工单标题"}},[a("el-input",{staticStyle:{width:"240px"},attrs:{placeholder:"请输入工单标题",clearable:"",size:"small"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.getList(t)}},model:{value:e.listQuery.title,callback:function(t){e.$set(e.listQuery,"title",t)},expression:"listQuery.title"}})],1),e._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary",icon:"el-icon-search",size:"small"},on:{click:e.getList}},[e._v("搜索")])],1)],1),e._v(" "),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],attrs:{border:"",data:e.ticketList},on:{"selection-change":e.handleSelectionChange}},[a("el-table-column",{attrs:{label:"ID",prop:"id",width:"120"}}),e._v(" "),a("el-table-column",{attrs:{label:"标题",prop:"title","show-overflow-tooltip":!0}}),e._v(" "),a("el-table-column",{attrs:{label:"当前状态","show-overflow-tooltip":!0},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v("\n            "+e._s(t.row.state_name)+"\n          ")])]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"当前处理人","show-overflow-tooltip":!0},scopedSlots:e._u([{key:"default",fn:function(t){return[0===t.row.is_end?a("span",[e._v(e._s(t.row.principals))]):e._e()]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"优先级","show-overflow-tooltip":!0,width:"120",align:"left"},scopedSlots:e._u([{key:"default",fn:function(t){return[2===t.row.priority?a("span",[a("el-tag",{attrs:{type:"warning"}},[e._v("紧急")])],1):3===t.row.priority?a("span",[a("el-tag",{attrs:{type:"danger"}},[e._v("非常紧急")])],1):a("span",[a("el-tag",{attrs:{type:"success"}},[e._v("一般")])],1)]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"是否结束","show-overflow-tooltip":!0,width:"80",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[0===t.row.is_end?a("el-tag",{attrs:{size:"mini",type:"success"}},[e._v("否")]):a("el-tag",{attrs:{size:"mini",type:"danger"}},[e._v("是")])]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"创建时间",align:"center",prop:"create_time",width:"180"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(e.parseTime(t.row.create_time)))])]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"操作",align:"center","class-name":"small-padding fixed-width",width:"180"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{directives:[{name:"permisaction",rawName:"v-permisaction",value:["process:list:upcoming:select"],expression:"['process:list:upcoming:select']"}],attrs:{size:"mini",type:"text",icon:"el-icon-edit"},on:{click:function(a){return e.handleView(t.row)}}},[e._v("查看")]),e._v(" "),0===t.row.is_end?a("el-button",{directives:[{name:"permisaction",rawName:"v-permisaction",value:["process:list:upcoming:inversion"],expression:"['process:list:upcoming:inversion']"}],attrs:{size:"mini",type:"text",icon:"el-icon-position"},on:{click:function(a){return e.handleInversion(t.row)}}},[e._v("转交")]):e._e()]}}])})],1),e._v(" "),a("el-dialog",{attrs:{title:"转交工单",visible:e.dialogVisible,width:"30%"},on:{"update:visible":function(t){e.dialogVisible=t}}},[a("el-form",{ref:"ruleForm",staticClass:"demo-ruleForm",attrs:{model:e.ruleForm,rules:e.rules,"label-width":"60px"}},[a("el-form-item",{attrs:{label:"节点",prop:"node_id"}},[a("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"选择节点",size:"small"},model:{value:e.ruleForm.node_id,callback:function(t){e.$set(e.ruleForm,"node_id",t)},expression:"ruleForm.node_id"}},e._l(e.nodeList,(function(e,t){return a("el-option",{key:t,attrs:{label:e.label,value:e.id}})})),1)],1),e._v(" "),a("el-form-item",{attrs:{label:"用户",prop:"user_id"}},[a("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"选择用户",size:"small"},model:{value:e.ruleForm.user_id,callback:function(t){e.$set(e.ruleForm,"user_id",t)},expression:"ruleForm.user_id"}},e._l(e.users,(function(e,t){return a("el-option",{key:t,attrs:{label:e.nickName,value:e.userId}})})),1)],1),e._v(" "),a("el-form-item",{attrs:{label:"备注"}},[a("el-input",{attrs:{type:"textarea",size:"small"},model:{value:e.ruleForm.remarks,callback:function(t){e.$set(e.ruleForm,"remarks",t)},expression:"ruleForm.remarks"}})],1),e._v(" "),a("el-form-item",{staticStyle:{"text-align":"right"}},[a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.submitForm("ruleForm")}}},[e._v("提交")]),e._v(" "),a("el-button",{on:{click:function(t){e.dialogVisible=!1}}},[e._v("关闭")])],1)],1)],1),e._v(" "),a("pagination",{directives:[{name:"show",rawName:"v-show",value:e.total>0,expression:"total>0"}],attrs:{total:e.total,page:e.queryParams.pageIndex,limit:e.queryParams.pageSize},on:{"update:page":function(t){return e.$set(e.queryParams,"pageIndex",t)},"update:limit":function(t){return e.$set(e.queryParams,"pageSize",t)},pagination:e.getList}})],1)],1)},s=[],n=a("6da4"),o=a("b150"),l={data:function(){return{users:[],nodeList:[],dialogVisible:!1,queryParams:{},total:0,loading:!1,ticketList:[],listQuery:{page:1,per_page:10},ruleForm:{work_order_id:"",node_id:"",user_id:"",remarks:""},rules:{node_id:[{required:!0,message:"请选择节点",trigger:"change"}],user_id:[{required:!0,message:"请选择用户",trigger:"change"}]}}},created:function(){this.getList()},methods:{getList:function(){var e=this;this.loading=!0,this.listQuery.page=this.queryParams.pageIndex,this.listQuery.per_page=this.queryParams.pageSize,this.listQuery.classify=1,Object(n["i"])(this.listQuery).then((function(t){e.ticketList=t.data.data,e.queryParams.pageIndex=t.data.page,e.queryParams.pageSize=t.data.per_page,e.total=t.data.total_count,e.loading=!1}))},handleView:function(e){this.$router.push({name:"ProcessListHandle",query:{workOrderId:e.id,processId:e.process}})},handleInversion:function(e){var t=this;this.dialogVisible=!0,this.ruleForm.work_order_id=e.id,this.nodeList=e.state,1===this.nodeList.length&&(this.ruleForm.node_id=this.nodeList[0].id),Object(o["i"])({pageSize:999999}).then((function(e){t.users=e.data.list}))},handleSelectionChange:function(){},submitForm:function(e){var t=this;this.$refs[e].validate((function(e){e&&Object(n["e"])(t.ruleForm).then((function(e){200===e.code&&(t.getList(),t.dialogVisible=!1)}))}))}}},r=l,c=a("2877"),d=Object(c["a"])(r,i,s,!1,null,"a8833e36",null);t["default"]=d.exports},"3c50":function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container"},[a("el-card",{staticClass:"box-card"},[a("el-form",{ref:"listQuery",attrs:{model:e.listQuery,inline:!0}},[a("el-form-item",{attrs:{label:"工单标题"}},[a("el-input",{staticStyle:{width:"240px"},attrs:{placeholder:"请输入工单标题",clearable:"",size:"small"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.getList(t)}},model:{value:e.listQuery.title,callback:function(t){e.$set(e.listQuery,"title",t)},expression:"listQuery.title"}})],1),e._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary",icon:"el-icon-search",size:"small"},on:{click:e.getList}},[e._v("搜索")])],1)],1),e._v(" "),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],attrs:{border:"",data:e.ticketList},on:{"selection-change":e.handleSelectionChange}},[a("el-table-column",{attrs:{label:"ID",prop:"id",width:"120"}}),e._v(" "),a("el-table-column",{attrs:{label:"标题",prop:"title","show-overflow-tooltip":!0}}),e._v(" "),a("el-table-column",{attrs:{label:"当前状态","show-overflow-tooltip":!0},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v("\n            "+e._s(t.row.state_name)+"\n          ")])]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"当前处理人","show-overflow-tooltip":!0},scopedSlots:e._u([{key:"default",fn:function(t){return[0===t.row.is_end?a("span",[e._v(e._s(t.row.principals))]):e._e()]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"优先级","show-overflow-tooltip":!0,width:"120",align:"left"},scopedSlots:e._u([{key:"default",fn:function(t){return[2===t.row.priority?a("span",[a("el-tag",{attrs:{type:"warning"}},[e._v("紧急")])],1):3===t.row.priority?a("span",[a("el-tag",{attrs:{type:"danger"}},[e._v("非常紧急")])],1):a("span",[a("el-tag",{attrs:{type:"success"}},[e._v("一般")])],1)]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"是否结束","show-overflow-tooltip":!0,width:"80",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[0===t.row.is_end?a("el-tag",{attrs:{size:"mini",type:"success"}},[e._v("否")]):a("el-tag",{attrs:{size:"mini",type:"danger"}},[e._v("是")])]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"创建时间",align:"center",prop:"create_time",width:"180"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(e.parseTime(t.row.create_time)))])]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"操作",align:"center","class-name":"small-padding fixed-width",width:"180"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{directives:[{name:"permisaction",rawName:"v-permisaction",value:["process:list:myCreate:select"],expression:"['process:list:myCreate:select']"}],attrs:{size:"mini",type:"text",icon:"el-icon-edit"},on:{click:function(a){return e.handleView(t.row)}}},[e._v("查看")]),e._v(" "),0===t.row.is_end?a("el-button",{directives:[{name:"permisaction",rawName:"v-permisaction",value:["process:list:upcoming:urge"],expression:"['process:list:upcoming:urge']"}],attrs:{size:"mini",type:"text",icon:"el-icon-alarm-clock"},on:{click:function(a){return e.handleUrge(t.row)}}},[e._v("催办")]):e._e()]}}])})],1),e._v(" "),a("pagination",{directives:[{name:"show",rawName:"v-show",value:e.total>0,expression:"total>0"}],attrs:{total:e.total,page:e.queryParams.pageIndex,limit:e.queryParams.pageSize},on:{"update:page":function(t){return e.$set(e.queryParams,"pageIndex",t)},"update:limit":function(t){return e.$set(e.queryParams,"pageSize",t)},pagination:e.getList}})],1)],1)},s=[],n=a("6da4"),o={data:function(){return{users:[],nodeList:[],queryParams:{},total:0,loading:!1,ticketList:[],listQuery:{page:1,per_page:10},ruleForm:{work_order_id:"",node_id:"",user_id:"",remarks:""},rules:{node_id:[{required:!0,message:"请选择节点",trigger:"change"}],user_id:[{required:!0,message:"请选择用户",trigger:"change"}]}}},created:function(){this.getList()},methods:{getList:function(){var e=this;this.loading=!0,this.listQuery.page=this.queryParams.pageIndex,this.listQuery.per_page=this.queryParams.pageSize,this.listQuery.classify=2,Object(n["i"])(this.listQuery).then((function(t){e.ticketList=t.data.data,e.queryParams.pageIndex=t.data.page,e.queryParams.pageSize=t.data.per_page,e.total=t.data.total_count,e.loading=!1}))},handleView:function(e){this.$router.push({name:"ProcessListHandle",query:{workOrderId:e.id,processId:e.process}})},handleSelectionChange:function(){},handleUrge:function(e){var t=this;this.$confirm('<span style="font-size:15px ">对此工单处理人进行催办通知提醒, 是否继续?</span><br><span style="color: #c33; font-size: 10px">注意：十分钟内只能催办一次。</span>',"催办",{dangerouslyUseHTMLString:!0,confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){Object(n["h"])({workOrderId:e.id}).then((function(e){t.$message({type:"success",message:"已进行催办通知!"})}))})).catch((function(){t.$message({type:"info",message:"已取消"})}))}}},l=o,r=a("2877"),c=Object(r["a"])(l,i,s,!1,null,"31205e13",null);t["default"]=c.exports},"3ea0":function(e,t,a){"use strict";var i=a("56bf"),s=a.n(i);s.a},"3f2c":function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"dashboard-editor-container"},[a("panel-group",{attrs:{"panel-group-value":e.dashboardValue.panelGroup}}),e._v(" "),a("el-row",{staticStyle:{background:"#fff",padding:"16px 16px 0","margin-bottom":"32px"}},[a("line-chart",{attrs:{"statistics-data":e.dashboardValue.statisticsData}})],1),e._v(" "),a("el-row",{attrs:{gutter:32}},[a("el-col",{attrs:{xs:24,sm:24,lg:8}},[a("div",{staticClass:"chart-wrapper"},[a("TicketSubmissionRanking",{attrs:{"submit-ranking-data":e.dashboardValue.submitRankingData}})],1)]),e._v(" "),a("el-col",{attrs:{xs:24,sm:24,lg:16}},[a("div",{staticClass:"chart-wrapper"},[a("processOrderList",{attrs:{"process-order-list":e.dashboardValue.processOrderList}})],1)])],1)],1)},s=[],n=a("6768"),o=a("36ef"),l=a("ed66"),r=a("0431"),c={name:"DashboardAdmin",components:{PanelGroup:n["default"],LineChart:o["default"],TicketSubmissionRanking:l["default"],processOrderList:r["default"]},props:["dashboardValue"],data:function(){return{}}},d=c,u=(a("1e54"),a("2877")),p=Object(u["a"])(d,i,s,!1,null,"0d1abac5",null);t["default"]=p.exports},"3f88":function(e,t,a){"use strict";var i=a("6b50"),s=a.n(i);s.a},4060:function(e,t,a){"use strict";var i=a("0a35"),s=a.n(i);s.a},"40d1":function(e,t,a){"use strict";a.d(t,"a",(function(){return s})),a.d(t,"d",(function(){return n})),a.d(t,"e",(function(){return o})),a.d(t,"b",(function(){return l})),a.d(t,"c",(function(){return r}));var i=a("b775");function s(e){return Object(i["a"])({url:"/api/v1/task",method:"post",data:e})}function n(e){return Object(i["a"])({url:"/api/v1/task",method:"get",params:e})}function o(e){return Object(i["a"])({url:"/api/v1/task",method:"put",data:e})}function l(e){return Object(i["a"])({url:"/api/v1/task",method:"delete",params:e})}function r(e){return Object(i["a"])({url:"/api/v1/task/details",method:"get",params:e})}},4241:function(e,t,a){},4678:function(e,t,a){var i={"./af":"2bfb","./af.js":"2bfb","./ar":"8e73","./ar-dz":"a356","./ar-dz.js":"a356","./ar-kw":"423e","./ar-kw.js":"423e","./ar-ly":"1cfd","./ar-ly.js":"1cfd","./ar-ma":"0a84","./ar-ma.js":"0a84","./ar-sa":"8230","./ar-sa.js":"8230","./ar-tn":"6d83","./ar-tn.js":"6d83","./ar.js":"8e73","./az":"485c","./az.js":"485c","./be":"1fc1","./be.js":"1fc1","./bg":"84aa","./bg.js":"84aa","./bm":"a7fa","./bm.js":"a7fa","./bn":"9043","./bn.js":"9043","./bo":"d26a","./bo.js":"d26a","./br":"6887","./br.js":"6887","./bs":"2554","./bs.js":"2554","./ca":"d716","./ca.js":"d716","./cs":"3c0d","./cs.js":"3c0d","./cv":"03ec","./cv.js":"03ec","./cy":"9797","./cy.js":"9797","./da":"0f14","./da.js":"0f14","./de":"b469","./de-at":"b3eb","./de-at.js":"b3eb","./de-ch":"bb71","./de-ch.js":"bb71","./de.js":"b469","./dv":"598a","./dv.js":"598a","./el":"8d47","./el.js":"8d47","./en-au":"0e6b","./en-au.js":"0e6b","./en-ca":"3886","./en-ca.js":"3886","./en-gb":"39a6","./en-gb.js":"39a6","./en-ie":"e1d3","./en-ie.js":"e1d3","./en-il":"73332","./en-il.js":"73332","./en-in":"ec2e","./en-in.js":"ec2e","./en-nz":"6f50","./en-nz.js":"6f50","./en-sg":"b7e9","./en-sg.js":"b7e9","./eo":"65db","./eo.js":"65db","./es":"898b","./es-do":"0a3c","./es-do.js":"0a3c","./es-us":"55c9","./es-us.js":"55c9","./es.js":"898b","./et":"ec18","./et.js":"ec18","./eu":"0ff2","./eu.js":"0ff2","./fa":"8df48","./fa.js":"8df48","./fi":"81e9","./fi.js":"81e9","./fil":"d69a","./fil.js":"d69a","./fo":"0721","./fo.js":"0721","./fr":"9f26","./fr-ca":"d9f8","./fr-ca.js":"d9f8","./fr-ch":"0e49","./fr-ch.js":"0e49","./fr.js":"9f26","./fy":"7118","./fy.js":"7118","./ga":"5120","./ga.js":"5120","./gd":"f6b46","./gd.js":"f6b46","./gl":"8840","./gl.js":"8840","./gom-deva":"aaf2","./gom-deva.js":"aaf2","./gom-latn":"0caa","./gom-latn.js":"0caa","./gu":"e0c5","./gu.js":"e0c5","./he":"c7aa","./he.js":"c7aa","./hi":"dc4d","./hi.js":"dc4d","./hr":"4ba9","./hr.js":"4ba9","./hu":"5b14","./hu.js":"5b14","./hy-am":"d6b6","./hy-am.js":"d6b6","./id":"5038","./id.js":"5038","./is":"0558","./is.js":"0558","./it":"6e98","./it-ch":"6f12","./it-ch.js":"6f12","./it.js":"6e98","./ja":"079e","./ja.js":"079e","./jv":"b540","./jv.js":"b540","./ka":"201b","./ka.js":"201b","./kk":"6d79","./kk.js":"6d79","./km":"e81d","./km.js":"e81d","./kn":"3e92","./kn.js":"3e92","./ko":"22f8","./ko.js":"22f8","./ku":"2421","./ku.js":"2421","./ky":"9609","./ky.js":"9609","./lb":"440c","./lb.js":"440c","./lo":"b29d","./lo.js":"b29d","./lt":"26f9","./lt.js":"26f9","./lv":"b97c","./lv.js":"b97c","./me":"293c","./me.js":"293c","./mi":"688b","./mi.js":"688b","./mk":"6909","./mk.js":"6909","./ml":"02fb","./ml.js":"02fb","./mn":"958b","./mn.js":"958b","./mr":"39bd","./mr.js":"39bd","./ms":"ebe4","./ms-my":"6403","./ms-my.js":"6403","./ms.js":"ebe4","./mt":"1b45","./mt.js":"1b45","./my":"8689","./my.js":"8689","./nb":"6ce3","./nb.js":"6ce3","./ne":"3a39","./ne.js":"3a39","./nl":"facd","./nl-be":"db29","./nl-be.js":"db29","./nl.js":"facd","./nn":"b84c","./nn.js":"b84c","./oc-lnc":"167b","./oc-lnc.js":"167b","./pa-in":"f3ff","./pa-in.js":"f3ff","./pl":"8d57","./pl.js":"8d57","./pt":"f260","./pt-br":"d2d4","./pt-br.js":"d2d4","./pt.js":"f260","./ro":"972c","./ro.js":"972c","./ru":"957c","./ru.js":"957c","./sd":"6784","./sd.js":"6784","./se":"ffff","./se.js":"ffff","./si":"eda5","./si.js":"eda5","./sk":"7be6","./sk.js":"7be6","./sl":"8155","./sl.js":"8155","./sq":"c8f3","./sq.js":"c8f3","./sr":"cf1e9","./sr-cyrl":"13e9","./sr-cyrl.js":"13e9","./sr.js":"cf1e9","./ss":"52bd","./ss.js":"52bd","./sv":"5fbd","./sv.js":"5fbd","./sw":"74dc","./sw.js":"74dc","./ta":"3de5","./ta.js":"3de5","./te":"5cbb","./te.js":"5cbb","./tet":"576c","./tet.js":"576c","./tg":"3b1b","./tg.js":"3b1b","./th":"10e8","./th.js":"10e8","./tk":"5aff","./tk.js":"5aff","./tl-ph":"0f38","./tl-ph.js":"0f38","./tlh":"cf75","./tlh.js":"cf75","./tr":"0e81","./tr.js":"0e81","./tzl":"cf51","./tzl.js":"cf51","./tzm":"c109","./tzm-latn":"b53d","./tzm-latn.js":"b53d","./tzm.js":"c109","./ug-cn":"6117","./ug-cn.js":"6117","./uk":"ada2","./uk.js":"ada2","./ur":"5294","./ur.js":"5294","./uz":"2e8c","./uz-latn":"010e","./uz-latn.js":"010e","./uz.js":"2e8c","./vi":"2921","./vi.js":"2921","./x-pseudo":"fd7e","./x-pseudo.js":"fd7e","./yo":"7f33","./yo.js":"7f33","./zh-cn":"5c3a","./zh-cn.js":"5c3a","./zh-hk":"49ab","./zh-hk.js":"49ab","./zh-mo":"3a6c","./zh-mo.js":"3a6c","./zh-tw":"90ea","./zh-tw.js":"90ea"};function s(e){var t=n(e);return a(t)}function n(e){var t=i[e];if(!(t+1)){var a=new Error("Cannot find module '"+e+"'");throw a.code="MODULE_NOT_FOUND",a}return t}s.keys=function(){return Object.keys(i)},s.resolve=n,e.exports=s,s.id="4678"},4792:function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container"},[a("el-card",{staticClass:"box-card"},[a("el-form",{ref:"listQuery",attrs:{model:e.listQuery,inline:!0}},[a("el-form-item",{attrs:{label:"模版名称"}},[a("el-input",{staticStyle:{width:"240px"},attrs:{placeholder:"请输入模版名称",clearable:"",size:"small"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleQuery(t)}},model:{value:e.listQuery.name,callback:function(t){e.$set(e.listQuery,"name",t)},expression:"listQuery.name"}})],1),e._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary",icon:"el-icon-search",size:"small"},on:{click:e.handleQuery}},[e._v("搜索")])],1)],1),e._v(" "),a("el-row",{staticClass:"mb8",attrs:{gutter:10}},[a("el-col",{attrs:{span:1.5}},[a("el-button",{directives:[{name:"permisaction",rawName:"v-permisaction",value:["process:admin:template:add"],expression:"['process:admin:template:add']"}],attrs:{type:"primary",icon:"el-icon-plus",size:"mini"},on:{click:e.handleCreate}},[e._v("新增")])],1)],1),e._v(" "),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],attrs:{border:"",data:e.tplList},on:{"selection-change":e.handleSelectionChange}},[a("el-table-column",{attrs:{type:"selection",width:"55",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{label:"ID",prop:"id",width:"120"}}),e._v(" "),a("el-table-column",{attrs:{label:"名称",prop:"name","show-overflow-tooltip":!0}}),e._v(" "),a("el-table-column",{attrs:{label:"创建者",prop:"create_name","show-overflow-tooltip":!0,width:"150"}}),e._v(" "),a("el-table-column",{attrs:{label:"创建时间",align:"center",prop:"create_time",width:"180"}}),e._v(" "),a("el-table-column",{attrs:{label:"更新时间",align:"center",prop:"update_time",width:"180"}}),e._v(" "),a("el-table-column",{attrs:{label:"操作",align:"center","class-name":"small-padding fixed-width"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{directives:[{name:"permisaction",rawName:"v-permisaction",value:["process:admin:template:edit"],expression:"['process:admin:template:edit']"}],attrs:{size:"mini",type:"text",icon:"el-icon-edit"},on:{click:function(a){return e.handleEdit(t.row)}}},[e._v("编辑")]),e._v(" "),a("el-button",{directives:[{name:"permisaction",rawName:"v-permisaction",value:["process:admin:template:delete"],expression:"['process:admin:template:delete']"}],attrs:{size:"mini",type:"text",icon:"el-icon-delete"},on:{click:function(a){return e.handleDelete(t.row)}}},[e._v("删除")])]}}])})],1),e._v(" "),a("pagination",{directives:[{name:"show",rawName:"v-show",value:e.total>0,expression:"total>0"}],attrs:{total:e.total,page:e.queryParams.pageIndex,limit:e.queryParams.pageSize},on:{"update:page":function(t){return e.$set(e.queryParams,"pageIndex",t)},"update:limit":function(t){return e.$set(e.queryParams,"pageSize",t)},pagination:e.getList}}),e._v(" "),a("el-dialog",{staticStyle:{"margin-top":"0"},attrs:{title:1===e.dialogFormVisibleName?"新建模版":"编辑模版",visible:e.open,fullscreen:!0},on:{"update:visible":function(t){e.open=t}}},[a("div",{staticClass:"tpl-create-content"},[a("el-form",{ref:"ruleForm",attrs:{model:e.ruleForm,rules:e.rules,"label-width":"100px"}},[a("el-form-item",{attrs:{label:"名称",prop:"name"}},[a("el-input",{model:{value:e.ruleForm.name,callback:function(t){e.$set(e.ruleForm,"name",t)},expression:"ruleForm.name"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"备注"}},[a("el-input",{attrs:{type:"textarea"},model:{value:e.ruleForm.remarks,callback:function(t){e.$set(e.ruleForm,"remarks",t)},expression:"ruleForm.remarks"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"模版",prop:"form_structure"}},[a("div",{staticStyle:{"border-radius":"4px",border:"1px solid #ccc",overflow:"hidden"}},[a("fm-making-form",{ref:"makingform",staticStyle:{height:"600px"},attrs:{preview:"",clearable:"",upload:"","generate-code":"","generate-json":"","advance-fields":["editor","imgupload","file","subform","cascader"]}},[a("template",{slot:"action"})],2)],1)])],1),e._v(" "),a("div",{staticStyle:{"text-align":"center"}},[a("el-button",{attrs:{type:"primary"},on:{click:function(t){1===e.dialogFormVisibleName?e.submitForm("ruleForm"):e.editForm("ruleForm")}}},[e._v("提交")]),e._v(" "),a("el-button",{on:{click:function(t){e.open=!1}}},[e._v("取 消")])],1)],1)])],1)],1)},s=[],n=(a("7f7f"),a("2b0e")),o=a("2ac3"),l=a("2ced"),r=(a("0379"),a("6d4f")),c=a.n(r);a("65d8");n["default"].use(c.a),n["default"].use(l["a"]),n["default"].use(l["b"]);var d={name:"Template",data:function(){return{dialogFormVisibleName:1,queryParams:{},loading:!0,ids:[],single:!0,multiple:!0,total:0,open:!1,tplList:[],listQuery:{page:1,per_page:10},ruleForm:{id:void 0,name:"",remarks:"",form_structure:""},rules:{name:[{required:!0,message:"请输入模版名称",trigger:"blur"}],form_structure:[{required:!0,message:"请设计模版",trigger:"blur"}]}}},created:function(){this.getList()},methods:{getList:function(){var e=this;this.loading=!0,this.listQuery.page=this.queryParams.pageIndex,this.listQuery.per_page=this.queryParams.pageSize,Object(o["e"])(this.listQuery).then((function(t){e.tplList=t.data.data,e.queryParams.pageIndex=t.data.page,e.queryParams.pageSize=t.data.per_page,e.total=t.data.total_count,e.loading=!1}))},handleCreate:function(){var e=this;this.ruleForm={id:void 0,name:"",remarks:"",form_structure:""},this.dialogFormVisibleName=1,this.open=!0,this.$nextTick((function(){e.$refs.makingform.handleClear()}))},handleEdit:function(e){var t=this;this.dialogFormVisibleName=2,Object(o["d"])({template_id:e.id}).then((function(e){t.ruleForm={id:e.data.id,name:e.data.name,remarks:e.data.remarks,form_structure:e.data.remarks},t.open=!0,t.$nextTick((function(){t.$refs.makingform.setJSON(e.data.form_structure)}))}))},submitForm:function(e){var t=this;this.handleSave(this.$refs.makingform.getJSON()),this.$refs[e].validate((function(e){e&&Object(o["a"])(t.ruleForm).then((function(e){t.getList(),t.open=!1}))}))},editForm:function(e){var t=this;this.handleSave(this.$refs.makingform.getJSON()),this.$refs[e].validate((function(e){e&&Object(o["c"])(t.ruleForm).then((function(e){t.getList(),t.open=!1}))}))},handleQuery:function(){this.queryParams.pageIndex=1,this.queryParams.pageSize=10,this.getList()},handleDelete:function(e){var t=this;this.$confirm("此操作将永久删除该数据, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){Object(o["b"])({templateId:e.id}).then((function(e){void 0!==e&&(t.getList(),t.$message({type:"success",message:"模版已删除!"}))}))})).catch((function(){t.$message({type:"info",message:"已取消删除"})}))},handleSelectionChange:function(){},handleSave:function(e){e.list.length>0?this.ruleForm.form_structure=e:this.ruleForm.form_structure=""}}},u=d,p=a("2877"),m=Object(p["a"])(u,i,s,!1,null,null,null);t["default"]=m.exports},"4bcc":function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{class:e.className,style:{height:e.height,width:e.width}})},s=[],n=a("313e"),o=a.n(n),l=a("a7dc");a("817d");var r={mixins:[l["default"]],props:{className:{type:String,default:"chart"},width:{type:String,default:"100%"},height:{type:String,default:"300px"}},data:function(){return{chart:null}},mounted:function(){var e=this;this.$nextTick((function(){e.initChart()}))},beforeDestroy:function(){this.chart&&(this.chart.dispose(),this.chart=null)},methods:{initChart:function(){this.chart=o.a.init(this.$el,"macarons"),this.chart.setOption({title:{text:"待办工单排名",textStyle:{fontSize:15}},tooltip:{trigger:"axis",axisPointer:{type:"shadow"}},grid:{top:35,left:"2%",right:"2%",bottom:"3%",containLabel:!0},xAxis:{type:"value",boundaryGap:[0,.01]},yAxis:{type:"category",data:["兰玉磊","张三","李四","王五","赵六","马七"]},series:[{type:"bar",barWidth:20,stack:"vistors",data:[1,8,12,15,23,36],itemStyle:{normal:{color:"#5ab1ef"}}}]})}}},c=r,d=a("2877"),u=Object(d["a"])(c,i,s,!1,null,null,null);t["default"]=u.exports},"4c4f":function(e,t,a){},"50ce":function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticStyle:{display:"inline-block"}},[a("label",{staticClass:"radio-label",staticStyle:{"padding-left":"0"}},[e._v("Filename: ")]),e._v(" "),a("el-input",{staticStyle:{width:"345px"},attrs:{placeholder:"Please enter the file name (default excel-list)","prefix-icon":"el-icon-document"},model:{value:e.filename,callback:function(t){e.filename=t},expression:"filename"}})],1)},s=[],n={props:{value:{type:String,default:""}},computed:{filename:{get:function(){return this.value},set:function(e){this.$emit("input",e)}}}},o=n,l=a("2877"),r=Object(l["a"])(o,i,s,!1,null,null,null);t["default"]=r.exports},"529e":function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container"},[a("el-card",{staticClass:"box-card"},[a("el-form",{ref:"listQuery",attrs:{model:e.listQuery,inline:!0}},[a("el-form-item",{attrs:{label:"模版名称"}},[a("el-input",{staticStyle:{width:"240px"},attrs:{placeholder:"请输入模版名称",clearable:"",size:"small"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleQuery(t)}},model:{value:e.listQuery.name,callback:function(t){e.$set(e.listQuery,"name",t)},expression:"listQuery.name"}})],1),e._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary",icon:"el-icon-search",size:"small"},on:{click:e.handleQuery}},[e._v("搜索")])],1)],1),e._v(" "),a("el-row",{staticClass:"mb8",attrs:{gutter:10}},[a("el-col",{attrs:{span:1.5}},[a("el-button",{directives:[{name:"permisaction",rawName:"v-permisaction",value:["process:admin:manager:add"],expression:"['process:admin:manager:add']"}],attrs:{type:"primary",icon:"el-icon-plus",size:"mini"},on:{click:e.handleCreate}},[e._v("新增")])],1)],1),e._v(" "),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],attrs:{border:"",data:e.processValueList},on:{"selection-change":e.handleSelectionChange}},[a("el-table-column",{attrs:{type:"selection",width:"55",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{label:"ID",prop:"id",width:"120"}}),e._v(" "),a("el-table-column",{attrs:{label:"名称",prop:"name","show-overflow-tooltip":!0}}),e._v(" "),a("el-table-column",{attrs:{label:"创建者",prop:"create_name","show-overflow-tooltip":!0,width:"150"}}),e._v(" "),a("el-table-column",{attrs:{label:"创建时间",align:"center",prop:"create_time",width:"180"}}),e._v(" "),a("el-table-column",{attrs:{label:"更新时间",align:"center",prop:"update_time",width:"180"}}),e._v(" "),a("el-table-column",{attrs:{label:"操作",align:"center","class-name":"small-padding fixed-width"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{directives:[{name:"permisaction",rawName:"v-permisaction",value:["process:admin:manager:edit"],expression:"['process:admin:manager:edit']"}],attrs:{size:"mini",type:"text",icon:"el-icon-edit"},on:{click:function(a){return e.handleEdit(t.row)}}},[e._v("编辑")]),e._v(" "),a("el-button",{directives:[{name:"permisaction",rawName:"v-permisaction",value:["process:admin:manager:delete"],expression:"['process:admin:manager:delete']"}],attrs:{size:"mini",type:"text",icon:"el-icon-delete"},on:{click:function(a){return e.handleDelete(t.row)}}},[e._v("删除")])]}}])})],1),e._v(" "),a("pagination",{directives:[{name:"show",rawName:"v-show",value:e.total>0,expression:"total>0"}],attrs:{total:e.total,page:e.queryParams.pageIndex,limit:e.queryParams.pageSize},on:{"update:page":function(t){return e.$set(e.queryParams,"pageIndex",t)},"update:limit":function(t){return e.$set(e.queryParams,"pageSize",t)},pagination:e.getList}}),e._v(" "),a("el-dialog",{staticStyle:{"margin-top":"0"},attrs:{title:1===e.dialogProcessVisibleName?"新建流程":"编辑流程",visible:e.open,fullscreen:!0},on:{"update:visible":function(t){e.open=t}}},[a("div",{staticClass:"tpl-create-content"},[a("el-form",{ref:"ruleForm",attrs:{model:e.ruleForm,rules:e.rules,"label-width":"100px"}},[a("el-row",[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"名称",prop:"name"}},[a("el-input",{staticStyle:{width:"100%"},attrs:{placeholder:"请输入流程名称"},model:{value:e.ruleForm.name,callback:function(t){e.$set(e.ruleForm,"name",t)},expression:"ruleForm.name"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"图标",prop:"icon"}},[a("e-icon-picker",{staticStyle:{width:"100%"},model:{value:e.ruleForm.icon,callback:function(t){e.$set(e.ruleForm,"icon",t)},expression:"ruleForm.icon"}})],1)],1)],1),e._v(" "),a("el-row",[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"分类",prop:"classify"}},[a("el-select",{staticStyle:{width:"100%"},attrs:{filterable:"",placeholder:"请选择流程分类"},model:{value:e.ruleForm.classify,callback:function(t){e.$set(e.ruleForm,"classify",t)},expression:"ruleForm.classify"}},e._l(e.classifyListData,(function(e){return a("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})})),1)],1)],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"模版",prop:"tpls"}},[a("el-select",{staticStyle:{width:"100%"},attrs:{filterable:"",multiple:"",placeholder:"请选择模版"},model:{value:e.ruleForm.tpls,callback:function(t){e.$set(e.ruleForm,"tpls",t)},expression:"ruleForm.tpls"}},e._l(e.templates,(function(e){return a("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})})),1)],1)],1)],1),e._v(" "),a("el-row",[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"通知"}},[a("el-select",{staticStyle:{width:"100%"},attrs:{multiple:"",filterable:"",clearable:"",placeholder:"请选择流程任务"},model:{value:e.ruleForm.notice,callback:function(t){e.$set(e.ruleForm,"notice",t)},expression:"ruleForm.notice"}},[a("el-option",{attrs:{label:"邮件",value:1}})],1)],1)],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"任务"}},[a("el-select",{staticStyle:{width:"100%"},attrs:{multiple:"",filterable:"",clearable:"",placeholder:"请选择流程任务"},model:{value:e.ruleForm.task,callback:function(t){e.$set(e.ruleForm,"task",t)},expression:"ruleForm.task"}},e._l(e.taskListData,(function(e,t){return a("el-option",{key:t,attrs:{label:e.name,value:e.full_name}})})),1)],1)],1)],1),e._v(" "),a("el-form-item",{attrs:{label:"描述",prop:"remarks"}},[a("el-input",{staticStyle:{width:"100%"},attrs:{placeholder:"请输入流程描述",type:"textarea",autosize:{minRows:2,maxRows:4}},model:{value:e.ruleForm.remarks,callback:function(t){e.$set(e.ruleForm,"remarks",t)},expression:"ruleForm.remarks"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"流程",prop:"structure"}},[a("div",{staticStyle:{"border-radius":"4px",overflow:"hidden"}},[a("div",[e.wfdDesignRefresh?a("WfdDesign",{ref:"wfd",attrs:{users:e.users,departments:e.departments,tasks:e.taskListData,templates:e.ruleForm.tpls,"templates-base":e.templates,data:e.ruleForm.structure,height:600,lang:e.lang}}):e._e()],1)])])],1),e._v(" "),a("div",{staticStyle:{"text-align":"center","margin-top":"20px"}},[a("el-button",{attrs:{type:"primary"},on:{click:function(t){1===e.dialogProcessVisibleName?e.submitForm("ruleForm"):e.editForm("ruleForm")}}},[e._v("提交")]),e._v(" "),a("el-button",{on:{click:function(t){e.open=!1}}},[e._v("取 消")])],1)],1)])],1)],1)},s=[],n=(a("55dd"),a("2d63")),o=(a("7f7f"),a("edd9")),l=a("5f1e"),r=a("2ac3"),c=a("40d1"),d=a("b150"),u={name:"Process",components:{WfdDesign:function(){return Promise.all([a.e("chunk-47c58a28"),a.e("chunk-4bef97e6")]).then(a.bind(null,"bd84"))}},data:function(){return{queryParams:{},loading:!0,ids:[],single:!0,multiple:!0,total:0,open:!1,structureValue:[],users:[],groups:[],departments:[],templates:[],taskListData:[],wfdDesignRefresh:!0,classifyListData:[],dialogProcessVisibleName:1,processValueList:[],listQuery:{page:1,per_page:10},lang:"zh",ruleForm:{},rules:{icon:[{required:!0,message:"请输入流程图标",trigger:"blur"}],name:[{required:!0,message:"请输入流程名称",trigger:"blur"}],classify:[{required:!0,message:"请选择流程分类",trigger:"blur, change"}],tpls:[{required:!0,message:"请选择模版",trigger:"blur, change"}],structure:[{required:!0,message:"请设计流程",trigger:"blur"}],remarks:[{required:!0,message:"请输入流程描述",trigger:"blur"}]}}},created:function(){this.getList()},methods:{getTaskList:function(){var e=this;Object(c["d"])({page:1,per_page:99999}).then((function(t){e.taskListData=t.data.data}))},getClassifyList:function(){var e=this;Object(l["a"])({page:1,per_page:99999}).then((function(t){e.classifyListData=t.data.data}))},getTemplates:function(){var e=this;Object(r["e"])({page:1,per_page:99999}).then((function(t){e.templates=t.data.data}))},getUsers:function(){var e=this;Object(d["i"])({pageSize:999999}).then((function(t){e.users=t.data.list}))},getList:function(){var e=this;this.loading=!0,this.listQuery.page=this.queryParams.pageIndex,this.listQuery.per_page=this.queryParams.pageSize,Object(o["e"])(this.listQuery).then((function(t){e.processValueList=t.data.data,e.queryParams.pageIndex=t.data.page,e.queryParams.pageSize=t.data.per_page,e.total=t.data.total_count,e.loading=!1}))},getProcessInitData:function(){this.getClassifyList(),this.getTemplates(),this.getUsers(),this.getTaskList()},handleCreate:function(){var e=this;this.getProcessInitData(),this.ruleForm={id:void 0,name:"",tpls:[],structure:{edges:[],nodes:[],groups:[]},classify:"",task:[],notice:[1],icon:"",remarks:""},this.dialogProcessVisibleName=1,this.open=!0,this.wfdDesignRefresh=!1,this.$nextTick((function(){e.wfdDesignRefresh=!0}))},handleEdit:function(e){var t=this;this.dialogProcessVisibleName=2,this.getProcessInitData(),this.wfdDesignRefresh=!1,Object(o["d"])({processId:e.id}).then((function(e){t.ruleForm={id:e.data.id,name:e.data.name,tpls:e.data.tpls,structure:e.data.structure,classify:e.data.classify,task:e.data.task,notice:e.data.notice,icon:e.data.icon,remarks:e.data.remarks},t.open=!0,t.wfdDesignRefresh=!1,t.$nextTick((function(){t.wfdDesignRefresh=!0}))}))},verifyProcess:function(e){var t,a=Object(n["a"])(e.nodes);try{for(a.s();!(t=a.n()).done;){var i=t.value;if(void 0===i.sort||null===i.sort||""===i.sort)return"流程节点顺序不能为空";if(void 0===i.label||null===i.label||""===i.label)return"流程节点标题不能为空";if("userTask"===i.clazz||"receiveTask"===i.clazz){if(void 0===i.assignType||null===i.assignType||""===i.assignType)return"审批节点或处理节点的处理人类型不能为空";if(void 0===i.assignValue||null===i.assignValue||""===i.assignValue||0===i.assignValue.length)return"审批节点或处理节点的处理人不能为空"}}}catch(r){a.e(r)}finally{a.f()}var s,o=Object(n["a"])(e.edges);try{for(o.s();!(s=o.n()).done;){var l=s.value;if(void 0===l.sort||null===l.sort||""===l.sort)return"流转顺序不能为空";if(void 0===l.label||null===l.label||""===l.label)return"流转标题不能为空";if(void 0===l.flowProperties||null===l.flowProperties||""===l.flowProperties)return"流转属性不能为空"}}catch(r){o.e(r)}finally{o.f()}return""},submitForm:function(e){var t=this;this.$refs[e].validate((function(e){if(e){var a=t.$refs.wfd.graph.save(),i=t.verifyProcess(a);if(""!==i)return void t.$message.error(i);a.nodes.length>0&&a.edges.length>0?(t.ruleForm.structure=a,Object(o["b"])(t.ruleForm).then((function(e){t.getList(),t.open=!1}))):t.$message.error("没有流程数据，请完善流程")}}))},editForm:function(e){var t=this;this.$refs[e].validate((function(e){if(e){var a=t.$refs.wfd.graph.save(),i=t.verifyProcess(a);if(""!==i)return void t.$message.error(i);a.nodes.length>0&&a.edges.length>0?Object(o["f"])({id:t.ruleForm.id,name:t.ruleForm.name,tpls:t.ruleForm.tpls,structure:a,classify:t.ruleForm.classify,task:t.ruleForm.task,notice:t.ruleForm.notice,icon:t.ruleForm.icon,remarks:t.ruleForm.remarks}).then((function(e){t.getList(),t.open=!1})):t.$notify({title:"错误",message:"没有流程数据，请完善流程",type:"error"})}}))},handleQuery:function(){this.queryParams.pageIndex=1,this.queryParams.pageSize=10,this.getList()},handleDelete:function(e){var t=this;this.$confirm("此操作将永久删除该数据, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){Object(o["c"])({processId:e.id}).then((function(e){void 0!==e&&(t.getList(),t.$message({type:"success",message:"流程已删除!"}))}))})).catch((function(){t.$message({type:"info",message:"已取消删除"})}))},handleSelectionChange:function(){},handleSave:function(e){e.list.length>0?this.ruleForm.form_structure=e:this.ruleForm.form_structure=""}}},p=u,m=a("2877"),f=Object(m["a"])(p,i,s,!1,null,null,null);t["default"]=f.exports},"54f4":function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container"},[a("el-card",{staticClass:"box-card"},[a("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[a("span",[e._v("配置信息")])]),e._v(" "),a("div",{staticClass:"text item"},[a("el-form",{ref:"ruleForm",attrs:{model:e.ruleForm,rules:e.rules,"label-width":"120px"}},[a("el-form-item",{attrs:{label:"系统名称：",prop:"name"}},[a("el-input",{model:{value:e.ruleForm.name,callback:function(t){e.$set(e.ruleForm,"name",t)},expression:"ruleForm.name"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"系统Logo：",prop:"logo"}},[a("el-upload",{staticClass:"avatar-uploader",attrs:{action:e.url,data:{type:"1"},"show-file-list":!1,"on-success":e.handleAvatarSuccess,"before-upload":e.beforeAvatarUpload}},[e.ruleForm.logo?a("img",{staticClass:"avatar",attrs:{src:e.ruleForm.logo}}):a("i",{staticClass:"el-icon-plus avatar-uploader-icon"})])],1),e._v(" "),a("el-form-item",{attrs:{label:"默认LDAP登陆："}},[a("el-radio",{attrs:{label:!0},model:{value:e.ruleForm.is_ldap,callback:function(t){e.$set(e.ruleForm,"is_ldap",t)},expression:"ruleForm.is_ldap"}},[e._v("是")]),e._v(" "),a("el-radio",{attrs:{label:!1},model:{value:e.ruleForm.is_ldap,callback:function(t){e.$set(e.ruleForm,"is_ldap",t)},expression:"ruleForm.is_ldap"}},[e._v("否")])],1),e._v(" "),a("el-form-item",{staticStyle:{"margin-bottom":"0"}},[a("el-button",{directives:[{name:"permisaction",rawName:"v-permisaction",value:["system:settings:index:config"],expression:"['system:settings:index:config']"}],attrs:{type:"primary"},on:{click:function(t){return e.submitForm("ruleForm",1)}}},[e._v("确定")])],1)],1)],1)]),e._v(" "),a("el-card",{staticClass:"box-card",staticStyle:{"margin-top":"15px"}},[a("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[a("span",[e._v("Ldap配置")])]),e._v(" "),a("div",{staticClass:"text item"},[a("el-alert",{staticStyle:{"margin-bottom":"10px"},attrs:{title:"Ldap登陆验证通过后，会将用户同步至本地数据库中，请在此配置数据同步的映射关系。单击Ldap字段可编辑，双击可隐藏编辑。",type:"info"}}),e._v(" "),a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.tableData,border:""}},[a("el-table-column",{attrs:{prop:"local_field_name",label:"字段名称",width:"150"}}),e._v(" "),a("el-table-column",{attrs:{prop:"local_field_nick",label:"字段昵称",width:"150"}}),e._v(" "),a("el-table-column",{attrs:{prop:"ldap_field_name",label:"Ldap字段"},scopedSlots:e._u([{key:"default",fn:function(t){var i=t.row,s=t.$index;return[a("div",{staticStyle:{width:"100%","min-height":"24px"},on:{click:function(t){e.chengenum(s,!0)},dblclick:function(t){e.chengenum(s,!1)}}},[e.editable[s]?a("el-input",{model:{value:i.ldap_field_name,callback:function(t){e.$set(i,"ldap_field_name",t)},expression:"row.ldap_field_name"}}):a("span",[e._v(e._s(i.ldap_field_name))])],1)]}}])})],1),e._v(" "),a("div",{staticStyle:{"margin-top":"20px"}},[a("el-button",{directives:[{name:"permisaction",rawName:"v-permisaction",value:["system:settings:index:ldap"],expression:"['system:settings:index:ldap']"}],attrs:{type:"primary"},on:{click:function(t){return e.submitForm("ruleForm",2)}}},[e._v("确定")])],1)],1)])],1)},s=[],n=a("2d63"),o=a("79b8"),l={components:{},data:function(){return{url:"http://localhost:8002/api/v1/public/uploadFile",editable:[],ruleForm:{name:"",logo:"",is_ldap:!1},rules:{name:[{required:!0,message:"请输入系统名称",trigger:"blur"},{min:3,max:15,message:"长度在 3 到 15 个字符",trigger:"blur"}],logo:[{required:!0,message:"请设置Logo",trigger:"blur"}]},tableData:[]}},created:function(){this.getSettingsInfo()},methods:{getSettingsInfo:function(){var e=this;Object(o["a"])().then((function(t){var a,i=Object(n["a"])(t.data);try{for(i.s();!(a=i.n()).done;){var s=a.value;1===s.classify?void 0===s.content||null===s.content?e.ruleForm={name:"",logo:"",is_ldap:!1}:(void 0!==s.content.is_ldap&&null!==s.content.is_ldap||(s.content.is_ldap=!1),e.ruleForm=s.content):2===s.classify&&(void 0===s.content||null===s.content?e.tableData=[]:e.tableData=s.content)}}catch(o){i.e(o)}finally{i.f()}}))},submitForm:function(e,t){var a=this,i=!1,s={classify:t};1===t?this.$refs[e].validate((function(e){e&&(s.content=a.ruleForm,i=!0)})):2===t&&(s.content=this.tableData,i=!0),i&&Object(o["b"])(s).then((function(e){a.$message({message:"设置成功",type:"success"})}))},resetForm:function(e){this.$refs[e].resetFields()},handleAvatarSuccess:function(e,t){this.ruleForm.logo=e.data},beforeAvatarUpload:function(e){var t=e.size/1024/1024<2;return t||this.$message.error("上传头像图片大小不能超过 2MB!"),t},chengenum:function(e,t){this.editable[e]=t,this.$set(this.editable,e,t)}}},r=l,c=(a("2c76"),a("2877")),d=Object(c["a"])(r,i,s,!1,null,null,null);t["default"]=d.exports},"56bf":function(e,t,a){},5788:function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container"},[a("el-card",{staticClass:"box-card"},[a("el-form",{ref:"queryForm",attrs:{model:e.queryParams,inline:!0,"label-width":"68px"}},[a("el-form-item",{attrs:{label:"岗位编码",prop:"postCode"}},[a("el-input",{attrs:{placeholder:"请输入岗位编码",clearable:"",size:"small"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleQuery(t)}},model:{value:e.queryParams.postCode,callback:function(t){e.$set(e.queryParams,"postCode",t)},expression:"queryParams.postCode"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"岗位名称",prop:"postName"}},[a("el-input",{attrs:{placeholder:"请输入岗位名称",clearable:"",size:"small"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleQuery(t)}},model:{value:e.queryParams.postName,callback:function(t){e.$set(e.queryParams,"postName",t)},expression:"queryParams.postName"}})],1),e._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary",icon:"el-icon-search",size:"small"},on:{click:e.handleQuery}},[e._v("搜索")]),e._v(" "),a("el-button",{attrs:{icon:"el-icon-refresh",size:"small"},on:{click:e.resetQuery}},[e._v("重置")])],1)],1),e._v(" "),a("el-row",{staticClass:"mb8",attrs:{gutter:10}},[a("el-col",{attrs:{span:1.5}},[a("el-button",{directives:[{name:"permisaction",rawName:"v-permisaction",value:["system:syspost:add"],expression:"['system:syspost:add']"}],attrs:{type:"primary",icon:"el-icon-plus",size:"mini"},on:{click:e.handleAdd}},[e._v("新增")])],1),e._v(" "),a("el-col",{attrs:{span:1.5}},[a("el-button",{directives:[{name:"permisaction",rawName:"v-permisaction",value:["system:syspost:edit"],expression:"['system:syspost:edit']"}],attrs:{type:"success",icon:"el-icon-edit",size:"mini",disabled:e.single},on:{click:e.handleUpdate}},[e._v("编辑")])],1),e._v(" "),a("el-col",{attrs:{span:1.5}},[a("el-button",{directives:[{name:"permisaction",rawName:"v-permisaction",value:["system:syspost:remove"],expression:"['system:syspost:remove']"}],attrs:{type:"danger",icon:"el-icon-delete",size:"mini",disabled:e.multiple},on:{click:e.handleDelete}},[e._v("删除")])],1),e._v(" "),a("el-col",{attrs:{span:1.5}},[a("el-button",{directives:[{name:"permisaction",rawName:"v-permisaction",value:["system:syspost:export"],expression:"['system:syspost:export']"}],attrs:{type:"warning",icon:"el-icon-download",size:"mini"},on:{click:e.handleExport}},[e._v("导出")])],1)],1),e._v(" "),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],attrs:{border:"",data:e.postList},on:{"selection-change":e.handleSelectionChange}},[a("el-table-column",{attrs:{type:"selection",width:"55",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{label:"岗位编号",width:"80",align:"center",prop:"postId"}}),e._v(" "),a("el-table-column",{attrs:{label:"岗位编码",align:"center",prop:"postCode"}}),e._v(" "),a("el-table-column",{attrs:{label:"岗位名称",align:"center",prop:"postName"}}),e._v(" "),a("el-table-column",{attrs:{label:"岗位排序",align:"center",prop:"sort"}}),e._v(" "),a("el-table-column",{attrs:{label:"状态",align:"center",prop:"status"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-tag",{attrs:{type:"1"===t.row.status?"danger":"success","disable-transitions":""}},[e._v(e._s("1"===t.row.status?"停用":"正常"))])]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"创建时间",align:"center",prop:"create_time",width:"180"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(e.parseTime(t.row.create_time)))])]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"操作",align:"center","class-name":"small-padding fixed-width"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{directives:[{name:"permisaction",rawName:"v-permisaction",value:["system:syspost:edit"],expression:"['system:syspost:edit']"}],attrs:{size:"mini",type:"text",icon:"el-icon-edit"},on:{click:function(a){return e.handleUpdate(t.row)}}},[e._v("编辑")]),e._v(" "),a("el-button",{directives:[{name:"permisaction",rawName:"v-permisaction",value:["system:syspost:remove"],expression:"['system:syspost:remove']"}],attrs:{size:"mini",type:"text",icon:"el-icon-delete"},on:{click:function(a){return e.handleDelete(t.row)}}},[e._v("删除")])]}}])})],1),e._v(" "),a("pagination",{directives:[{name:"show",rawName:"v-show",value:e.total>0,expression:"total>0"}],attrs:{total:e.total,page:e.queryParams.pageIndex,limit:e.queryParams.pageSize},on:{"update:page":function(t){return e.$set(e.queryParams,"pageIndex",t)},"update:limit":function(t){return e.$set(e.queryParams,"pageSize",t)},pagination:e.getList}})],1),e._v(" "),a("el-dialog",{attrs:{title:e.title,visible:e.open,width:"500px"},on:{"update:visible":function(t){e.open=t}}},[a("el-form",{ref:"form",attrs:{model:e.form,rules:e.rules,"label-width":"80px"}},[a("el-form-item",{attrs:{label:"岗位名称",prop:"postName"}},[a("el-input",{attrs:{placeholder:"请输入岗位名称"},model:{value:e.form.postName,callback:function(t){e.$set(e.form,"postName",t)},expression:"form.postName"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"岗位编码",prop:"postCode"}},[a("el-input",{attrs:{placeholder:"请输入编码名称"},model:{value:e.form.postCode,callback:function(t){e.$set(e.form,"postCode",t)},expression:"form.postCode"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"岗位顺序",prop:"sort"}},[a("el-input-number",{attrs:{"controls-position":"right",min:0},model:{value:e.form.sort,callback:function(t){e.$set(e.form,"sort",t)},expression:"form.sort"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"备注",prop:"remark"}},[a("el-input",{attrs:{type:"textarea",placeholder:"请输入内容"},model:{value:e.form.remark,callback:function(t){e.$set(e.form,"remark",t)},expression:"form.remark"}})],1)],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:e.submitForm}},[e._v("确 定")]),e._v(" "),a("el-button",{on:{click:e.cancel}},[e._v("取 消")])],1)],1)],1)},s=[],n=a("b775");function o(e){return Object(n["a"])({url:"/api/v1/postlist",method:"get",params:e})}function l(e){return Object(n["a"])({url:"/api/v1/post/"+e,method:"get"})}function r(e){return Object(n["a"])({url:"/api/v1/post",method:"post",data:e})}function c(e){return Object(n["a"])({url:"/api/v1/post",method:"put",data:e})}function d(e){return Object(n["a"])({url:"/api/v1/post/"+e,method:"delete"})}var u=a("ed08"),p={name:"Post",data:function(){return{loading:!0,ids:[],single:!0,multiple:!0,total:0,postList:[],title:"",open:!1,queryParams:{pageIndex:1,pageSize:10,postCode:void 0,postName:void 0,status:void 0},form:{},rules:{postName:[{required:!0,message:"岗位名称不能为空",trigger:"blur"}],postCode:[{required:!0,message:"岗位编码不能为空",trigger:"blur"}],sort:[{required:!0,message:"岗位顺序不能为空",trigger:"blur"}]}}},created:function(){this.getList()},methods:{getList:function(){var e=this;this.loading=!0,o(this.queryParams).then((function(t){e.postList=t.data.list,e.total=t.data.count,e.loading=!1}))},cancel:function(){this.open=!1,this.reset()},reset:function(){this.form={postId:void 0,postCode:void 0,postName:void 0,sort:0,status:"0",remark:void 0},this.resetForm("form")},handleQuery:function(){this.queryParams.pageIndex=1,this.getList()},resetQuery:function(){this.resetForm("queryForm"),this.handleQuery()},handleSelectionChange:function(e){this.ids=e.map((function(e){return e.postId})),this.single=1!==e.length,this.multiple=!e.length},handleAdd:function(){this.reset(),this.open=!0,this.title="添加岗位"},handleUpdate:function(e){var t=this;this.reset();var a=e.postId||this.ids;l(a).then((function(e){t.form=e.data,t.open=!0,t.title="修改岗位"}))},submitForm:function(){var e=this;this.$refs["form"].validate((function(t){t&&(void 0!==e.form.postId?c(e.form).then((function(t){200===t.code?(e.msgSuccess("修改成功"),e.open=!1,e.getList()):e.msgError(t.msg)})):r(e.form).then((function(t){200===t.code?(e.msgSuccess("新增成功"),e.open=!1,e.getList()):e.msgError(t.msg)})))}))},handleDelete:function(e){var t=this,a=e.postId||this.ids;this.$confirm('是否确认删除岗位编号为"'+a+'"的数据项?',"警告",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){return d(a)})).then((function(){t.getList(),t.msgSuccess("删除成功")})).catch((function(){}))},handleExport:function(){var e=this;this.$confirm("是否确认导出所有岗位数据项?","警告",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){e.downloadLoading=!0,Promise.all([a.e("chunk-50a983d1"),a.e("chunk-748b566e")]).then(a.bind(null,"4bf8d")).then((function(t){var a=["岗位编号","岗位编码","岗位名称","排序","创建时间"],i=["postId","postCode","postName","sort","create_time"],s=e.postList,n=Object(u["c"])(i,s);t.export_json_to_excel({header:a,data:n,filename:"岗位管理",autoWidth:!0,bookType:"xlsx"}),e.downloadLoading=!1}))})).catch((function(){}))}}},m=p,f=a("2877"),h=Object(f["a"])(m,i,s,!1,null,null,null);t["default"]=h.exports},"5cfa":function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container"},[a("el-card",{staticClass:"box-card"},[a("el-form",{attrs:{inline:!0}},[a("el-form-item",{attrs:{label:"部门名称"}},[a("el-input",{attrs:{placeholder:"请输入部门名称",clearable:"",size:"small"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleQuery(t)}},model:{value:e.queryParams.deptName,callback:function(t){e.$set(e.queryParams,"deptName",t)},expression:"queryParams.deptName"}})],1),e._v(" "),a("el-form-item",[a("el-button",{staticClass:"filter-item",attrs:{type:"primary",icon:"el-icon-search",size:"small"},on:{click:e.handleQuery}},[e._v("搜索")]),e._v(" "),a("el-button",{directives:[{name:"permisaction",rawName:"v-permisaction",value:["system:sysdept:add"],expression:"['system:sysdept:add']"}],staticClass:"filter-item",attrs:{type:"primary",icon:"el-icon-plus",size:"small"},on:{click:e.handleAdd}},[e._v("新增")])],1)],1),e._v(" "),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],attrs:{data:e.deptList,"row-key":"deptId",border:"","default-expand-all":"","tree-props":{children:"children",hasChildren:"hasChildren"}}},[a("el-table-column",{attrs:{prop:"deptName",label:"部门名称"}}),e._v(" "),a("el-table-column",{attrs:{prop:"sort",label:"排序",width:"200"}}),e._v(" "),a("el-table-column",{attrs:{prop:"status",label:"状态",width:"100"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-tag",{attrs:{type:"1"===t.row.status?"danger":"success","disable-transitions":""}},[e._v(e._s("1"===t.row.status?"停用":"正常"))])]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"创建时间",align:"center",prop:"create_time",width:"200"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(e.parseTime(t.row.create_time)))])]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"操作",align:"center","class-name":"small-padding fixed-width"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{directives:[{name:"permisaction",rawName:"v-permisaction",value:["system:sysdept:edit"],expression:"['system:sysdept:edit']"}],attrs:{size:"mini",type:"text",icon:"el-icon-edit"},on:{click:function(a){return e.handleUpdate(t.row)}}},[e._v("编辑")]),e._v(" "),a("el-button",{directives:[{name:"permisaction",rawName:"v-permisaction",value:["system:sysdept:add"],expression:"['system:sysdept:add']"}],attrs:{size:"mini",type:"text",icon:"el-icon-plus"},on:{click:function(a){return e.handleAdd(t.row)}}},[e._v("新增")]),e._v(" "),0!=t.row.p_id?a("el-button",{directives:[{name:"permisaction",rawName:"v-permisaction",value:["system:sysdept:remove"],expression:"['system:sysdept:remove']"}],attrs:{size:"mini",type:"text",icon:"el-icon-delete"},on:{click:function(a){return e.handleDelete(t.row)}}},[e._v("删除")]):e._e()]}}])})],1)],1),e._v(" "),a("el-dialog",{attrs:{title:e.title,visible:e.open,width:"600px"},on:{"update:visible":function(t){e.open=t}}},[a("el-form",{ref:"form",attrs:{model:e.form,rules:e.rules,"label-width":"80px"}},[a("el-row",[a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{label:"上级部门",prop:"parentId"}},[a("treeselect",{attrs:{options:e.deptOptions,normalizer:e.normalizer,"show-count":!0,placeholder:"选择上级部门","is-disabled":e.isEdit},model:{value:e.form.parentId,callback:function(t){e.$set(e.form,"parentId",t)},expression:"form.parentId"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"部门名称",prop:"deptName"}},[a("el-input",{attrs:{placeholder:"请输入部门名称"},model:{value:e.form.deptName,callback:function(t){e.$set(e.form,"deptName",t)},expression:"form.deptName"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"显示排序",prop:"orderNum"}},[a("el-input-number",{attrs:{"controls-position":"right",min:0},model:{value:e.form.sort,callback:function(t){e.$set(e.form,"sort",t)},expression:"form.sort"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"负责人",prop:"leader"}},[a("el-select",{attrs:{clearable:"",filterable:"",placeholder:"请选择负责人"},model:{value:e.form.leader,callback:function(t){e.$set(e.form,"leader",t)},expression:"form.leader"}},e._l(e.users,(function(e){return a("el-option",{key:e.userId,attrs:{label:e.nickName,value:e.userId}})})),1)],1)],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"联系电话",prop:"phone"}},[a("el-input",{attrs:{placeholder:"请输入联系电话",maxlength:"11"},model:{value:e.form.phone,callback:function(t){e.$set(e.form,"phone",t)},expression:"form.phone"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"邮箱",prop:"email"}},[a("el-input",{attrs:{placeholder:"请输入邮箱",maxlength:"50"},model:{value:e.form.email,callback:function(t){e.$set(e.form,"email",t)},expression:"form.email"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"部门状态"}},[a("el-radio-group",{model:{value:e.form.status,callback:function(t){e.$set(e.form,"status",t)},expression:"form.status"}},e._l(e.statusOptions,(function(t){return a("el-radio",{key:t.value,attrs:{label:t.value}},[e._v(e._s(t.label))])})),1)],1)],1)],1)],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:e.submitForm}},[e._v("确 定")]),e._v(" "),a("el-button",{on:{click:e.cancel}},[e._v("取 消")])],1)],1)],1)},s=[],n=a("b150"),o=a("fcb7"),l=a("ca17"),r=a.n(l),c=(a("542c"),{name:"Dept",components:{Treeselect:r.a},data:function(){return{loading:!0,deptList:[],deptOptions:[],title:"",isEdit:!1,open:!1,queryParams:{deptName:void 0,status:void 0},users:[],form:{},rules:{parentId:[{required:!0,message:"上级部门不能为空",trigger:"blur"}],deptName:[{required:!0,message:"部门名称不能为空",trigger:"blur"}],leader:[{required:!0,message:"部门负责人不能为空",trigger:"blur"}],sort:[{required:!0,message:"菜单顺序不能为空",trigger:"blur"}],email:[{type:"email",message:"'请输入正确的邮箱地址",trigger:["blur","change"]}],phone:[{pattern:/^1[3|4|5|6|7|8|9][0-9]\d{8}$/,message:"请输入正确的手机号码",trigger:"blur"}]},statusOptions:[{label:"正常",value:"0"},{label:"停用",value:"1"}]}},created:function(){this.getList()},methods:{getList:function(){var e=this;this.loading=!0,Object(o["d"])(this.queryParams).then((function(t){e.deptList=t.data,e.loading=!1}))},getUsers:function(){var e=this;Object(n["i"])({pageSize:999999}).then((function(t){e.users=t.data.list}))},normalizer:function(e){return e.children&&!e.children.length&&delete e.children,{id:e.deptId,label:e.deptName,children:e.children}},getTreeselect:function(e){var t=this;Object(o["d"])().then((function(a){if(t.deptOptions=[],"update"===e){var i={deptId:0,deptName:"主类目",children:[],isDisabled:!0};i.children=a.data,t.deptOptions.push(i)}else{var s={deptId:0,deptName:"主类目",children:[]};s.children=a.data,t.deptOptions.push(s)}}))},cancel:function(){this.open=!1,this.reset()},reset:function(){this.form={deptId:void 0,parentId:void 0,deptName:void 0,sorc:void 0,leader:void 0,phone:void 0,email:void 0,status:"0"}},handleQuery:function(){this.getList()},handleAdd:function(e){this.getUsers(),this.reset(),this.getTreeselect("add"),void 0!==e&&(this.form.parentId=e.deptId),this.open=!0,this.title="添加部门",this.isEdit=!1},handleUpdate:function(e){var t=this;this.getUsers(),this.reset(),this.getTreeselect("update"),Object(o["c"])(e.deptId).then((function(e){t.form=e.data,0===t.form.leader&&(t.form.leader=""),t.open=!0,t.title="修改部门",t.isEdit=!0}))},submitForm:function(){var e=this;this.$refs["form"].validate((function(t){t&&(void 0!==e.form.deptId?Object(o["g"])(e.form).then((function(t){200===t.code?(e.msgSuccess("修改成功"),e.open=!1,e.getList()):e.msgError(t.msg)})):Object(o["a"])(e.form).then((function(t){200===t.code?(e.msgSuccess("新增成功"),e.open=!1,e.getList()):e.msgError(t.msg)})))}))},handleDelete:function(e){var t=this;this.$confirm('是否确认删除名称为"'+e.deptName+'"的数据项?',"警告",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){return Object(o["b"])(e.deptId)})).then((function(){t.getList(),t.msgSuccess("删除成功")})).catch((function(){}))}}}),d=c,u=a("2877"),p=Object(u["a"])(d,i,s,!1,null,null,null);t["default"]=p.exports},"5f1e":function(e,t,a){"use strict";a.d(t,"b",(function(){return s})),a.d(t,"a",(function(){return n})),a.d(t,"d",(function(){return o})),a.d(t,"c",(function(){return l}));var i=a("b775");function s(e){return Object(i["a"])({url:"/api/v1/classify",method:"post",data:e})}function n(e){return Object(i["a"])({url:"/api/v1/classify",method:"get",params:e})}function o(e){return Object(i["a"])({url:"/api/v1/classify",method:"put",data:e})}function l(e){return Object(i["a"])({url:"/api/v1/classify",method:"delete",params:e})}},6768:function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-row",{staticClass:"panel-group",attrs:{gutter:40}},[a("el-col",{staticClass:"card-panel-col",attrs:{xs:12,sm:12,lg:6}},[a("div",{staticClass:"card-panel"},[a("div",{staticClass:"card-panel-icon-wrapper"},[a("svg-icon",{attrs:{"icon-class":"yonghu","class-name":"card-panel-icon"}})],1),e._v(" "),a("div",{staticClass:"card-panel-description"},[a("div",{staticClass:"card-panel-text"},[e._v("\n          用户总数\n        ")]),e._v(" "),a("count-to",{staticClass:"card-panel-num",attrs:{"start-val":0,"end-val":e.panelGroupValue.user_total_count,duration:2e3}})],1)])]),e._v(" "),a("el-col",{staticClass:"card-panel-col",attrs:{xs:12,sm:12,lg:6}},[a("div",{staticClass:"card-panel"},[a("div",{staticClass:"card-panel-icon-wrapper icon-gongdanshuju"},[a("svg-icon",{attrs:{"icon-class":"gongdanshuju","class-name":"card-panel-icon"}})],1),e._v(" "),a("div",{staticClass:"card-panel-description"},[a("div",{staticClass:"card-panel-text"},[e._v("\n          工单总数\n        ")]),e._v(" "),a("count-to",{staticClass:"card-panel-num",attrs:{"start-val":0,"end-val":e.panelGroupValue.work_order_total_count,duration:2200}})],1)])]),e._v(" "),a("el-col",{staticClass:"card-panel-col",attrs:{xs:12,sm:12,lg:6}},[a("div",{staticClass:"card-panel"},[a("div",{staticClass:"card-panel-icon-wrapper"},[a("svg-icon",{attrs:{"icon-class":"chaoqigongdan","class-name":"card-panel-icon"}})],1),e._v(" "),a("div",{staticClass:"card-panel-description"},[a("div",{staticClass:"card-panel-text"},[e._v("\n          待办总数\n        ")]),e._v(" "),a("count-to",{staticClass:"card-panel-num",attrs:{"start-val":0,"end-val":e.panelGroupValue.upcoming_total_count,duration:2400}})],1)])]),e._v(" "),a("el-col",{staticClass:"card-panel-col",attrs:{xs:12,sm:12,lg:6}},[a("div",{staticClass:"card-panel"},[a("div",{staticClass:"card-panel-icon-wrapper"},[a("svg-icon",{attrs:{"icon-class":"wodegongdan","class-name":"card-panel-icon"}})],1),e._v(" "),a("div",{staticClass:"card-panel-description"},[a("div",{staticClass:"card-panel-text"},[e._v("\n          个人待办\n        ")]),e._v(" "),a("count-to",{staticClass:"card-panel-num",attrs:{"start-val":0,"end-val":e.panelGroupValue.my_upcoming_count,duration:2800}})],1)])])],1)},s=[],n=a("ec1b"),o=a.n(n),l={components:{CountTo:o.a},props:["panelGroupValue"]},r=l,c=(a("7d8e"),a("2877")),d=Object(c["a"])(r,i,s,!1,null,"634acd46",null);t["default"]=d.exports},"67df":function(e,t,a){"use strict";var i=a("8ba6"),s=a.n(i);s.a},"6b50":function(e,t,a){},"6da4":function(e,t,a){"use strict";a.d(t,"f",(function(){return s})),a.d(t,"b",(function(){return n})),a.d(t,"i",(function(){return o})),a.d(t,"d",(function(){return l})),a.d(t,"g",(function(){return r})),a.d(t,"e",(function(){return c})),a.d(t,"h",(function(){return d})),a.d(t,"a",(function(){return u})),a.d(t,"c",(function(){return p}));var i=a("b775");function s(e){return Object(i["a"])({url:"/api/v1/work-order/process-structure",method:"get",params:e})}function n(e){return Object(i["a"])({url:"/api/v1/work-order/create",method:"post",data:e})}function o(e){return Object(i["a"])({url:"/api/v1/work-order/list",method:"get",params:e})}function l(e){return Object(i["a"])({url:"/api/v1/work-order/handle",method:"post",data:e})}function r(e){return Object(i["a"])({url:"/api/v1/work-order/unity",method:"get",params:e})}function c(e){return Object(i["a"])({url:"/api/v1/work-order/inversion",method:"post",data:e})}function d(e){return Object(i["a"])({url:"/api/v1/work-order/urge",method:"get",params:e})}function u(e,t){return Object(i["a"])({url:"/api/v1/work-order/active-order/".concat(t),method:"put",data:e})}function p(e){return Object(i["a"])({url:"/api/v1/work-order/delete/".concat(e),method:"delete"})}},"6e50":function(e,t,a){"use strict";var i=a("df1c"),s=a.n(i);s.a},"6ea5":function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container"},[a("el-card",{staticClass:"box-card"},[a("el-form",{ref:"listQuery",attrs:{model:e.listQuery,inline:!0}},[a("el-form-item",{attrs:{label:"工单标题"}},[a("el-input",{staticStyle:{width:"240px"},attrs:{placeholder:"请输入工单标题",clearable:"",size:"small"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.getList(t)}},model:{value:e.listQuery.title,callback:function(t){e.$set(e.listQuery,"title",t)},expression:"listQuery.title"}})],1),e._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary",icon:"el-icon-search",size:"small"},on:{click:e.getList}},[e._v("搜索")])],1)],1),e._v(" "),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],attrs:{border:"",data:e.ticketList},on:{"selection-change":e.handleSelectionChange}},[a("el-table-column",{attrs:{label:"ID",prop:"id",width:"120"}}),e._v(" "),a("el-table-column",{attrs:{label:"标题",prop:"title","show-overflow-tooltip":!0}}),e._v(" "),a("el-table-column",{attrs:{label:"当前状态","show-overflow-tooltip":!0},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v("\n            "+e._s(t.row.state_name)+"\n          ")])]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"当前处理人","show-overflow-tooltip":!0},scopedSlots:e._u([{key:"default",fn:function(t){return[0===t.row.is_end?a("span",[e._v(e._s(t.row.principals))]):e._e()]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"优先级","show-overflow-tooltip":!0,width:"120",align:"left"},scopedSlots:e._u([{key:"default",fn:function(t){return[2===t.row.priority?a("span",[a("el-tag",{attrs:{type:"warning"}},[e._v("紧急")])],1):3===t.row.priority?a("span",[a("el-tag",{attrs:{type:"danger"}},[e._v("非常紧急")])],1):a("span",[a("el-tag",{attrs:{type:"success"}},[e._v("一般")])],1)]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"是否结束","show-overflow-tooltip":!0,width:"80",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[0===t.row.is_end?a("el-tag",{attrs:{size:"mini",type:"success"}},[e._v("否")]):a("el-tag",{attrs:{size:"mini",type:"danger"}},[e._v("是")])]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"创建时间",align:"center",prop:"create_time",width:"180"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(e.parseTime(t.row.create_time)))])]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"操作",align:"center","class-name":"small-padding fixed-width",width:"180"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{directives:[{name:"permisaction",rawName:"v-permisaction",value:["process:list:related:select"],expression:"['process:list:related:select']"}],attrs:{size:"mini",type:"text",icon:"el-icon-edit"},on:{click:function(a){return e.handleView(t.row)}}},[e._v("查看")])]}}])})],1),e._v(" "),a("el-dialog",{attrs:{title:"转交工单",visible:e.dialogVisible,width:"30%"},on:{"update:visible":function(t){e.dialogVisible=t}}},[a("el-form",{ref:"ruleForm",staticClass:"demo-ruleForm",attrs:{model:e.ruleForm,rules:e.rules,"label-width":"60px"}},[a("el-form-item",{attrs:{label:"节点",prop:"node_id"}},[a("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"选择节点",size:"small"},model:{value:e.ruleForm.node_id,callback:function(t){e.$set(e.ruleForm,"node_id",t)},expression:"ruleForm.node_id"}},e._l(e.nodeList,(function(e,t){return a("el-option",{key:t,attrs:{label:e.label,value:e.id}})})),1)],1),e._v(" "),a("el-form-item",{attrs:{label:"用户",prop:"user_id"}},[a("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"选择用户",size:"small"},model:{value:e.ruleForm.user_id,callback:function(t){e.$set(e.ruleForm,"user_id",t)},expression:"ruleForm.user_id"}},e._l(e.users,(function(e,t){return a("el-option",{key:t,attrs:{label:e.nickName,value:e.userId}})})),1)],1),e._v(" "),a("el-form-item",{attrs:{label:"备注"}},[a("el-input",{attrs:{type:"textarea",size:"small"},model:{value:e.ruleForm.remarks,callback:function(t){e.$set(e.ruleForm,"remarks",t)},expression:"ruleForm.remarks"}})],1),e._v(" "),a("el-form-item",{staticStyle:{"text-align":"right"}},[a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.submitForm("ruleForm")}}},[e._v("提交")]),e._v(" "),a("el-button",{on:{click:function(t){e.dialogVisible=!1}}},[e._v("关闭")])],1)],1)],1),e._v(" "),a("pagination",{directives:[{name:"show",rawName:"v-show",value:e.total>0,expression:"total>0"}],attrs:{total:e.total,page:e.queryParams.pageIndex,limit:e.queryParams.pageSize},on:{"update:page":function(t){return e.$set(e.queryParams,"pageIndex",t)},"update:limit":function(t){return e.$set(e.queryParams,"pageSize",t)},pagination:e.getList}})],1)],1)},s=[],n=a("6da4"),o={data:function(){return{users:[],nodeList:[],dialogVisible:!1,queryParams:{},total:0,loading:!1,ticketList:[],listQuery:{page:1,per_page:10},ruleForm:{work_order_id:"",node_id:"",user_id:"",remarks:""},rules:{node_id:[{required:!0,message:"请选择节点",trigger:"change"}],user_id:[{required:!0,message:"请选择用户",trigger:"change"}]}}},created:function(){this.getList()},methods:{getList:function(){var e=this;this.loading=!0,this.listQuery.page=this.queryParams.pageIndex,this.listQuery.per_page=this.queryParams.pageSize,this.listQuery.classify=3,Object(n["i"])(this.listQuery).then((function(t){e.ticketList=t.data.data,e.queryParams.pageIndex=t.data.page,e.queryParams.pageSize=t.data.per_page,e.total=t.data.total_count,e.loading=!1}))},handleView:function(e){this.$router.push({name:"ProcessListHandle",query:{workOrderId:e.id,processId:e.process}})},handleSelectionChange:function(){}}},l=o,r=a("2877"),c=Object(r["a"])(l,i,s,!1,null,"35070031",null);t["default"]=c.exports},"70eb":function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container"},[a("el-card",{staticClass:"box-card"},[a("el-form",{ref:"queryForm",attrs:{model:e.queryParams,inline:!0}},[a("el-form-item",{attrs:{label:"角色名称",prop:"roleName"}},[a("el-input",{staticStyle:{width:"240px"},attrs:{placeholder:"请输入角色名称",clearable:"",size:"small"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleQuery(t)}},model:{value:e.queryParams.roleName,callback:function(t){e.$set(e.queryParams,"roleName",t)},expression:"queryParams.roleName"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"权限字符",prop:"roleKey"}},[a("el-input",{staticStyle:{width:"240px"},attrs:{placeholder:"请输入权限字符",clearable:"",size:"small"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleQuery(t)}},model:{value:e.queryParams.roleKey,callback:function(t){e.$set(e.queryParams,"roleKey",t)},expression:"queryParams.roleKey"}})],1),e._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary",icon:"el-icon-search",size:"small"},on:{click:e.handleQuery}},[e._v("搜索")]),e._v(" "),a("el-button",{attrs:{icon:"el-icon-refresh",size:"small"},on:{click:e.resetQuery}},[e._v("重置")])],1)],1),e._v(" "),a("el-row",{staticClass:"mb8",attrs:{gutter:10}},[a("el-col",{attrs:{span:1.5}},[a("el-button",{directives:[{name:"permisaction",rawName:"v-permisaction",value:["system:sysrole:add"],expression:"['system:sysrole:add']"}],attrs:{type:"primary",icon:"el-icon-plus",size:"mini"},on:{click:e.handleAdd}},[e._v("新增")])],1),e._v(" "),a("el-col",{attrs:{span:1.5}},[a("el-button",{directives:[{name:"permisaction",rawName:"v-permisaction",value:["system:sysrole:edit"],expression:"['system:sysrole:edit']"}],attrs:{type:"success",icon:"el-icon-edit",size:"mini",disabled:e.single},on:{click:e.handleUpdate}},[e._v("编辑")])],1),e._v(" "),a("el-col",{attrs:{span:1.5}},[a("el-button",{directives:[{name:"permisaction",rawName:"v-permisaction",value:["system:sysrole:remove"],expression:"['system:sysrole:remove']"}],attrs:{type:"danger",icon:"el-icon-delete",size:"mini",disabled:e.multiple},on:{click:e.handleDelete}},[e._v("删除")])],1),e._v(" "),a("el-col",{attrs:{span:1.5}},[a("el-button",{directives:[{name:"permisaction",rawName:"v-permisaction",value:["system:sysrole:export"],expression:"['system:sysrole:export']"}],attrs:{type:"warning",icon:"el-icon-download",size:"mini"},on:{click:e.handleExport}},[e._v("导出")])],1)],1),e._v(" "),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],attrs:{border:"",data:e.roleList},on:{"selection-change":e.handleSelectionChange}},[a("el-table-column",{attrs:{type:"selection",width:"55",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{label:"角色编号",prop:"roleId",width:"120"}}),e._v(" "),a("el-table-column",{attrs:{label:"角色名称",prop:"roleName","show-overflow-tooltip":!0,width:"150"}}),e._v(" "),a("el-table-column",{attrs:{label:"权限字符",prop:"roleKey","show-overflow-tooltip":!0,width:"150"}}),e._v(" "),a("el-table-column",{attrs:{label:"显示顺序",prop:"roleSort",width:"100"}}),e._v(" "),a("el-table-column",{attrs:{label:"状态",align:"center",width:"100"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-switch",{attrs:{"active-value":"0","inactive-value":"1"},on:{change:function(a){return e.handleStatusChange(t.row)}},model:{value:t.row.status,callback:function(a){e.$set(t.row,"status",a)},expression:"scope.row.status"}})]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"创建时间",align:"center",prop:"create_time",width:"180"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(e.parseTime(t.row.create_time)))])]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"操作",align:"center","class-name":"small-padding fixed-width"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{directives:[{name:"permisaction",rawName:"v-permisaction",value:["system:sysrole:edit"],expression:"['system:sysrole:edit']"}],attrs:{size:"mini",type:"text",icon:"el-icon-edit"},on:{click:function(a){return e.handleUpdate(t.row)}}},[e._v("编辑")]),e._v(" "),a("el-button",{directives:[{name:"permisaction",rawName:"v-permisaction",value:["system:sysrole:remove"],expression:"['system:sysrole:remove']"}],attrs:{size:"mini",type:"text",icon:"el-icon-delete"},on:{click:function(a){return e.handleDelete(t.row)}}},[e._v("删除")])]}}])})],1),e._v(" "),a("pagination",{directives:[{name:"show",rawName:"v-show",value:e.total>0,expression:"total>0"}],attrs:{total:e.total,page:e.queryParams.pageIndex,limit:e.queryParams.pageSize},on:{"update:page":function(t){return e.$set(e.queryParams,"pageIndex",t)},"update:limit":function(t){return e.$set(e.queryParams,"pageSize",t)},pagination:e.getList}}),e._v(" "),a("el-dialog",{attrs:{title:e.title,visible:e.open,width:"500px"},on:{"update:visible":function(t){e.open=t}}},[a("el-form",{ref:"form",attrs:{model:e.form,rules:e.rules,"label-width":"80px"}},[a("el-form-item",{attrs:{label:"角色名称",prop:"roleName"}},[a("el-input",{attrs:{placeholder:"请输入角色名称",disabled:e.isEdit},model:{value:e.form.roleName,callback:function(t){e.$set(e.form,"roleName",t)},expression:"form.roleName"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"权限字符",prop:"roleKey"}},[a("el-input",{attrs:{placeholder:"请输入权限字符",disabled:e.isEdit},model:{value:e.form.roleKey,callback:function(t){e.$set(e.form,"roleKey",t)},expression:"form.roleKey"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"角色顺序",prop:"roleSort"}},[a("el-input-number",{attrs:{"controls-position":"right",min:0},model:{value:e.form.roleSort,callback:function(t){e.$set(e.form,"roleSort",t)},expression:"form.roleSort"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"菜单权限"}},[a("el-tree",{ref:"menu",attrs:{data:e.menuOptions,"show-checkbox":"","node-key":"id","empty-text":"加载中，请稍后",props:e.defaultProps}})],1),e._v(" "),a("el-form-item",{attrs:{label:"备注"}},[a("el-input",{attrs:{type:"textarea",placeholder:"请输入内容"},model:{value:e.form.remark,callback:function(t){e.$set(e.form,"remark",t)},expression:"form.remark"}})],1)],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:e.submitForm}},[e._v("确 定")]),e._v(" "),a("el-button",{on:{click:e.cancel}},[e._v("取 消")])],1)],1),e._v(" "),a("el-dialog",{attrs:{title:e.title,visible:e.openDataScope,width:"500px"},on:{"update:visible":function(t){e.openDataScope=t}}},[a("el-form",{attrs:{model:e.form,"label-width":"80px"}},[a("el-form-item",{attrs:{label:"角色名称"}},[a("el-input",{attrs:{disabled:!0},model:{value:e.form.roleName,callback:function(t){e.$set(e.form,"roleName",t)},expression:"form.roleName"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"权限字符"}},[a("el-input",{attrs:{disabled:!0},model:{value:e.form.roleKey,callback:function(t){e.$set(e.form,"roleKey",t)},expression:"form.roleKey"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"权限范围"}},[a("el-select",{model:{value:e.form.dataScope,callback:function(t){e.$set(e.form,"dataScope",t)},expression:"form.dataScope"}},e._l(e.dataScopeOptions,(function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1),e._v(" "),a("el-form-item",{directives:[{name:"show",rawName:"v-show",value:2==e.form.dataScope,expression:"form.dataScope == 2"}],attrs:{label:"数据权限"}},[a("el-tree",{ref:"dept",attrs:{data:e.deptOptions,"show-checkbox":"","default-expand-all":"","node-key":"id","empty-text":"加载中，请稍后",props:e.defaultProps}})],1)],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:e.submitDataScope}},[e._v("确 定")]),e._v(" "),a("el-button",{on:{click:e.cancelDataScope}},[e._v("取 消")])],1)],1)],1)],1)},s=[],n=a("3528"),o=a("a6dc"),l=a("fcb7"),r=a("ed08"),c={name:"Role",data:function(){return{loading:!0,ids:[],single:!0,multiple:!0,total:0,roleList:[],title:"",open:!1,openDataScope:!1,isEdit:!1,dateRange:[],dataScopeOptions:[{value:"1",label:"全部数据权限"},{value:"2",label:"自定数据权限"},{value:"3",label:"本部门数据权限"},{value:"4",label:"本部门及以下数据权限"},{value:"5",label:"仅本人数据权限"}],menuOptions:[],deptOptions:[],queryParams:{pageIndex:1,pageSize:10,roleName:void 0,roleKey:void 0,status:void 0},form:{},defaultProps:{children:"children",label:"label"},rules:{roleName:[{required:!0,message:"角色名称不能为空",trigger:"blur"}],roleKey:[{required:!0,message:"权限字符不能为空",trigger:"blur"}],roleSort:[{required:!0,message:"角色顺序不能为空",trigger:"blur"}]}}},created:function(){this.getList()},methods:{getList:function(){var e=this;this.loading=!0,Object(n["g"])(this.addDateRange(this.queryParams,this.dateRange)).then((function(t){e.roleList=t.data.list,e.total=t.data.count,e.loading=!1}))},getMenuTreeselect:function(){var e=this;Object(o["f"])().then((function(t){e.menuOptions=t.data}))},getDeptTreeselect:function(){var e=this;Object(l["f"])().then((function(t){e.deptOptions=t.data.list}))},getMenuAllCheckedKeys:function(){var e=this.$refs.menu.getHalfCheckedKeys(),t=this.$refs.menu.getCheckedKeys();return e.unshift.apply(e,t),e},getDeptAllCheckedKeys:function(){var e=this.$refs.dept.getCheckedKeys();return e},getRoleMenuTreeselect:function(e){var t=this;Object(o["e"])(e).then((function(e){t.menuOptions=e.menus,t.$nextTick((function(){t.$refs.menu.setCheckedKeys(e.checkedKeys)}))}))},getRoleDeptTreeselect:function(e){var t=this;Object(l["e"])(e).then((function(e){t.deptOptions=e.depts,t.$nextTick((function(){t.$refs.dept.setCheckedKeys(e.checkedKeys)}))}))},handleStatusChange:function(e){var t=this,a="0"===e.status?"启用":"停用";this.$confirm('确认要"'+a+'""'+e.roleName+'"角色吗?',"警告",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){return Object(n["b"])(e.roleId,e.status)})).then((function(){t.msgSuccess(a+"成功")})).catch((function(){e.status="0"===e.status?"1":"0"}))},cancel:function(){this.open=!1,this.reset()},cancelDataScope:function(){this.openDataScope=!1,this.reset()},reset:function(){void 0!==this.$refs.menu&&this.$refs.menu.setCheckedKeys([]),this.form={roleId:void 0,roleName:void 0,roleKey:void 0,roleSort:0,status:"0",menuIds:[],deptIds:[],remark:void 0},this.resetForm("form")},handleQuery:function(){this.queryParams.pageIndex=1,this.getList()},resetQuery:function(){this.dateRange=[],this.resetForm("queryForm"),this.handleQuery()},handleSelectionChange:function(e){this.ids=e.map((function(e){return e.roleId})),this.single=1!==e.length,this.multiple=!e.length},handleAdd:function(){this.reset(),this.getMenuTreeselect(),this.open=!0,this.title="添加角色",this.isEdit=!1},handleUpdate:function(e){var t=this;this.reset();var a=e.roleId||this.ids;Object(n["e"])(a).then((function(e){t.form=e.data,t.open=!0,t.title="修改角色",t.isEdit=!0,t.getRoleMenuTreeselect(a)}))},submitForm:function(){var e=this;this.$refs["form"].validate((function(t){t&&(void 0!==e.form.roleId?(e.form.menuIds=e.getMenuAllCheckedKeys(),Object(n["h"])(e.form).then((function(t){200===t.code?(e.msgSuccess("修改成功"),e.open=!1,e.getList()):e.msgError(t.msg)}))):(e.form.menuIds=e.getMenuAllCheckedKeys(),Object(n["a"])(e.form).then((function(t){200===t.code?(e.msgSuccess("新增成功"),e.open=!1,e.getList()):e.msgError(t.msg)}))))}))},submitDataScope:function(){var e=this;void 0!==this.form.roleId&&(this.form.deptIds=this.getDeptAllCheckedKeys(),Object(n["c"])(this.form).then((function(t){200===t.code?(e.msgSuccess("修改成功"),e.openDataScope=!1,e.getList()):e.msgError(t.msg)})))},handleDelete:function(e){var t=this,a=e.roleId||this.ids;this.$confirm('是否确认删除角色编号为"'+a+'"的数据项?',"警告",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){return Object(n["d"])(a)})).then((function(){t.getList(),t.msgSuccess("删除成功")})).catch((function(){}))},handleExport:function(){var e=this;this.$confirm("是否确认导出所有角色数据项?","警告",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){e.downloadLoading=!0,Promise.all([a.e("chunk-50a983d1"),a.e("chunk-748b566e")]).then(a.bind(null,"4bf8d")).then((function(t){var a=["角色编号","角色名称","权限字符","显示顺序","状态","创建时间"],i=["roleId","roleName","roleKey","roleSort","status","create_time"],s=e.roleList,n=Object(r["c"])(i,s);t.export_json_to_excel({header:a,data:n,filename:"角色管理",autoWidth:!0,bookType:"xlsx"}),e.downloadLoading=!1}))}))}}},d=c,u=a("2877"),p=Object(u["a"])(d,i,s,!1,null,null,null);t["default"]=p.exports},7110:function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container"},[a("el-card",{staticClass:"box-card"},[a("el-form",{ref:"listQuery",attrs:{model:e.listQuery,inline:!0}},[a("el-form-item",{attrs:{label:"分类名称"}},[a("el-input",{staticStyle:{width:"240px"},attrs:{placeholder:"请输入分类名称",clearable:"",size:"small"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleQuery(t)}},model:{value:e.listQuery.name,callback:function(t){e.$set(e.listQuery,"name",t)},expression:"listQuery.name"}})],1),e._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary",icon:"el-icon-search",size:"small"},on:{click:e.handleQuery}},[e._v("搜索")])],1)],1),e._v(" "),a("el-row",{staticClass:"mb8",attrs:{gutter:10}},[a("el-col",{attrs:{span:1.5}},[a("el-button",{directives:[{name:"permisaction",rawName:"v-permisaction",value:["process:admin:classify:add"],expression:"['process:admin:classify:add']"}],attrs:{type:"primary",icon:"el-icon-plus",size:"mini"},on:{click:e.handleCreate}},[e._v("新增")])],1)],1),e._v(" "),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],attrs:{border:"",data:e.classifyList},on:{"selection-change":e.handleSelectionChange}},[a("el-table-column",{attrs:{type:"selection",width:"55",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{label:"ID",prop:"id",width:"120"}}),e._v(" "),a("el-table-column",{attrs:{label:"名称",prop:"name","show-overflow-tooltip":!0}}),e._v(" "),a("el-table-column",{attrs:{label:"创建者",prop:"create_name","show-overflow-tooltip":!0,width:"150"}}),e._v(" "),a("el-table-column",{attrs:{label:"创建时间",align:"center",prop:"create_time",width:"180"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(e.parseTime(t.row.create_time)))])]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"操作",align:"center","class-name":"small-padding fixed-width"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{directives:[{name:"permisaction",rawName:"v-permisaction",value:["process:admin:classify:edit"],expression:"['process:admin:classify:edit']"}],attrs:{size:"mini",type:"text",icon:"el-icon-edit"},on:{click:function(a){return e.handleEdit(t.row)}}},[e._v("编辑")]),e._v(" "),a("el-button",{directives:[{name:"permisaction",rawName:"v-permisaction",value:["process:admin:classify:delete"],expression:"['process:admin:classify:delete']"}],attrs:{size:"mini",type:"text",icon:"el-icon-delete"},on:{click:function(a){return e.handleDelete(t.row)}}},[e._v("删除")])]}}])})],1),e._v(" "),a("pagination",{directives:[{name:"show",rawName:"v-show",value:e.total>0,expression:"total>0"}],attrs:{total:e.total,page:e.queryParams.pageIndex,limit:e.queryParams.pageSize},on:{"update:page":function(t){return e.$set(e.queryParams,"pageIndex",t)},"update:limit":function(t){return e.$set(e.queryParams,"pageSize",t)},pagination:e.getList}}),e._v(" "),a("el-dialog",{attrs:{title:1===e.dialogFormVisibleName?"新建分类":"编辑分类",visible:e.open,width:"600px"},on:{"update:visible":function(t){e.open=t}}},[a("div",{staticClass:"tpl-create-content"},[a("el-form",{ref:"ruleForm",attrs:{model:e.ruleForm,rules:e.rules,"label-width":"100px"}},[a("el-form-item",{staticStyle:{width:"95%"},attrs:{label:"分类名称",prop:"name"}},[a("el-input",{model:{value:e.ruleForm.name,callback:function(t){e.$set(e.ruleForm,"name",t)},expression:"ruleForm.name"}})],1)],1),e._v(" "),a("div",{staticClass:"dialog-footer",staticStyle:{"text-align":"right"},attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:function(t){1===e.dialogFormVisibleName?e.submitForm("ruleForm"):e.editForm("ruleForm")}}},[e._v("提交")]),e._v(" "),a("el-button",{on:{click:function(t){e.open=!1}}},[e._v("取 消")])],1)],1)])],1)],1)},s=[],n=(a("7f7f"),a("5f1e")),o={name:"Classify",data:function(){return{dialogFormVisibleName:1,queryParams:{},loading:!0,ids:[],single:!0,multiple:!0,total:0,open:!1,classifyList:[],listQuery:{page:1,per_page:10},ruleForm:{id:void 0,name:""},rules:{name:[{required:!0,message:"请输入流程分类",trigger:"blur"}]}}},created:function(){this.getList()},methods:{getList:function(){var e=this;this.loading=!0,this.listQuery.page=this.queryParams.pageIndex,this.listQuery.per_page=this.queryParams.pageSize,Object(n["a"])(this.listQuery).then((function(t){e.classifyList=t.data.data,e.queryParams.pageIndex=t.data.page,e.queryParams.pageSize=t.data.per_page,e.total=t.data.total_count,e.loading=!1}))},handleCreate:function(){this.ruleForm={id:void 0,name:""},this.dialogFormVisibleName=1,this.open=!0},handleEdit:function(e){this.dialogFormVisibleName=2,this.ruleForm.id=e.id,this.ruleForm.name=e.name,this.open=!0},submitForm:function(e){var t=this;this.$refs[e].validate((function(e){e&&Object(n["b"])(t.ruleForm).then((function(e){void 0!==e&&(t.getList(),t.$message({type:"success",message:"分类已增加!"}),t.open=!1)}))}))},editForm:function(e){var t=this;this.$refs[e].validate((function(e){e&&Object(n["d"])(t.ruleForm).then((function(e){void 0!==e&&(t.getList(),t.$message({type:"success",message:"分类已更新!"}),t.open=!1)}))}))},handleQuery:function(){this.queryParams.pageIndex=1,this.queryParams.pageSize=10,this.getList()},handleDelete:function(e){var t=this;this.$confirm("此操作将永久删除该数据, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){Object(n["c"])({classifyId:e.id}).then((function(e){void 0!==e&&(t.getList(),t.$message({type:"success",message:"分类已删除!"}))}))})).catch((function(){t.$message({type:"info",message:"已取消删除"})}))},handleSelectionChange:function(){}}},l=o,r=a("2877"),c=Object(r["a"])(l,i,s,!1,null,null,null);t["default"]=c.exports},7115:function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"user-activity"},[a("div",{staticClass:"post"},[a("div",{staticClass:"user-block"},[a("img",{staticClass:"img-circle",attrs:{src:"https://wpimg.wallstcn.com/57ed425a-c71e-4201-9428-68760c0537c4.jpg"+e.avatarPrefix}}),e._v(" "),a("span",{staticClass:"username text-muted"},[e._v("Iron Man")]),e._v(" "),a("span",{staticClass:"description"},[e._v("Shared publicly - 7:30 PM today")])]),e._v(" "),a("p",[e._v("\n      Lorem ipsum represents a long-held tradition for designers,\n      typographers and the like. Some people hate it and argue for\n      its demise, but others ignore the hate as they create awesome\n      tools to help create filler text for everyone from bacon lovers\n      to Charlie Sheen fans.\n    ")]),e._v(" "),a("ul",{staticClass:"list-inline"},[e._m(0),e._v(" "),a("li",[a("span",{staticClass:"link-black text-sm"},[a("svg-icon",{attrs:{"icon-class":"like"}}),e._v("\n          Like\n        ")],1)])])]),e._v(" "),a("div",{staticClass:"post"},[a("div",{staticClass:"user-block"},[a("img",{staticClass:"img-circle",attrs:{src:"https://wpimg.wallstcn.com/9e2a5d0a-bd5b-457f-ac8e-86554616c87b.jpg"+e.avatarPrefix}}),e._v(" "),a("span",{staticClass:"username text-muted"},[e._v("Captain American")]),e._v(" "),a("span",{staticClass:"description"},[e._v("Sent you a message - yesterday")])]),e._v(" "),a("p",[e._v("\n      Lorem ipsum represents a long-held tradition for designers,\n      typographers and the like. Some people hate it and argue for\n      its demise, but others ignore the hate as they create awesome\n      tools to help create filler text for everyone from bacon lovers\n      to Charlie Sheen fans.\n    ")]),e._v(" "),a("ul",{staticClass:"list-inline"},[e._m(1),e._v(" "),a("li",[a("span",{staticClass:"link-black text-sm"},[a("svg-icon",{attrs:{"icon-class":"like"}}),e._v("\n          Like\n        ")],1)])])]),e._v(" "),a("div",{staticClass:"post"},[a("div",{staticClass:"user-block"},[a("img",{staticClass:"img-circle",attrs:{src:"https://wpimg.wallstcn.com/fb57f689-e1ab-443c-af12-8d4066e202e2.jpg"+e.avatarPrefix}}),e._v(" "),a("span",{staticClass:"username"},[e._v("Spider Man")]),e._v(" "),a("span",{staticClass:"description"},[e._v("Posted 4 photos - 2 days ago")])]),e._v(" "),a("div",{staticClass:"user-images"},[a("el-carousel",{attrs:{interval:6e3,type:"card",height:"220px"}},e._l(e.carouselImages,(function(t){return a("el-carousel-item",{key:t},[a("img",{staticClass:"image",attrs:{src:t+e.carouselPrefix}})])})),1)],1),e._v(" "),a("ul",{staticClass:"list-inline"},[e._m(2),e._v(" "),a("li",[a("span",{staticClass:"link-black text-sm"},[a("svg-icon",{attrs:{"icon-class":"like"}}),e._v(" Like")],1)])])])])},s=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("li",[a("span",{staticClass:"link-black text-sm"},[a("i",{staticClass:"el-icon-share"}),e._v("\n          Share\n        ")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("li",[a("span",{staticClass:"link-black text-sm"},[a("i",{staticClass:"el-icon-share"}),e._v("\n          Share\n        ")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("li",[a("span",{staticClass:"link-black text-sm"},[a("i",{staticClass:"el-icon-share"}),e._v(" Share")])])}],n="?imageView2/1/w/80/h/80",o="?imageView2/2/h/440",l={data:function(){return{carouselImages:["https://wpimg.wallstcn.com/9679ffb0-9e0b-4451-9916-e21992218054.jpg","https://wpimg.wallstcn.com/bcce3734-0837-4b9f-9261-351ef384f75a.jpg","https://wpimg.wallstcn.com/d1d7b033-d75e-4cd6-ae39-fcd5f1c0a7c5.jpg","https://wpimg.wallstcn.com/50530061-851b-4ca5-9dc5-2fead928a939.jpg"],avatarPrefix:n,carouselPrefix:o}}},r=l,c=(a("6e50"),a("2877")),d=Object(c["a"])(r,i,s,!1,null,"1066d76c",null);t["default"]=d.exports},"74b5":function(e,t,a){},"75d9":function(e,t,a){},"75fe":function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container"},[a("el-card",{staticClass:"box-card"},[a("el-form",{ref:"listQuery",attrs:{model:e.listQuery,inline:!0}},[a("el-form-item",{attrs:{label:"分类名称"}},[a("el-input",{staticStyle:{width:"240px"},attrs:{placeholder:"请输入分类名称",clearable:"",size:"small"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleQuery(t)}},model:{value:e.listQuery.name,callback:function(t){e.$set(e.listQuery,"name",t)},expression:"listQuery.name"}})],1),e._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary",icon:"el-icon-search",size:"small"},on:{click:e.handleQuery}},[e._v("搜索")])],1)],1),e._v(" "),a("el-row",{staticClass:"mb8",attrs:{gutter:10}},[a("el-col",{attrs:{span:1.5}},[a("el-button",{directives:[{name:"permisaction",rawName:"v-permisaction",value:["process:admin:task:add"],expression:"['process:admin:task:add']"}],attrs:{type:"primary",icon:"el-icon-plus",size:"mini"},on:{click:e.handleCreate}},[e._v("新增")])],1)],1),e._v(" "),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],attrs:{border:"",data:e.taskList},on:{"selection-change":e.handleSelectionChange}},[a("el-table-column",{attrs:{type:"selection",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{label:"UUID",prop:"uuid"}}),e._v(" "),a("el-table-column",{attrs:{label:"名称",prop:"name","show-overflow-tooltip":!0}}),e._v(" "),a("el-table-column",{attrs:{label:"任务类型",prop:"classify","show-overflow-tooltip":!0}}),e._v(" "),a("el-table-column",{attrs:{label:"创建者",prop:"creator"}}),e._v(" "),a("el-table-column",{attrs:{label:"操作",align:"center","class-name":"small-padding fixed-width"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{directives:[{name:"permisaction",rawName:"v-permisaction",value:["process:admin:task:edit"],expression:"['process:admin:task:edit']"}],attrs:{size:"mini",type:"text",icon:"el-icon-edit"},on:{click:function(a){return e.handleEdit(t.row)}}},[e._v("编辑")]),e._v(" "),a("el-button",{directives:[{name:"permisaction",rawName:"v-permisaction",value:["process:admin:task:delete"],expression:"['process:admin:task:delete']"}],attrs:{size:"mini",type:"text",icon:"el-icon-delete"},on:{click:function(a){return e.handleDelete(t.row)}}},[e._v("删除")])]}}])})],1),e._v(" "),a("pagination",{directives:[{name:"show",rawName:"v-show",value:e.total>0,expression:"total>0"}],attrs:{total:e.total,page:e.queryParams.pageIndex,limit:e.queryParams.pageSize},on:{"update:page":function(t){return e.$set(e.queryParams,"pageIndex",t)},"update:limit":function(t){return e.$set(e.queryParams,"pageSize",t)},pagination:e.getList}}),e._v(" "),a("el-dialog",{attrs:{title:1===e.dialogFormVisibleName?"新建任务":"编辑任务","close-on-click-modal":!1,visible:e.open},on:{"update:visible":function(t){e.open=t}}},[a("div",{staticClass:"tpl-create-content"},[a("el-form",{ref:"ruleForm",attrs:{model:e.ruleForm,rules:e.rules,"label-width":"100px"}},[a("el-form-item",{attrs:{label:"名称",prop:"name"}},[a("el-input",{staticStyle:{width:"50%"},attrs:{placeholder:"请输入任务名称"},model:{value:e.ruleForm.name,callback:function(t){e.$set(e.ruleForm,"name",t)},expression:"ruleForm.name"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"类型",prop:"classify"}},[a("el-select",{staticStyle:{width:"50%"},attrs:{placeholder:"请选择任务类型"},on:{change:e.selectTaskType},model:{value:e.ruleForm.classify,callback:function(t){e.$set(e.ruleForm,"classify",t)},expression:"ruleForm.classify"}},[a("el-option",{attrs:{label:"Python",value:"python"}}),e._v(" "),a("el-option",{attrs:{label:"Shell",value:"shell"}})],1)],1),e._v(" "),a("el-form-item",{attrs:{label:"任务",prop:"content"}},[a("div",{staticClass:"codemirror-div"},[e.codemirrorRefresh?a("codemirror",{ref:"codemirror",staticClass:"codemirror",attrs:{value:e.ruleForm.content,options:e.contentOptions}}):e._e()],1)])],1),e._v(" "),a("div",{staticStyle:{"text-align":"center"}},[a("el-button",{attrs:{type:"primary"},on:{click:function(t){1===e.dialogFormVisibleName?e.submitForm("ruleForm"):e.editForm("ruleForm")}}},[e._v("提交")]),e._v(" "),a("el-button",{on:{click:function(t){e.open=!1}}},[e._v("取 消")])],1)],1)])],1)],1)},s=[],n=(a("7f7f"),a("4917"),a("40d1")),o=a("8f94");a("db91"),a("02f0");var l={name:"Task",components:{codemirror:o["codemirror"]},data:function(){return{dialogFormVisibleName:1,queryParams:{},loading:!0,ids:[],single:!0,multiple:!0,total:0,open:!1,codemirrorRefresh:!0,taskList:[],ruleForm:{name:"",classify:"",content:""},contentOptions:{flattenSpans:!1,matchBrackets:!0,lineWiseCopyCut:!0,tabSize:4,value:"",mode:"python",lineNumbers:!0,line:!0,smartIndent:!0,autoCloseBrackets:!0,foldGutter:!0,indentUnit:4,styleActiveLine:!0},rules:{name:[{required:!0,message:"请输入任务名称",trigger:"blur"},{validator:function(e,t,a){t.match(/^[_a-zA-Z0-9]+$/)?a():a(new Error("只能输入大小写英文及下划线"))},trigger:"blur"}],classify:[{required:!0,message:"请选择任务类型",trigger:"change"}],content:[{required:!0,message:"请输入任务内容",trigger:"blur"}]},listQuery:{page:1,per_page:10}}},created:function(){this.getList()},methods:{selectTaskType:function(){""===this.ruleForm.classify?this.contentOptions.mode="python":this.contentOptions.mode=this.ruleForm.classify,this.codemirrorRefresh=!1,this.codemirrorRefresh=!0},getList:function(){var e=this;this.loading=!0,this.listQuery.page=this.queryParams.pageIndex,this.listQuery.per_page=this.queryParams.pageSize,Object(n["d"])(this.listQuery).then((function(t){e.taskList=t.data.data,e.queryParams.pageIndex=t.data.page,e.queryParams.pageSize=t.data.per_page,e.total=t.data.total_count,e.loading=!1}))},handleQuery:function(e){this.listQuery.name=e.name,this.getList()},handleCreate:function(){this.ruleForm={name:"",classify:"",content:""},this.dialogFormVisibleName=1,this.open=!0},handleEdit:function(e){var t=this;this.dialogFormVisibleName=2,Object(n["c"])({file_name:e.full_name}).then((function(a){t.ruleForm={name:e.name,full_name:e.full_name,classify:e.classify,content:a.data},t.open=!0}))},submitForm:function(e){var t=this;this.ruleForm.content=this.$refs.codemirror.content,this.$refs[e].validate((function(e){e&&Object(n["a"])(t.ruleForm).then((function(){t.getList(),t.open=!1,t.$message({message:"任务脚本创建成功",type:"success"})}))}))},editForm:function(e){var t=this;this.ruleForm.content=this.$refs.codemirror.content,this.$refs[e].validate((function(e){e&&Object(n["e"])(t.ruleForm).then((function(e){t.getList(),t.open=!1,t.$message({message:"任务脚本更新成功",type:"success"})}))}))},handleDelete:function(e){var t=this;this.$confirm("此操作将永久删除该数据, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){Object(n["b"])({full_name:e.full_name}).then((function(){t.getList(),t.$message({type:"success",message:"删除成功!"})}))})).catch((function(){t.$message({type:"info",message:"已取消删除"})}))},handleSelectionChange:function(){}}},r=l,c=(a("f79c"),a("2877")),d=Object(c["a"])(r,i,s,!1,null,"cbc51eae",null);t["default"]=d.exports},7854:function(e,t,a){"use strict";var i=a("ec2d"),s=a.n(i);s.a},"7a50":function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container"},[a("el-card",{staticClass:"box-card remove-padding-bottom"},[a("el-form",{ref:"listQuery",attrs:{model:e.listQuery,inline:!0}},[a("el-form-item",{attrs:{label:"流程名称"}},[a("el-input",{staticStyle:{width:"240px"},attrs:{placeholder:"请输入流程名称",clearable:"",size:"small"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleQuery(t)}},model:{value:e.listQuery.name,callback:function(t){e.$set(e.listQuery,"name",t)},expression:"listQuery.name"}})],1),e._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary",icon:"el-icon-search",size:"small"},on:{click:e.handleQuery}},[e._v("搜索")])],1)],1),e._v(" "),e._l(e.processLists,(function(t){return a("div",{key:t.id},[0!==t.process_list.length?a("div",[a("div",{staticClass:"workflow-classify-title"},[e._v("\n          "+e._s(t.name)+"\n        ")]),e._v(" "),a("div",{staticStyle:{"margin-bottom":"15px"}},[e._l(t.process_list,(function(t){return[a("el-tooltip",{key:t.id,attrs:{effect:"dark",placement:"top"}},[a("div",{attrs:{slot:"content"},slot:"content"},[e._v("\n                "+e._s(t.name)+"\n                "),a("br"),e._v("\n                "+e._s(t.remarks)+"\n              ")]),e._v(" "),a("el-button",{staticClass:"workflow-classify-button",attrs:{plain:""},on:{click:function(a){return e.submitWorkOrder(t.id)}}},[a("div",{staticClass:"process-button-div"},[a("div",{staticClass:"process-div-icon"},[a("e-icon",{staticClass:"process-div-el-icon",attrs:{"icon-name":t.icon}})],1),e._v(" "),a("div",{staticClass:"process-div-body"},[a("div",{staticClass:"process-div-title ellipsis"},[e._v("\n                      "+e._s(t.name)+"\n                    ")]),e._v(" "),a("div",{staticClass:"process-div-remarks ellipsis"},[e._v("\n                      "+e._s(t.remarks)+"\n                    ")])])])])],1)]}))],2)]):e._e()])}))],2)],1)},s=[],n=a("edd9"),o={name:"ApplyProcessList",data:function(){return{processLists:[],listQuery:{}}},created:function(){this.getProcessList()},methods:{getProcessList:function(){var e=this;Object(n["a"])(this.listQuery).then((function(t){e.processLists=t.data}))},handleQuery:function(){this.getProcessList()},submitWorkOrder:function(e){this.$router.push({path:"/process/create-ticket",query:{processId:e}})}}},l=o,r=(a("f6cb8"),a("2877")),c=Object(r["a"])(l,i,s,!1,null,"f0f2acce",null);t["default"]=c.exports},"7d8e":function(e,t,a){"use strict";var i=a("94c4"),s=a.n(i);s.a},"7faf":function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-card",{staticStyle:{"margin-bottom":"20px"}},[a("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[a("span",[e._v("About me")])]),e._v(" "),a("div",{staticClass:"user-profile"},[a("div",{staticClass:"box-center"},[a("pan-thumb",{attrs:{image:e.user.avatar,height:"100px",width:"100px",hoverable:!1}},[a("div",[e._v("Hello")]),e._v("\n        "+e._s(e.user.role)+"\n      ")])],1),e._v(" "),a("div",{staticClass:"box-center"},[a("div",{staticClass:"user-name text-center"},[e._v(e._s(e.user.name))]),e._v(" "),a("div",{staticClass:"user-role text-center text-muted"},[e._v(e._s(e._f("uppercaseFirst")(e.user.role)))])])]),e._v(" "),a("div",{staticClass:"user-bio"},[a("div",{staticClass:"user-education user-bio-section"},[a("div",{staticClass:"user-bio-section-header"},[a("svg-icon",{attrs:{"icon-class":"education"}}),a("span",[e._v("Education")])],1),e._v(" "),a("div",{staticClass:"user-bio-section-body"},[a("div",{staticClass:"text-muted"},[e._v("\n          JS in Computer Science from the University of Technology\n        ")])])]),e._v(" "),a("div",{staticClass:"user-skills user-bio-section"},[a("div",{staticClass:"user-bio-section-header"},[a("svg-icon",{attrs:{"icon-class":"skill"}}),a("span",[e._v("Skills")])],1),e._v(" "),a("div",{staticClass:"user-bio-section-body"},[a("div",{staticClass:"progress-item"},[a("span",[e._v("Vue")]),e._v(" "),a("el-progress",{attrs:{percentage:70}})],1),e._v(" "),a("div",{staticClass:"progress-item"},[a("span",[e._v("JavaScript")]),e._v(" "),a("el-progress",{attrs:{percentage:18}})],1),e._v(" "),a("div",{staticClass:"progress-item"},[a("span",[e._v("Css")]),e._v(" "),a("el-progress",{attrs:{percentage:12}})],1),e._v(" "),a("div",{staticClass:"progress-item"},[a("span",[e._v("ESLint")]),e._v(" "),a("el-progress",{attrs:{percentage:100,status:"success"}})],1)])])])])},s=[],n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"pan-item",style:{zIndex:e.zIndex,height:e.height,width:e.width}},[a("div",{staticClass:"pan-info"},[a("div",{staticClass:"pan-info-roles-container"},[e._t("default")],2)]),e._v(" "),a("div",{staticClass:"pan-thumb",style:{backgroundImage:"url("+e.image+")"}})])},o=[],l=(a("c5f6"),{name:"PanThumb",props:{image:{type:String,required:!0},zIndex:{type:Number,default:1},width:{type:String,default:"150px"},height:{type:String,default:"150px"}}}),r=l,c=(a("133c"),a("2877")),d=Object(c["a"])(r,n,o,!1,null,"799537af",null),u=d.exports,p={components:{PanThumb:u},props:{user:{type:Object,default:function(){return{name:"",email:"",avatar:"",roles:""}}}}},m=p,f=(a("aee9"),Object(c["a"])(m,i,s,!1,null,"0b95296e",null));t["default"]=f.exports},"883d":function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container"},[a("el-card",{staticClass:"box-card"},[a("el-form",{ref:"listQuery",attrs:{model:e.listQuery,inline:!0}},[a("el-form-item",{attrs:{label:"工单标题"}},[a("el-input",{staticStyle:{width:"240px"},attrs:{placeholder:"请输入工单标题",clearable:"",size:"small"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.getList(t)}},model:{value:e.listQuery.title,callback:function(t){e.$set(e.listQuery,"title",t)},expression:"listQuery.title"}})],1),e._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary",icon:"el-icon-search",size:"small"},on:{click:e.getList}},[e._v("搜索")])],1)],1),e._v(" "),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],attrs:{border:"",data:e.ticketList},on:{"selection-change":e.handleSelectionChange}},[a("el-table-column",{attrs:{label:"ID",prop:"id",width:"120"}}),e._v(" "),a("el-table-column",{attrs:{label:"标题",prop:"title","show-overflow-tooltip":!0}}),e._v(" "),a("el-table-column",{attrs:{label:"当前状态","show-overflow-tooltip":!0},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v("\n            "+e._s(t.row.state_name)+"\n          ")])]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"当前处理人","show-overflow-tooltip":!0},scopedSlots:e._u([{key:"default",fn:function(t){return[0===t.row.is_end?a("span",[e._v(e._s(t.row.principals))]):e._e()]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"优先级","show-overflow-tooltip":!0,width:"120",align:"left"},scopedSlots:e._u([{key:"default",fn:function(t){return[2===t.row.priority?a("span",[a("el-tag",{attrs:{type:"warning"}},[e._v("紧急")])],1):3===t.row.priority?a("span",[a("el-tag",{attrs:{type:"danger"}},[e._v("非常紧急")])],1):a("span",[a("el-tag",{attrs:{type:"success"}},[e._v("一般")])],1)]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"是否结束","show-overflow-tooltip":!0,width:"80",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[0===t.row.is_end?a("el-tag",{attrs:{size:"mini",type:"success"}},[e._v("否")]):a("el-tag",{attrs:{size:"mini",type:"danger"}},[e._v("是")])]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"创建时间",align:"center",prop:"create_time",width:"180"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(e.parseTime(t.row.create_time)))])]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"操作",align:"center","class-name":"small-padding fixed-width",width:"240"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{directives:[{name:"permisaction",rawName:"v-permisaction",value:["process:list:all:select"],expression:"['process:list:all:select']"}],attrs:{size:"mini",type:"text",icon:"el-icon-edit"},on:{click:function(a){return e.handleView(t.row)}}},[e._v("查看")]),e._v(" "),0===t.row.is_end?a("el-button",{directives:[{name:"permisaction",rawName:"v-permisaction",value:["process:list:all:inversion"],expression:"['process:list:all:inversion']"}],attrs:{size:"mini",type:"text",icon:"el-icon-position"},on:{click:function(a){return e.handleInversion(t.row)}}},[e._v("转交")]):e._e(),e._v(" "),0===t.row.is_end?a("el-button",{directives:[{name:"permisaction",rawName:"v-permisaction",value:["process:list:all:end"],expression:"['process:list:all:end']"}],attrs:{size:"mini",type:"text",icon:"el-icon-switch-button"},on:{click:function(a){return e.handleUnity(t.row)}}},[e._v("结单")]):e._e(),e._v(" "),a("el-button",{directives:[{name:"permisaction",rawName:"v-permisaction",value:["process:list:all:delete"],expression:"['process:list:all:delete']"}],attrs:{size:"mini",type:"text",icon:"el-icon-delete"},on:{click:function(a){return e.handleDelete(t.row)}}},[e._v("删除")])]}}])})],1),e._v(" "),a("el-dialog",{attrs:{title:"转交工单",visible:e.dialogVisible,width:"30%"},on:{"update:visible":function(t){e.dialogVisible=t}}},[a("el-form",{ref:"ruleForm",staticClass:"demo-ruleForm",attrs:{model:e.ruleForm,rules:e.rules,"label-width":"60px"}},[a("el-form-item",{attrs:{label:"节点",prop:"node_id"}},[a("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"选择节点",size:"small"},model:{value:e.ruleForm.node_id,callback:function(t){e.$set(e.ruleForm,"node_id",t)},expression:"ruleForm.node_id"}},e._l(e.nodeList,(function(e,t){return a("el-option",{key:t,attrs:{label:e.label,value:e.id}})})),1)],1),e._v(" "),a("el-form-item",{attrs:{label:"用户",prop:"user_id"}},[a("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"选择用户",size:"small"},model:{value:e.ruleForm.user_id,callback:function(t){e.$set(e.ruleForm,"user_id",t)},expression:"ruleForm.user_id"}},e._l(e.users,(function(e,t){return a("el-option",{key:t,attrs:{label:e.nickName,value:e.userId}})})),1)],1),e._v(" "),a("el-form-item",{attrs:{label:"备注"}},[a("el-input",{attrs:{type:"textarea",size:"small"},model:{value:e.ruleForm.remarks,callback:function(t){e.$set(e.ruleForm,"remarks",t)},expression:"ruleForm.remarks"}})],1),e._v(" "),a("el-form-item",{staticStyle:{"text-align":"right"}},[a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.submitForm("ruleForm")}}},[e._v("提交")]),e._v(" "),a("el-button",{on:{click:function(t){e.dialogVisible=!1}}},[e._v("关闭")])],1)],1)],1),e._v(" "),a("pagination",{directives:[{name:"show",rawName:"v-show",value:e.total>0,expression:"total>0"}],attrs:{total:e.total,page:e.queryParams.pageIndex,limit:e.queryParams.pageSize},on:{"update:page":function(t){return e.$set(e.queryParams,"pageIndex",t)},"update:limit":function(t){return e.$set(e.queryParams,"pageSize",t)},pagination:e.getList}})],1)],1)},s=[],n=a("6da4"),o=a("b150"),l={data:function(){return{users:[],nodeList:[],dialogVisible:!1,queryParams:{},total:0,loading:!1,ticketList:[],listQuery:{page:1,per_page:10},ruleForm:{work_order_id:"",node_id:"",user_id:"",remarks:""},rules:{node_id:[{required:!0,message:"请选择节点",trigger:"change"}],user_id:[{required:!0,message:"请选择用户",trigger:"change"}]}}},created:function(){this.getList()},methods:{getList:function(){var e=this;this.loading=!0,this.listQuery.page=this.queryParams.pageIndex,this.listQuery.per_page=this.queryParams.pageSize,this.listQuery.classify=4,Object(n["i"])(this.listQuery).then((function(t){e.ticketList=t.data.data,e.queryParams.pageIndex=t.data.page,e.queryParams.pageSize=t.data.per_page,e.total=t.data.total_count,e.loading=!1}))},handleView:function(e){this.$router.push({name:"ProcessListHandle",query:{workOrderId:e.id,processId:e.process}})},handleDelete:function(e){var t=this;this.$confirm("此操作将删除该数据, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){Object(n["c"])(e.id).then((function(e){t.$message({type:"success",message:"删除成功!"}),t.getList()}))})).catch((function(){t.$message({type:"info",message:"已取消"})}))},handleUnity:function(e){var t=this;this.$confirm("此操作将会结束该工单, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){Object(n["g"])({work_oroder_id:e.id}).then((function(e){200===e.code&&t.getList()}))})).catch((function(){t.$message({type:"info",message:"已取消"})}))},handleInversion:function(e){var t=this;this.dialogVisible=!0,this.ruleForm.work_order_id=e.id,this.nodeList=e.state,1===this.nodeList.length&&(this.ruleForm.node_id=this.nodeList[0].id),Object(o["i"])({pageSize:999999}).then((function(e){t.users=e.data.list}))},handleSelectionChange:function(){},submitForm:function(e){var t=this;this.$refs[e].validate((function(e){e&&Object(n["e"])(t.ruleForm).then((function(e){200===e.code&&(t.getList(),t.dialogVisible=!1)}))}))}}},r=l,c=a("2877"),d=Object(c["a"])(r,i,s,!1,null,"a0e37960",null);t["default"]=d.exports},"88c9":function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("img",{staticClass:"img-circle img-lg",attrs:{src:e.options.img,title:"点击上传头像"},on:{click:function(t){return e.editCropper()}}}),e._v(" "),a("el-dialog",{attrs:{title:e.title,visible:e.open,width:"800px"},on:{"update:visible":function(t){e.open=t}}},[a("el-row",[a("el-col",{style:{height:"350px"},attrs:{xs:24,md:12}},[a("vue-cropper",{ref:"cropper",attrs:{img:e.options.img,info:!0,"auto-crop":e.options.autoCrop,"auto-crop-width":e.options.autoCropWidth,"auto-crop-height":e.options.autoCropHeight,"fixed-box":e.options.fixedBox},on:{realTime:e.realTime}})],1),e._v(" "),a("el-col",{style:{height:"350px"},attrs:{xs:24,md:12}},[a("div",{staticClass:"avatar-upload-preview"},[a("img",{style:e.previews.img,attrs:{src:e.previews.url}})])])],1),e._v(" "),a("br"),e._v(" "),a("el-row",[a("el-col",{attrs:{lg:2,md:2}},[a("el-upload",{attrs:{action:"#","http-request":e.requestUpload,"show-file-list":!1,"before-upload":e.beforeUpload}},[a("el-button",{attrs:{size:"small"}},[e._v("\n            上传\n            "),a("i",{staticClass:"el-icon-upload el-icon--right"})])],1)],1),e._v(" "),a("el-col",{attrs:{lg:{span:1,offset:2},md:2}},[a("el-button",{attrs:{icon:"el-icon-plus",size:"small"},on:{click:function(t){return e.changeScale(1)}}})],1),e._v(" "),a("el-col",{attrs:{lg:{span:1,offset:1},md:2}},[a("el-button",{attrs:{icon:"el-icon-minus",size:"small"},on:{click:function(t){return e.changeScale(-1)}}})],1),e._v(" "),a("el-col",{attrs:{lg:{span:1,offset:1},md:2}},[a("el-button",{attrs:{icon:"el-icon-refresh-left",size:"small"},on:{click:function(t){return e.rotateLeft()}}})],1),e._v(" "),a("el-col",{attrs:{lg:{span:1,offset:1},md:2}},[a("el-button",{attrs:{icon:"el-icon-refresh-right",size:"small"},on:{click:function(t){return e.rotateRight()}}})],1),e._v(" "),a("el-col",{attrs:{lg:{span:2,offset:6},md:2}},[a("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(t){return e.uploadImg()}}},[e._v("提 交")])],1)],1)],1)],1)},s=[],n=a("4360"),o=a("7e79"),l=a("b150"),r={components:{VueCropper:o["VueCropper"]},props:{user:{type:Object}},data:function(){return{open:!1,title:"修改头像",options:{img:n["a"].getters.avatar,autoCrop:!0,autoCropWidth:200,autoCropHeight:200,fixedBox:!0},previews:{}}},methods:{editCropper:function(){this.open=!0},requestUpload:function(){},rotateLeft:function(){this.$refs.cropper.rotateLeft()},rotateRight:function(){this.$refs.cropper.rotateRight()},changeScale:function(e){e=e||1,this.$refs.cropper.changeScale(e)},beforeUpload:function(e){var t=this;if(-1===e.type.indexOf("image/"))this.msgError("文件格式错误，请上传图片类型,如：JPG，PNG后缀的文件。");else{var a=new FileReader;a.readAsDataURL(e),a.onload=function(){t.options.img=a.result}}},uploadImg:function(){var e=this;this.$refs.cropper.getCropBlob((function(t){var a=new FormData;a.append("upload[]",t),Object(l["m"])(a).then((function(t){200===t.code?(e.open=!1,e.options.img="http://localhost:8002/"+t.data,e.msgSuccess("修改成功")):e.msgError(t.msg),e.$refs.cropper.clearCrop()}))}))},realTime:function(e){this.previews=e}}},c=r,d=a("2877"),u=Object(d["a"])(c,i,s,!1,null,null,null);t["default"]=u.exports},"8ad2":function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticStyle:{display:"inline-block"}},[a("label",{staticClass:"radio-label"},[e._v("Cell Auto-Width: ")]),e._v(" "),a("el-radio-group",{model:{value:e.autoWidth,callback:function(t){e.autoWidth=t},expression:"autoWidth"}},[a("el-radio",{attrs:{label:!0,border:""}},[e._v("\n      True\n    ")]),e._v(" "),a("el-radio",{attrs:{label:!1,border:""}},[e._v("\n      False\n    ")])],1)],1)},s=[],n={props:{value:{type:Boolean,default:!0}},computed:{autoWidth:{get:function(){return this.value},set:function(e){this.$emit("input",e)}}}},o=n,l=a("2877"),r=Object(l["a"])(o,i,s,!1,null,null,null);t["default"]=r.exports},"8ba6":function(e,t,a){},"8fc3":function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container"},[a("el-card",{staticClass:"box-card"},[a("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[a("span",[e._v("公共信息")])]),e._v(" "),a("div",{staticClass:"text item"},[a("el-form",{ref:"ruleForm",attrs:{model:e.ruleForm,rules:e.rules,"label-width":"100px"}},[a("el-form-item",{staticStyle:{"margin-bottom":"13px"},attrs:{label:"标题:",prop:"title"}},[a("el-input",{attrs:{size:"small"},model:{value:e.ruleForm.title,callback:function(t){e.$set(e.ruleForm,"title",t)},expression:"ruleForm.title"}})],1),e._v(" "),a("el-form-item",{staticStyle:{"margin-bottom":"0"},attrs:{label:"优先级:",prop:"priority"}},[a("el-radio-group",{attrs:{size:"small"},model:{value:e.ruleForm.priority,callback:function(t){e.$set(e.ruleForm,"priority",t)},expression:"ruleForm.priority"}},[a("el-radio",{attrs:{label:1}},[e._v("一般")]),e._v(" "),a("el-radio",{attrs:{label:2}},[e._v("紧急")]),e._v(" "),a("el-radio",{attrs:{label:3}},[e._v("非常紧急")])],1)],1)],1)],1)]),e._v(" "),a("el-card",{staticClass:"box-card",staticStyle:{"margin-top":"10px"}},[a("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[a("span",[e._v("表单信息")])]),e._v(" "),a("div",{staticClass:"text item"},[e._l(e.processStructureValue.tpls,(function(t,i){return[a("fm-generate-form",{directives:[{name:"show",rawName:"v-show",value:void 0===e.currentNode.hideTpls||null===e.currentNode.hideTpls||-1===e.currentNode.hideTpls.indexOf(t.id),expression:"currentNode.hideTpls===undefined ||\n            currentNode.hideTpls===null ||\n            currentNode.hideTpls.indexOf(tplItem.id)===-1"}],key:i,ref:"generateForm-"+t.id,refInFor:!0,attrs:{remote:e.remoteFunc,data:t.form_structure,disabled:void 0!==e.currentNode.readonlyTpls&&null!==e.currentNode.readonlyTpls&&-1!==e.currentNode.readonlyTpls.indexOf(t.id)||null}})]}))],2),e._v(" "),a("hr",{staticStyle:{"background-color":"#d9d9d9",border:"0",height:"1px"}}),e._v(" "),a("div",{staticClass:"text item",staticStyle:{"text-align":"center","margin-top":"18px"}},e._l(e.processStructureValue.edges,(function(t,i){return a("el-button",{directives:[{name:"show",rawName:"v-show",value:t.source===e.processStructureValue.nodes[e.active].id,expression:"item.source===processStructureValue.nodes[active].id"}],key:i,attrs:{type:"primary",disabled:e.submitDisabled},on:{click:function(a){return e.submitAction(t.target)}}},[e._v("\n        "+e._s(t.label)+"\n      ")])})),1)])],1)},s=[],n=(a("4f7f"),a("1c4c"),a("ac6a"),a("5df3"),a("2d63")),o=(a("7f7f"),a("2b0e")),l=a("2ced"),r=(a("659a"),a("6da4")),c=a("b150");o["default"].component(l["a"].name,l["a"]);var d={name:"Create",data:function(){return{submitDisabled:!1,active:0,processStructureValue:{},ruleForm:{title:"",priority:1,process:"",classify:"",state:[],source:"",source_state:"",process_method:"",tpls:{form_structure:[],form_data:[]},tasks:[]},rules:{title:[{required:!0,message:"请输入工单标题",trigger:"blur"}],priority:[{required:!0,message:"请选择工单优先级",trigger:"blur"}]},remoteFunc:{userList:function(e){Object(c["i"])({pageSize:999999}).then((function(t){var a=t.data.list;e(a)}))}}}},created:function(){this.getProcessNodeList()},methods:{getProcessNodeList:function(){var e=this;Object(r["f"])({processId:this.$route.query.processId}).then((function(t){e.processStructureValue=t.data,e.currentNode=e.processStructureValue.nodes[0]}))},submitAction:function(e){var t=this;this.$refs["ruleForm"].validate((function(a){if(a){t.submitDisabled=!0;var i={};t.ruleForm.process=parseInt(t.$route.query.processId),t.ruleForm.classify=t.processStructureValue.process.classify,i["id"]=e,t.ruleForm.source_state=t.processStructureValue.nodes[t.active].label;var s,o=Object(n["a"])(t.processStructureValue.nodes);try{for(o.s();!(s=o.n()).done;){var l=s.value;if(l.id===e){void 0!==l.assignType&&(i["process_method"]=l.assignType),void 0!==l.assignValue&&(i["processor"]=Array.from(new Set(l.assignValue))),i["label"]=l.label;break}}}catch(v){o.e(v)}finally{o.f()}if(t.ruleForm.state=[i],t.ruleForm.tpls={form_structure:[],form_data:[]},console.log(t.processStructureValue.process),t.ruleForm.tasks=void 0===t.processStructureValue.process.task?[]:t.processStructureValue.process.task,void 0!==t.processStructureValue.nodes[t.active].task&&t.processStructureValue.nodes[t.active].task.length>0){var c,d=Object(n["a"])(t.processStructureValue.nodes[t.active].task);try{for(d.s();!(c=d.n()).done;){var u=c.value;-1===t.ruleForm.tasks.indexOf(u)&&t.ruleForm.tasks.push(u)}}catch(v){d.e(v)}finally{d.f()}}var p,m=[],f=Object(n["a"])(t.processStructureValue.tpls);try{for(f.s();!(p=f.n()).done;){var h=p.value;h.form_structure.id=h.id,t.ruleForm.tpls.form_structure.push(h.form_structure),m.push(t.$refs["generateForm-"+h.id][0].getData())}}catch(v){f.e(v)}finally{f.f()}Promise.all(m).then((function(e){t.ruleForm.source=t.processStructureValue.nodes[t.active].id,t.ruleForm.tpls.form_data=e,Object(r["b"])(t.ruleForm).then((function(e){200===e.code&&t.$router.push({path:"/process/upcoming"})})).catch((function(){t.submitDisabled=!1}))})).catch((function(){t.submitDisabled=!1}))}}))}}},u=d,p=a("2877"),m=Object(p["a"])(u,i,s,!1,null,null,null);t["default"]=m.exports},9067:function(e,t,a){},9406:function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"dashboard-container"},[e.dashboardStatus?a("adminDashboard",{attrs:{"dashboard-value":e.dashboardValue}}):e._e()],1)},s=[],n=a("3f2c"),o=a("b775");function l(e){return Object(o["a"])({url:"/api/v1/dashboard",method:"get",params:e})}var r={name:"Dashboard",components:{adminDashboard:n["default"]},data:function(){return{dashboardStatus:!1}},created:function(){var e=this;l().then((function(t){e.dashboardValue=t.data,e.dashboardStatus=!0}))}},c=r,d=a("2877"),u=Object(d["a"])(c,i,s,!1,null,null,null);t["default"]=u.exports},"94c4":function(e,t,a){},"9e68":function(e,t,a){"use strict";var i=a("098d"),s=a.n(i);s.a},"9ed6":function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"login-container"},[a("div",{attrs:{id:"particles-js"}},[a("vue-particles",{attrs:{color:"#dedede","particle-opacity":.7,"particles-number":80,"shape-type":"circle","particle-size":4,"lines-color":"#dedede","lines-width":1,"line-linked":!0,"line-opacity":.4,"lines-distance":150,"move-speed":3,"hover-effect":!0,"hover-mode":"grab","click-effect":!0,"click-mode":"push"}})],1),e._v(" "),a("div",{staticClass:"login-weaper animated bounceInDown"},[a("div",{staticClass:"login-left"},[a("div",{staticClass:"login-time",domProps:{textContent:e._s(e.currentTime)}}),e._v(" "),a("img",{staticClass:"img",attrs:{src:""!==e.sysInfo.logo?e.sysInfo.logo:"https://www.fdevops.com/wp-content/uploads/2020/08/1597815294-ferry_logo_white.png",alt:""}}),e._v(" "),a("p",{staticClass:"title",domProps:{textContent:e._s(""!==e.sysInfo.name?e.sysInfo.name:"ferry 管理平台")}})]),e._v(" "),a("div",{staticClass:"login-border"},[a("div",{staticClass:"login-main"},[a("div",{staticClass:"login-title"},[e._v(" 用户登录 ")]),e._v(" "),a("el-form",{ref:"loginForm",staticClass:"login-form",attrs:{model:e.loginForm,rules:e.loginRules,autocomplete:"on","label-position":"left"}},[a("el-form-item",{attrs:{prop:"username"}},[a("span",{staticClass:"svg-container"},[a("i",{staticClass:"el-icon-user"})]),e._v(" "),a("el-input",{ref:"username",attrs:{placeholder:"用户名",name:"username",type:"text",tabindex:"1",autocomplete:"on"},model:{value:e.loginForm.username,callback:function(t){e.$set(e.loginForm,"username",t)},expression:"loginForm.username"}})],1),e._v(" "),a("el-tooltip",{attrs:{content:"Caps lock is On",placement:"right",manual:""},model:{value:e.capsTooltip,callback:function(t){e.capsTooltip=t},expression:"capsTooltip"}},[a("el-form-item",{attrs:{prop:"password"}},[a("span",{staticClass:"svg-container"},[a("svg-icon",{attrs:{"icon-class":"password"}})],1),e._v(" "),a("el-input",{key:e.passwordType,ref:"password",attrs:{type:e.passwordType,placeholder:"密码",name:"password",tabindex:"2",autocomplete:"on"},on:{blur:function(t){e.capsTooltip=!1}},nativeOn:{keyup:[function(t){return e.checkCapslock(t)},function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleLogin(t)}]},model:{value:e.loginForm.password,callback:function(t){e.$set(e.loginForm,"password",t)},expression:"loginForm.password"}}),e._v(" "),a("span",{staticClass:"show-pwd",on:{click:e.showPwd}},[a("svg-icon",{attrs:{"icon-class":"password"===e.passwordType?"eye":"eye-open"}})],1)],1)],1),e._v(" "),a("el-form-item",{staticStyle:{width:"66%",float:"left","margin-bottom":"13px"},attrs:{prop:"code"}},[a("span",{staticClass:"svg-container"},[a("svg-icon",{attrs:{"icon-class":"validCode"}})],1),e._v(" "),a("el-input",{ref:"username",staticStyle:{width:"75%"},attrs:{placeholder:"验证码",name:"username",type:"text",tabindex:"3",maxlength:"5",autocomplete:"off"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleLogin(t)}},model:{value:e.loginForm.code,callback:function(t){e.$set(e.loginForm,"code",t)},expression:"loginForm.code"}})],1),e._v(" "),a("div",{staticClass:"login-code",staticStyle:{cursor:"pointer",width:"30%",height:"48px",float:"right","background-color":"#f0f1f5"}},[a("img",{staticStyle:{height:"48px",width:"100%",border:"1px solid rgba(0,0,0, 0.1)","border-radius":"5px"},attrs:{src:e.codeUrl},on:{click:e.getCode}})]),e._v(" "),a("div",{staticStyle:{width:"100%",float:"left","margin-bottom":"13px"},attrs:{prop:"code"}},[a("el-checkbox",{model:{value:e.sysInfo.is_ldap,callback:function(t){e.$set(e.sysInfo,"is_ldap",t)},expression:"sysInfo.is_ldap"}},[e._v("LDAP登陆")])],1),e._v(" "),a("el-button",{staticStyle:{width:"100%",padding:"12px 20px","margin-bottom":"30px"},attrs:{loading:e.loading,type:"primary"},nativeOn:{click:function(t){return t.preventDefault(),e.handleLogin(t)}}},[e.loading?a("span",[e._v("登 录 中...")]):a("span",[e._v("登 录")])])],1)],1)])])])},s=[],n=(a("ac6a"),a("456d"),a("b775"));function o(){return Object(n["a"])({url:"/api/v1/getCaptcha",method:"get"})}var l=a("79b8"),r=a("c1df"),c=a.n(r),d={name:"Login",data:function(){return{codeUrl:"",cookiePassword:"",loginForm:{username:"",password:"",rememberMe:!1,code:"",uuid:"",loginType:1},loginRules:{username:[{required:!0,trigger:"blur",message:"用户名不能为空"}],password:[{required:!0,trigger:"blur",message:"密码不能为空"}],code:[{required:!0,trigger:"change",message:"验证码不能为空"}]},passwordType:"password",capsTooltip:!1,loading:!1,redirect:void 0,otherQuery:{},currentTime:null,sysInfo:{logo:"",name:"",is_ldap:!1}}},watch:{$route:{handler:function(e){var t=e.query;t&&(this.redirect=t.redirect,this.otherQuery=this.getOtherQuery(t))},immediate:!0}},created:function(){this.getCode(),this.getCurrentTime(),this.getSystemSetting()},mounted:function(){""===this.loginForm.username?this.$refs.username.focus():""===this.loginForm.password&&this.$refs.password.focus()},destroyed:function(){clearInterval(this.timer)},methods:{getSystemSetting:function(){var e=this;Object(l["a"])({classify:1}).then((function(t){e.sysInfo=t.data[0].content}))},getCurrentTime:function(){var e=this;this.timer=setInterval((function(t){e.currentTime=c()().format("YYYY-MM-DD HH时mm分ss秒")}),1e3)},getCode:function(){var e=this;o().then((function(t){void 0!==t&&(e.codeUrl=t.data,e.loginForm.uuid=t.id)}))},checkCapslock:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.shiftKey,a=e.key;a&&1===a.length&&(this.capsTooltip=!!(t&&a>="a"&&a<="z"||!t&&a>="A"&&a<="Z")),"CapsLock"===a&&!0===this.capsTooltip&&(this.capsTooltip=!1)},showPwd:function(){var e=this;"password"===this.passwordType?this.passwordType="":this.passwordType="password",this.$nextTick((function(){e.$refs.password.focus()}))},handleLogin:function(){var e=this;this.$refs.loginForm.validate((function(t){if(!t)return!1;e.sysInfo.is_ldap?e.loginForm.loginType=1:e.loginForm.loginType=0,e.loading=!0,e.$store.dispatch("user/login",e.loginForm).then((function(){e.$router.push({path:"/"}),e.loading=!1})).catch((function(){e.loading=!1,e.getCode()}))}))},getOtherQuery:function(e){return Object.keys(e).reduce((function(t,a){return"redirect"!==a&&(t[a]=e[a]),t}),{})}}},u=d,p=(a("f9c6"),a("2877")),m=Object(p["a"])(u,i,s,!1,null,"853cf330",null);t["default"]=m.exports},a137:function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container"},[a("upload-excel-component",{attrs:{"on-success":e.handleSuccess,"before-upload":e.beforeUpload}}),e._v(" "),a("el-table",{staticStyle:{width:"100%","margin-top":"20px"},attrs:{data:e.tableData,border:"","highlight-current-row":""}},e._l(e.tableHeader,(function(e){return a("el-table-column",{key:e,attrs:{prop:e,label:e}})})),1)],1)},s=[],n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("input",{ref:"excel-upload-input",staticClass:"excel-upload-input",attrs:{type:"file",accept:".xlsx, .xls"},on:{change:e.handleClick}}),e._v(" "),a("div",{staticClass:"drop",on:{drop:e.handleDrop,dragover:e.handleDragover,dragenter:e.handleDragover}},[e._v("\n    Drop excel file here or\n    "),a("el-button",{staticStyle:{"margin-left":"16px"},attrs:{loading:e.loading,size:"mini",type:"primary"},on:{click:e.handleUpload}},[e._v("\n      Browse\n    ")])],1)])},o=[],l=(a("7f7f"),a("1146")),r=a.n(l),c={props:{beforeUpload:Function,onSuccess:Function},data:function(){return{loading:!1,excelData:{header:null,results:null}}},methods:{generateData:function(e){var t=e.header,a=e.results;this.excelData.header=t,this.excelData.results=a,this.onSuccess&&this.onSuccess(this.excelData)},handleDrop:function(e){if(e.stopPropagation(),e.preventDefault(),!this.loading){var t=e.dataTransfer.files;if(1===t.length){var a=t[0];if(!this.isExcel(a))return this.$message.error("Only supports upload .xlsx, .xls, .csv suffix files"),!1;this.upload(a),e.stopPropagation(),e.preventDefault()}else this.$message.error("Only support uploading one file!")}},handleDragover:function(e){e.stopPropagation(),e.preventDefault(),e.dataTransfer.dropEffect="copy"},handleUpload:function(){this.$refs["excel-upload-input"].click()},handleClick:function(e){var t=e.target.files,a=t[0];a&&this.upload(a)},upload:function(e){if(this.$refs["excel-upload-input"].value=null,this.beforeUpload){var t=this.beforeUpload(e);t&&this.readerData(e)}else this.readerData(e)},readerData:function(e){var t=this;return this.loading=!0,new Promise((function(a,i){var s=new FileReader;s.onload=function(e){var i=e.target.result,s=r.a.read(i,{type:"array"}),n=s.SheetNames[0],o=s.Sheets[n],l=t.getHeaderRow(o),c=r.a.utils.sheet_to_json(o);t.generateData({header:l,results:c}),t.loading=!1,a()},s.readAsArrayBuffer(e)}))},getHeaderRow:function(e){var t,a=[],i=r.a.utils.decode_range(e["!ref"]),s=i.s.r;for(t=i.s.c;t<=i.e.c;++t){var n=e[r.a.utils.encode_cell({c:t,r:s})],o="UNKNOWN "+t;n&&n.t&&(o=r.a.utils.format_cell(n)),a.push(o)}return a},isExcel:function(e){return/\.(xlsx|xls|csv)$/.test(e.name)}}},d=c,u=(a("67df"),a("2877")),p=Object(u["a"])(d,n,o,!1,null,"d2407dd6",null),m=p.exports,f={name:"UploadExcel",components:{UploadExcelComponent:m},data:function(){return{tableData:[],tableHeader:[]}},methods:{beforeUpload:function(e){var t=e.size/1024/1024<10;return!!t||(this.$message({message:"Please do not upload files larger than 1m in size.",type:"warning"}),!1)},handleSuccess:function(e){var t=e.results,a=e.header;this.tableData=t,this.tableHeader=a}}},h=f,v=Object(u["a"])(h,i,s,!1,null,null,null);t["default"]=v.exports},a36b:function(e,t,a){e.exports=a.p+"static/web/img/404.a57b6f31.png"},a6dc:function(e,t,a){"use strict";a.d(t,"d",(function(){return s})),a.d(t,"c",(function(){return n})),a.d(t,"f",(function(){return o})),a.d(t,"e",(function(){return l})),a.d(t,"a",(function(){return r})),a.d(t,"g",(function(){return c})),a.d(t,"b",(function(){return d}));var i=a("b775");function s(e){return Object(i["a"])({url:"/api/v1/menulist",method:"get",params:e})}function n(e){return Object(i["a"])({url:"/api/v1/menu/"+e,method:"get"})}function o(){return Object(i["a"])({url:"/api/v1/menuTreeselect",method:"get"})}function l(e){return Object(i["a"])({url:"/api/v1/roleMenuTreeselect/"+e,method:"get"})}function r(e){return Object(i["a"])({url:"/api/v1/menu",method:"post",data:e})}function c(e){return Object(i["a"])({url:"/api/v1/menu",method:"put",data:e})}function d(e){return Object(i["a"])({url:"/api/v1/menu/"+e,method:"delete"})}},a7dc:function(e,t,a){"use strict";a.r(t);var i=a("ed08");t["default"]={data:function(){return{$_sidebarElm:null,$_resizeHandler:null}},mounted:function(){var e=this;this.$_resizeHandler=Object(i["b"])((function(){e.chart&&e.chart.resize()}),100),this.$_initResizeEvent(),this.$_initSidebarResizeEvent()},beforeDestroy:function(){this.$_destroyResizeEvent(),this.$_destroySidebarResizeEvent()},activated:function(){this.$_initResizeEvent(),this.$_initSidebarResizeEvent()},deactivated:function(){this.$_destroyResizeEvent(),this.$_destroySidebarResizeEvent()},methods:{$_initResizeEvent:function(){window.addEventListener("resize",this.$_resizeHandler)},$_destroyResizeEvent:function(){window.removeEventListener("resize",this.$_resizeHandler)},$_sidebarResizeHandler:function(e){"width"===e.propertyName&&this.$_resizeHandler()},$_initSidebarResizeEvent:function(){this.$_sidebarElm=document.getElementsByClassName("sidebar-container")[0],this.$_sidebarElm&&this.$_sidebarElm.addEventListener("transitionend",this.$_sidebarResizeHandler)},$_destroySidebarResizeEvent:function(){this.$_sidebarElm&&this.$_sidebarElm.removeEventListener("transitionend",this.$_sidebarResizeHandler)}}}},a8c4:function(e,t,a){var i={"./views/dashboard":"9406","./views/dashboard/":"9406","./views/dashboard/admin":"3f2c","./views/dashboard/admin/":"3f2c","./views/dashboard/admin/components/LineChart":"36ef","./views/dashboard/admin/components/LineChart.vue":"36ef","./views/dashboard/admin/components/PanelGroup":"6768","./views/dashboard/admin/components/PanelGroup.vue":"6768","./views/dashboard/admin/components/PieChart":"2044","./views/dashboard/admin/components/PieChart.vue":"2044","./views/dashboard/admin/components/ProcessingTicketRanking":"f643","./views/dashboard/admin/components/ProcessingTicketRanking.vue":"f643","./views/dashboard/admin/components/TicketSubmissionRanking":"ed66","./views/dashboard/admin/components/TicketSubmissionRanking.vue":"ed66","./views/dashboard/admin/components/TodoWorkOrderRanking":"4bcc","./views/dashboard/admin/components/TodoWorkOrderRanking.vue":"4bcc","./views/dashboard/admin/components/mixins/resize":"a7dc","./views/dashboard/admin/components/mixins/resize.js":"a7dc","./views/dashboard/admin/components/processOrderList":"0431","./views/dashboard/admin/components/processOrderList.vue":"0431","./views/dashboard/admin/index":"3f2c","./views/dashboard/admin/index.vue":"3f2c","./views/dashboard/index":"9406","./views/dashboard/index.vue":"9406","./views/error-page/401":"24e2","./views/error-page/401.vue":"24e2","./views/error-page/404":"1db4","./views/error-page/404.vue":"1db4","./views/excel/components/AutoWidthOption":"8ad2","./views/excel/components/AutoWidthOption.vue":"8ad2","./views/excel/components/BookTypeOption":"ebe1","./views/excel/components/BookTypeOption.vue":"ebe1","./views/excel/components/FilenameOption":"50ce","./views/excel/components/FilenameOption.vue":"50ce","./views/excel/upload-excel":"a137","./views/excel/upload-excel.vue":"a137","./views/login":"9ed6","./views/login/":"9ed6","./views/login/auth-redirect":"b829","./views/login/auth-redirect.vue":"b829","./views/login/components/SocialSignin":"c62e","./views/login/components/SocialSignin.vue":"c62e","./views/login/index":"9ed6","./views/login/index.vue":"9ed6","./views/menu-nesting":"0b50","./views/menu-nesting/":"0b50","./views/menu-nesting/index":"0b50","./views/menu-nesting/index.vue":"0b50","./views/monitor/server":"2a33","./views/monitor/server/":"2a33","./views/monitor/server/index":"2a33","./views/monitor/server/index.vue":"2a33","./views/process/admin/classify":"7110","./views/process/admin/classify.vue":"7110","./views/process/admin/process-manager":"529e","./views/process/admin/process-manager.vue":"529e","./views/process/admin/task-manager":"75fe","./views/process/admin/task-manager.vue":"75fe","./views/process/admin/template-manager":"4792","./views/process/admin/template-manager.vue":"4792","./views/process/list/all":"883d","./views/process/list/all.vue":"883d","./views/process/list/apply-process-list":"7a50","./views/process/list/apply-process-list.vue":"7a50","./views/process/list/create":"8fc3","./views/process/list/create.vue":"8fc3","./views/process/list/handle":"c1a6","./views/process/list/handle.vue":"c1a6","./views/process/list/my-create":"3c50","./views/process/list/my-create.vue":"3c50","./views/process/list/related":"6ea5","./views/process/list/related.vue":"6ea5","./views/process/list/upcoming":"3c30","./views/process/list/upcoming.vue":"3c30","./views/profile":"ecac","./views/profile/":"ecac","./views/profile/components/Account":"e206","./views/profile/components/Account.vue":"e206","./views/profile/components/Activity":"7115","./views/profile/components/Activity.vue":"7115","./views/profile/components/Timeline":"fb8d","./views/profile/components/Timeline.vue":"fb8d","./views/profile/components/UserCard":"7faf","./views/profile/components/UserCard.vue":"7faf","./views/profile/index":"ecac","./views/profile/index.vue":"ecac","./views/profile/resetPwd":"3823","./views/profile/resetPwd.vue":"3823","./views/profile/userAvatar":"88c9","./views/profile/userAvatar.vue":"88c9","./views/profile/userInfo":"2dde","./views/profile/userInfo.vue":"2dde","./views/redirect":"ef3c","./views/redirect/":"ef3c","./views/redirect/index":"ef3c","./views/redirect/index.vue":"ef3c","./views/system/dept":"5cfa","./views/system/dept/":"5cfa","./views/system/dept/index":"5cfa","./views/system/dept/index.vue":"5cfa","./views/system/loginlog":"2ba7","./views/system/loginlog/":"2ba7","./views/system/loginlog/index":"2ba7","./views/system/loginlog/index.vue":"2ba7","./views/system/menu":"f794","./views/system/menu/":"f794","./views/system/menu/index":"f794","./views/system/menu/index.vue":"f794","./views/system/post":"5788","./views/system/post/":"5788","./views/system/post/index":"5788","./views/system/post/index.vue":"5788","./views/system/role":"70eb","./views/system/role/":"70eb","./views/system/role/index":"70eb","./views/system/role/index.vue":"70eb","./views/system/settings":"54f4","./views/system/settings/":"54f4","./views/system/settings/index":"54f4","./views/system/settings/index.vue":"54f4","./views/system/sysuser":"dcb2","./views/system/sysuser/":"dcb2","./views/system/sysuser/index":"dcb2","./views/system/sysuser/index.vue":"dcb2"};function s(e){var t=n(e);return a(t)}function n(e){var t=i[e];if(!(t+1)){var a=new Error("Cannot find module '"+e+"'");throw a.code="MODULE_NOT_FOUND",a}return t}s.keys=function(){return Object.keys(i)},s.resolve=n,e.exports=s,s.id="a8c4"},aa5a:function(e,t,a){"use strict";var i=a("4c4f"),s=a.n(i);s.a},abf3:function(e,t,a){},aee9:function(e,t,a){"use strict";var i=a("bd0d"),s=a.n(i);s.a},b150:function(e,t,a){"use strict";a.d(t,"i",(function(){return s})),a.d(t,"e",(function(){return n})),a.d(t,"f",(function(){return o})),a.d(t,"a",(function(){return l})),a.d(t,"k",(function(){return r})),a.d(t,"c",(function(){return c})),a.d(t,"d",(function(){return d})),a.d(t,"j",(function(){return u})),a.d(t,"b",(function(){return p})),a.d(t,"g",(function(){return m})),a.d(t,"l",(function(){return f})),a.d(t,"m",(function(){return h})),a.d(t,"h",(function(){return v}));var i=a("b775");function s(e){return Object(i["a"])({url:"/api/v1/sysUserList",method:"get",params:e})}function n(e){return Object(i["a"])({url:"/api/v1/sysUser/"+e,method:"get"})}function o(){return Object(i["a"])({url:"/api/v1/sysUser/",method:"get"})}function l(e){return Object(i["a"])({url:"/api/v1/sysUser",method:"post",data:e})}function r(e){return Object(i["a"])({url:"/api/v1/sysUser",method:"put",data:e})}function c(e){return Object(i["a"])({url:"/api/v1/sysUser/"+e,method:"delete"})}function d(e){return Object(i["a"])({url:"/api/v1/sysUser/export",method:"get",params:e})}function u(e,t){var a={userId:e,password:t};return Object(i["a"])({url:"/api/v1/sysUser",method:"put",data:a})}function p(e,t){var a={userId:e,status:t};return Object(i["a"])({url:"/api/v1/sysUser",method:"put",data:a})}function m(){return Object(i["a"])({url:"/api/v1/user/profile",method:"get"})}function f(e,t,a){var s={oldPassword:e,newPassword:t,passwordType:a};return Object(i["a"])({url:"/api/v1/user/pwd",method:"put",data:s})}function h(e){return Object(i["a"])({url:"/api/v1/user/avatar",method:"post",data:e})}function v(){return Object(i["a"])({url:"/api/v1/sysUser/importTemplate",method:"get"})}},b829:function(e,t,a){"use strict";a.r(t);a("386d");var i,s,n={name:"AuthRedirect",created:function(){var e=window.location.search.slice(1);window.localStorage&&(window.localStorage.setItem("x-admin-oauth-code",e),window.close())},render:function(e){return e()}},o=n,l=a("2877"),r=Object(l["a"])(o,i,s,!1,null,null,null);t["default"]=r.exports},bd0d:function(e,t,a){},c183:function(module,__webpack_exports__,__webpack_require__){"use strict";var _Users_lanyulei_projects_web_ferry_web_node_modules_babel_runtime_corejs2_helpers_esm_toConsumableArray__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("75fc"),core_js_modules_es6_object_keys__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("456d"),core_js_modules_es6_object_keys__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(core_js_modules_es6_object_keys__WEBPACK_IMPORTED_MODULE_1__),core_js_modules_web_dom_iterable__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("ac6a"),core_js_modules_web_dom_iterable__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(core_js_modules_web_dom_iterable__WEBPACK_IMPORTED_MODULE_2__),_Users_lanyulei_projects_web_ferry_web_node_modules_babel_runtime_corejs2_helpers_esm_createForOfIteratorHelper__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("2d63"),_Users_lanyulei_projects_web_ferry_web_node_modules_babel_runtime_corejs2_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("db72"),_GenerateFormItem__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("2cff");__webpack_exports__["a"]={name:"FmGenerateForm",components:{GenetateFormItem:_GenerateFormItem__WEBPACK_IMPORTED_MODULE_5__["a"]},props:["data","remote","value","insite","disabled","preview"],data:function(){return{tableData:[],models:{},rules:{},subformFields:{}}},watch:{data:{deep:!0,handler:function(e){this.generateModle(e.list)}},value:{deep:!0,handler:function(e){this.models=Object(_Users_lanyulei_projects_web_ferry_web_node_modules_babel_runtime_corejs2_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_4__["a"])(Object(_Users_lanyulei_projects_web_ferry_web_node_modules_babel_runtime_corejs2_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_4__["a"])({},this.models),e)}}},created:function(){this.generateModle(this.data.list)},mounted:function(){},methods:{addSubformCol:function(e){var t,a={},i=Object(_Users_lanyulei_projects_web_ferry_web_node_modules_babel_runtime_corejs2_helpers_esm_createForOfIteratorHelper__WEBPACK_IMPORTED_MODULE_3__["a"])(e.columns);try{for(i.s();!(t=i.n()).done;){var s,n=t.value,o=Object(_Users_lanyulei_projects_web_ferry_web_node_modules_babel_runtime_corejs2_helpers_esm_createForOfIteratorHelper__WEBPACK_IMPORTED_MODULE_3__["a"])(n.list);try{for(o.s();!(s=o.n()).done;){var l=s.value;null!==l.options&&void 0!==l.options?a[l.model]=void 0!==l.options.defaultValue&&null!==l.options.defaultValue?l.options.defaultValue:"":a[l.model]=""}}catch(r){o.e(r)}finally{o.f()}}}catch(r){i.e(r)}finally{i.f()}this.models[e.model].push(a),this.models.status=1},delSubformCol:function(e,t){this.models[e.model].splice(t,1),this.models.status=-1},generateModle:function generateModle(genList){for(var _this=this,i=0;i<genList.length;i++)"grid"===genList[i].type?genList[i].columns.forEach((function(e){_this.generateModle(e.list)})):(this.value&&Object.keys(this.value).indexOf(genList[i].model)>=0?this.models[genList[i].model]=this.value[genList[i].model]:("blank"===genList[i].type&&this.$set(this.models,genList[i].model,"String"===genList[i].options.defaultType?"":"Object"===genList[i].options.defaultType?{}:[]),"subform"===genList[i].type?this.$set(this.models,genList[i].model,[]):this.models[genList[i].model]=genList[i].options.defaultValue),this.rules[genList[i].model]?this.rules[genList[i].model]=[].concat(Object(_Users_lanyulei_projects_web_ferry_web_node_modules_babel_runtime_corejs2_helpers_esm_toConsumableArray__WEBPACK_IMPORTED_MODULE_0__["a"])(this.rules[genList[i].model]),Object(_Users_lanyulei_projects_web_ferry_web_node_modules_babel_runtime_corejs2_helpers_esm_toConsumableArray__WEBPACK_IMPORTED_MODULE_0__["a"])(genList[i].rules.map((function(item){return item.pattern?Object(_Users_lanyulei_projects_web_ferry_web_node_modules_babel_runtime_corejs2_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_4__["a"])(Object(_Users_lanyulei_projects_web_ferry_web_node_modules_babel_runtime_corejs2_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_4__["a"])({},item),{},{pattern:eval(item.pattern)}):Object(_Users_lanyulei_projects_web_ferry_web_node_modules_babel_runtime_corejs2_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_4__["a"])({},item)})))):this.rules[genList[i].model]=Object(_Users_lanyulei_projects_web_ferry_web_node_modules_babel_runtime_corejs2_helpers_esm_toConsumableArray__WEBPACK_IMPORTED_MODULE_0__["a"])(genList[i].rules.map((function(item){return item.pattern?Object(_Users_lanyulei_projects_web_ferry_web_node_modules_babel_runtime_corejs2_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_4__["a"])(Object(_Users_lanyulei_projects_web_ferry_web_node_modules_babel_runtime_corejs2_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_4__["a"])({},item),{},{pattern:eval(item.pattern)}):Object(_Users_lanyulei_projects_web_ferry_web_node_modules_babel_runtime_corejs2_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_4__["a"])({},item)}))))},getData:function(){var e=this;return new Promise((function(t,a){e.$refs.generateForm.validate((function(i){i?t(e.models):a(new Error(e.$t("fm.message.validError")).message)}))}))},reset:function(){this.$refs.generateForm.resetFields()},onInputChange:function(e,t){},refresh:function(){}}}},c1a6:function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container"},[a("el-card",{staticClass:"box-card"},[a("div",{staticClass:"text item"},[a("el-steps",{attrs:{active:e.activeIndex,"finish-status":"success"}},[e._l(e.nodeStepList,(function(t,i){return[!1===t.isHideNode||void 0===t.isHideNode||null==t.isHideNode||t.id===e.processStructureValue.workOrder.current_state?a("el-step",{key:i,attrs:{title:t.label}}):e._e()]}))],2)],1)]),e._v(" "),e.activeIndex!==e.nodeStepList.length&&1===e.processStructureValue.workOrder.is_end?a("el-alert",{staticStyle:{"margin-top":"15px"},attrs:{title:e.alertMessage,type:"error",closable:!1}}):e._e(),e._v(" "),a("el-card",{staticClass:"box-card",staticStyle:{"margin-top":"15px"}},[a("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[a("span",[e._v("公共信息")])]),e._v(" "),a("div",{staticClass:"text item"},[a("el-form",{attrs:{"label-width":"100px"}},[a("el-row",[a("el-col",{attrs:{span:12}},[a("el-form-item",{staticStyle:{"margin-bottom":"5px"},attrs:{label:"标题:"}},[a("span",[e._v(e._s(e.processStructureValue.workOrder.title))])])],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{staticStyle:{"margin-bottom":"0"},attrs:{label:"优先级:"}},[2===e.processStructureValue.workOrder.priority?a("span",[a("el-tag",{attrs:{type:"warning"}},[e._v("紧急")])],1):3===e.processStructureValue.workOrder.priority?a("span",[a("el-tag",{attrs:{type:"danger"}},[e._v("非常紧急")])],1):a("span",[a("el-tag",{attrs:{type:"success"}},[e._v("一般")])],1)])],1)],1)],1)],1)]),e._v(" "),a("el-card",{staticClass:"box-card",staticStyle:{"margin-top":"15px"}},[a("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[a("span",[e._v("表单信息")])]),e._v(" "),a("div",{staticClass:"text item"},[e._l(e.processStructureValue.tpls,(function(t,i){return[a("fm-generate-form",{directives:[{name:"show",rawName:"v-show",value:void 0===e.currentNode.hideTpls||null===e.currentNode.hideTpls||-1===e.currentNode.hideTpls.indexOf(t.form_structure.id),expression:"currentNode.hideTpls===undefined ||\n            currentNode.hideTpls===null ||\n            currentNode.hideTpls.indexOf(tplItem.form_structure.id)===-1"}],key:i,ref:"generateForm-"+t.id,refInFor:!0,attrs:{preview:void 0===e.currentNode.writeTpls||null===e.currentNode.writeTpls||-1===e.currentNode.writeTpls.indexOf(t.form_structure.id),remote:e.remoteFunc,value:t.form_data,data:t.form_structure}})]}))],2),e._v(" "),e.processStructureValue.userAuthority?a("div",[a("hr",{staticStyle:{"background-color":"#d9d9d9",border:"0",height:"1px","margin-bottom":"15px"}}),e._v(" "),a("div",[a("el-input",{attrs:{type:"textarea",placeholder:"请输入备注信息",maxlength:"200",autosize:{minRows:3,maxRows:99},"show-word-limit":""},model:{value:e.remarks,callback:function(t){e.remarks=t},expression:"remarks"}})],1),e._v(" "),a("div",{staticClass:"text item",staticStyle:{"text-align":"center","margin-top":"18px"}},[e.processStructureValue.workOrder.state.length>1&&e.currentNode.activeOrder?a("div",[a("el-button",{directives:[{name:"permisaction",rawName:"v-permisaction",value:["process:list:handle:active"],expression:"['process:list:handle:active']"}],attrs:{type:"primary"},on:{click:e.activeOrderActive}},[e._v("\n            主动接单\n          ")])],1):a("div",[e._l(e.processStructureValue.edges,(function(t,i){return[0===e.processStructureValue.workOrder.is_end&&t.source===e.currentNode.id?a("el-button",{key:i,attrs:{type:"primary"},on:{click:function(a){return e.submitAction(t)}}},[e._v("\n              "+e._s(t.label)+"\n            ")]):e._e()]}))],2)])]):e._e()]),e._v(" "),a("el-card",{staticClass:"box-card",staticStyle:{"margin-top":"15px"}},[a("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[a("span",[e._v("工单流转历史")])]),e._v(" "),a("div",{staticClass:"text item"},[a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.circulationHistoryList,border:""}},[a("el-table-column",{attrs:{prop:"state",label:"节点"}}),e._v(" "),a("el-table-column",{attrs:{prop:"circulation",label:"流转"}}),e._v(" "),a("el-table-column",{attrs:{prop:"processor",label:"处理人"}}),e._v(" "),a("el-table-column",{attrs:{prop:"create_time",label:"处理时间"}}),e._v(" "),a("el-table-column",{attrs:{prop:"remarks",label:"备注"}})],1)],1)])],1)},s=[],n=(a("ac6a"),a("5df3"),a("2d63")),o=a("db72"),l=(a("7f7f"),a("2b0e")),r=a("2ced"),c=(a("659a"),a("6da4")),d=a("b150"),u=a("2f62");l["default"].component(r["a"].name,r["a"]);var p={data:function(){return{tpls:[],remarks:"",alertMessage:"",nodeStepList:[],circulationHistoryList:[],activeIndex:0,processStructureValue:{workOrder:{title:""}},ruleForm:{title:"",process:"",classify:"",state_id:"",state:"",source_state:"",processor:"",process_method:"",tpls:[],tasks:[]},remoteFunc:{userList:function(e){Object(d["i"])({pageSize:999999}).then((function(t){var a=t.data.list;e(a)}))}}}},computed:Object(o["a"])({},Object(u["b"])(["userId"])),created:function(){this.getProcessNodeList()},methods:{getProcessNodeList:function(){var e=this;Object(c["f"])({processId:this.$route.query.processId,workOrderId:this.$route.query.workOrderId}).then((function(t){e.processStructureValue=t.data,e.circulationHistoryList=e.processStructureValue.circulationHistory,e.nodeStepList=[];for(var a=0;a<e.processStructureValue.nodes.length;a++)e.processStructureValue.nodes[a].id===e.processStructureValue.workOrder.current_state?(e.nodeStepList.push(e.processStructureValue.nodes[a]),e.activeIndex=e.nodeStepList.length-1,a+1===e.processStructureValue.nodes.length&&(e.activeIndex=e.nodeStepList.length),e.currentNode=e.processStructureValue.nodes[a]):e.processStructureValue.nodes[a].isHideNode||e.nodeStepList.push(e.processStructureValue.nodes[a]);if(0===e.activeIndex&&"start"===e.currentNode.clazz){e.currentNode.writeTpls=[];var i,s=Object(n["a"])(e.processStructureValue.tpls);try{for(s.s();!(i=s.n()).done;){var o=i.value;e.currentNode.writeTpls.push(o.form_structure.id)}}catch(l){s.e(l)}finally{s.f()}}e.getAlertMessage()}))},submitAction:function(e){var t=this,a=[];this.tpls=[];var i,s=Object(n["a"])(this.processStructureValue.tpls);try{for(s.s();!(i=s.n()).done;){var o=i.value;this.tpls.push({tplDataId:o.id,tplId:o.form_structure.id}),a.push(this.$refs["generateForm-"+o.id][0].getData())}}catch(l){s.e(l)}finally{s.f()}Promise.all(a).then((function(a){for(var i in t.tpls)t.tpls[i].tplValue=a[i];Object(c["d"])({tasks:t.processStructureValue.process.task,source_state:t.processStructureValue.workOrder.current_state,target_state:e.target,circulation:e.label,flow_properties:void 0===e.flowProperties?2:parseInt(e.flowProperties),work_order_id:parseInt(t.$route.query.workOrderId),remarks:t.remarks,tpls:t.tpls}).then((function(e){200===e.code&&t.getProcessNodeList()}))}))},getAlertMessage:function(){1===this.processStructureValue.workOrder.is_end&&(this.alertMessage="当前工单已结束。")},activeOrderActive:function(){var e=this,t=[{id:this.nodeStepList[this.activeIndex].id,label:this.nodeStepList[this.activeIndex].label,process_method:"person",processor:[this.userId]}];Object(c["a"])(t,this.$route.query.workOrderId).then((function(t){e.getProcessNodeList()}))}}},m=p,f=a("2877"),h=Object(f["a"])(m,i,s,!1,null,null,null);t["default"]=h.exports},c62e:function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"social-signup-container"},[a("div",{staticClass:"sign-btn",on:{click:function(t){return e.wechatHandleClick("wechat")}}},[a("span",{staticClass:"wx-svg-container"},[a("svg-icon",{staticClass:"icon",attrs:{"icon-class":"wechat"}})],1),e._v("\n    WeChat\n  ")]),e._v(" "),a("div",{staticClass:"sign-btn",on:{click:function(t){return e.tencentHandleClick("tencent")}}},[a("span",{staticClass:"qq-svg-container"},[a("svg-icon",{staticClass:"icon",attrs:{"icon-class":"qq"}})],1),e._v("\n    QQ\n  ")])])},s=[],n={name:"SocialSignin",methods:{wechatHandleClick:function(e){alert("ok")},tencentHandleClick:function(e){alert("ok")}}},o=n,l=(a("d9fb"),a("2877")),r=Object(l["a"])(o,i,s,!1,null,"7309fbbb",null);t["default"]=r.exports},cc6c:function(e,t,a){e.exports=a.p+"static/web/img/401.089007e7.gif"},ce30:function(e,t,a){},d785:function(e,t,a){},d7f4:function(e,t,a){"use strict";var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"fm-uplaod-container",attrs:{id:e.uploadId}},[a("draggable",e._b({staticClass:"drag-img-list",attrs:{"no-transition-on-drag":!0},model:{value:e.fileList,callback:function(t){e.fileList=t},expression:"fileList"}},"draggable",{group:e.uploadId,ghostClass:"ghost",animation:200},!1),e._l(e.fileList,(function(t){return a("div",{key:t.key,staticClass:"upload-file",class:{uploading:"uploading"==t.status,"is-success":"success"==t.status,"is-diabled":e.disabled},style:{width:e.width+"px",height:e.height+"px"},attrs:{id:t.key}},[a("img",{attrs:{src:t.url}}),e._v(" "),"uploading"==t.status?a("el-progress",{staticClass:"upload-progress",attrs:{width:.9*e.miniWidth,type:"circle",percentage:t.percent}}):e._e(),e._v(" "),"success"==t.status?a("label",{staticClass:"item-status"},[a("i",{staticClass:"el-icon-upload-success el-icon-check"})]):e._e(),e._v(" "),e.disabled?e._e():a("div",{staticClass:"uplaod-action",style:{height:e.miniWidth/4+"px"}},[a("i",{staticClass:"iconfont icon-tupianyulan",style:{"font-size":e.miniWidth/8+"px"},attrs:{title:e.$t("fm.upload.preview")},on:{click:function(a){return e.handlePreviewFile(t.key)}}}),e._v(" "),e.isEdit?a("i",{staticClass:"iconfont icon-sync1",style:{"font-size":e.miniWidth/8+"px"},attrs:{title:e.$t("fm.upload.edit")},on:{click:function(a){return e.handleEdit(t.key)}}}):e._e(),e._v(" "),e.isDelete&&e.fileList.length>e.min?a("i",{staticClass:"iconfont icon-delete",style:{"font-size":e.miniWidth/8+"px"},attrs:{title:e.$t("fm.upload.delete")},on:{click:function(a){return e.handleRemove(t.key)}}}):e._e()])],1)})),0),e._v(" "),e.preview?e._e():a("div",{directives:[{name:"show",rawName:"v-show",value:(!e.isQiniu||e.isQiniu&&e.token)&&e.fileList.length<e.length,expression:"(!isQiniu || (isQiniu && token)) && fileList.length < length"}],staticClass:"el-upload el-upload--picture-card",class:{"is-disabled":e.disabled},style:{width:e.width+"px",height:e.height+"px"},on:{click:function(t){return t.target!==t.currentTarget?null:e.handleAdd(t)}}},[a("i",{staticClass:"el-icon-plus",style:{fontSize:e.miniWidth/4+"px",marginTop:-e.miniWidth/8+"px",marginLeft:-e.miniWidth/8+"px"},on:{click:function(t){return t.target!==t.currentTarget?null:e.handleAdd(t)}}}),e._v(" "),e.multiple?a("input",{ref:"uploadInput",staticClass:"el-upload__input upload-input",style:{width:0,height:0},attrs:{accept:"image/*",multiple:"",type:"file",name:"file"},on:{change:e.handleChange}}):a("input",{ref:"uploadInput",staticClass:"el-upload__input upload-input",style:{width:0,height:0},attrs:{accept:"image/*",type:"file",name:"file"},on:{change:e.handleChange}})])],1)},s=[],n=a("db72"),o=(a("20d6"),a("c5f6"),a("2b0e")),l=a("c82c"),r=a.n(l),c=a("1980"),d=a.n(c),u=a("f744"),p=a("08a3"),m=a.n(p);a("0808"),o["default"].use(m.a);var f={components:{Draggable:d.a},props:{value:{type:Array,default:function(){return[]}},width:{type:Number,default:100},height:{type:Number,default:100},token:{type:String,default:""},domain:{type:String,default:""},multiple:{type:Boolean,default:!1},length:{type:Number,default:9},isQiniu:{type:Boolean,default:!1},isDelete:{type:Boolean,default:!1},min:{type:Number,default:0},meitu:{type:Boolean,default:!1},isEdit:{type:Boolean,default:!1},action:{type:String,default:""},disabled:{type:Boolean,default:!1},preview:{type:Boolean,default:!1}},data:function(){return{fileList:this.value.map((function(e){return{key:e.key?e.key:(new Date).getTime()+"_"+Math.ceil(99999*Math.random()),url:e.url,percent:e.percent?e.percent:100,status:e.status?e.status:"success"}})),viewer:null,uploadId:"upload_"+(new Date).getTime(),editIndex:-1,meituIndex:-1}},computed:{miniWidth:function(){return this.width>this.height?this.height:this.width}},watch:{fileList:{deep:!0,handler:function(e){}}},mounted:function(){this.$emit("input",this.fileList)},methods:{handleChange:function(){for(var e=this,t=this.$refs.uploadInput.files,a=function(a){var i=t[a],s=new FileReader,n=(new Date).getTime()+"_"+Math.ceil(99999*Math.random());s.readAsDataURL(i),s.onload=function(){e.editIndex>=0?(e.$set(e.fileList,e.editIndex,{key:n,url:s.result,percent:0,status:"uploading"}),e.editIndex=-1):e.fileList.push({key:n,url:s.result,percent:0,status:"uploading"}),e.$nextTick((function(){e.isQiniu?e.uplaodAction2(s.result,i,n):e.uplaodAction(s.result,i,n)}))}},i=0;i<t.length;i++)a(i);this.$refs.uploadInput.value=[]},uplaodAction:function(e,t,a){var i=this,s=(this.fileList.findIndex((function(e){return e.key===a})),new XMLHttpRequest),o=this.action;s.open("POST",o,!0);var l=new FormData;l.append("file",t),s.send(l),s.onreadystatechange=function(){if(4===s.readyState){var e=JSON.parse(s.response),t="";void 0!==e.url&&null!==e.url&&""!==e.url?t=e.url:void 0!==e.data&&null!==e.data&&""!==e.data&&(t=e.data),e&&t?(i.$set(i.fileList,i.fileList.findIndex((function(e){return e.key===a})),Object(n["a"])(Object(n["a"])({},i.fileList[i.fileList.findIndex((function(e){return e.key===a}))]),{},{url:t,percent:100})),setTimeout((function(){i.$set(i.fileList,i.fileList.findIndex((function(e){return e.key===a})),Object(n["a"])(Object(n["a"])({},i.fileList[i.fileList.findIndex((function(e){return e.key===a}))]),{},{status:"success"})),i.$emit("input",i.fileList)}),200)):(i.$set(i.fileList,i.fileList.findIndex((function(e){return e.key===a})),Object(n["a"])(Object(n["a"])({},i.fileList[i.fileList.findIndex((function(e){return e.key===a}))]),{},{status:"error"})),i.fileList.splice(i.fileList.findIndex((function(e){return e.key===a})),1))}},s.onprogress=function(e){e.total&&e.loaded&&i.$set(i.fileList[i.fileList.findIndex((function(e){return e.key===a}))],"percent",e.loaded/e.total*100)}},uplaodAction2:function(e,t,a){var i=this,s=u["b"](t,a,this.token,{fname:a,mimeType:[]},{useCdnDomain:!0,region:u["a"].z2});s.subscribe({next:function(e){i.$set(i.fileList[i.fileList.findIndex((function(e){return e.key===a}))],"percent",parseInt(e.total.percent))},error:function(e){i.$set(i.fileList,i.fileList.findIndex((function(e){return e.key===a})),Object(n["a"])(Object(n["a"])({},i.fileList[i.fileList.findIndex((function(e){return e.key===a}))]),{},{status:"error"})),i.fileList.splice(i.fileList.findIndex((function(e){return e.key===a})),1)},complete:function(e){i.$set(i.fileList,i.fileList.findIndex((function(e){return e.key===a})),Object(n["a"])(Object(n["a"])({},i.fileList[i.fileList.findIndex((function(e){return e.key===a}))]),{},{url:i.domain+e.key,percent:100})),setTimeout((function(){i.$set(i.fileList,i.fileList.findIndex((function(e){return e.key===a})),Object(n["a"])(Object(n["a"])({},i.fileList[i.fileList.findIndex((function(e){return e.key===a}))]),{},{status:"success"})),i.$emit("input",i.fileList)}),200)}})},handleRemove:function(e){this.fileList.splice(this.fileList.findIndex((function(t){return t.key===e})),1)},handleEdit:function(e){this.editIndex=this.fileList.findIndex((function(t){return t.key===e})),this.$refs.uploadInput.click()},handleMeitu:function(e){this.$emit("on-meitu",this.fileList.findIndex((function(t){return t.key===e})))},handleAdd:function(){this.disabled||(this.editIndex=-1,this.$refs.uploadInput.click())},handlePreviewFile:function(e){var t=this;this.viewer&&this.viewer.destroy(),this.uploadId="upload_"+(new Date).getTime(),this.$nextTick((function(){t.viewer=new r.a(document.getElementById(t.uploadId)),t.viewer.view(t.fileList.findIndex((function(t){return t.key===e})))}))}}},h=f,v=(a("34ef"),a("2877")),b=Object(v["a"])(h,i,s,!1,null,null,null);t["a"]=b.exports},d9fb:function(e,t,a){"use strict";var i=a("9067"),s=a.n(i);s.a},dcb2:function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container"},[a("el-row",{attrs:{gutter:20}},[a("el-col",{staticStyle:{"padding-right":"0"},attrs:{span:4,xs:24}},[a("el-card",{staticClass:"box-card"},[a("div",{staticClass:"head-container"},[a("el-input",{staticStyle:{"margin-bottom":"20px"},attrs:{placeholder:"请输入部门名称",clearable:"",size:"small","prefix-icon":"el-icon-search"},model:{value:e.deptName,callback:function(t){e.deptName=t},expression:"deptName"}})],1),e._v(" "),a("div",{staticClass:"head-container"},[a("el-tree",{ref:"tree",attrs:{data:e.deptOptions,props:e.defaultProps,"expand-on-click-node":!1,"filter-node-method":e.filterNode,"default-expand-all":""},on:{"node-click":e.handleNodeClick}})],1)])],1),e._v(" "),a("el-col",{attrs:{span:20,xs:24}},[a("el-card",{staticClass:"box-card"},[a("el-form",{ref:"queryForm",attrs:{model:e.queryParams,inline:!0,"label-width":"68px"}},[a("el-form-item",{attrs:{label:"用户名称",prop:"username"}},[a("el-input",{staticStyle:{width:"240px"},attrs:{placeholder:"请输入用户名称",clearable:"",size:"small"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleQuery(t)}},model:{value:e.queryParams.username,callback:function(t){e.$set(e.queryParams,"username",t)},expression:"queryParams.username"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"手机号码",prop:"phone"}},[a("el-input",{staticStyle:{width:"240px"},attrs:{placeholder:"请输入手机号码",clearable:"",size:"small"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleQuery(t)}},model:{value:e.queryParams.phone,callback:function(t){e.$set(e.queryParams,"phone",t)},expression:"queryParams.phone"}})],1),e._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary",icon:"el-icon-search",size:"small"},on:{click:e.handleQuery}},[e._v("搜索")]),e._v(" "),a("el-button",{attrs:{icon:"el-icon-refresh",size:"small"},on:{click:e.resetQuery}},[e._v("重置")])],1)],1),e._v(" "),a("el-row",{staticClass:"mb8",attrs:{gutter:10}},[a("el-col",{attrs:{span:1.5}},[a("el-button",{directives:[{name:"permisaction",rawName:"v-permisaction",value:["system:sysuser:add"],expression:"['system:sysuser:add']"}],attrs:{type:"primary",icon:"el-icon-plus",size:"mini"},on:{click:e.handleAdd}},[e._v("新增")])],1),e._v(" "),a("el-col",{attrs:{span:1.5}},[a("el-button",{directives:[{name:"permisaction",rawName:"v-permisaction",value:["system:sysuser:edit"],expression:"['system:sysuser:edit']"}],attrs:{type:"success",icon:"el-icon-edit",size:"mini",disabled:e.single},on:{click:e.handleUpdate}},[e._v("编辑")])],1),e._v(" "),a("el-col",{attrs:{span:1.5}},[a("el-button",{directives:[{name:"permisaction",rawName:"v-permisaction",value:["system:sysuser:remove"],expression:"['system:sysuser:remove']"}],attrs:{type:"danger",icon:"el-icon-delete",size:"mini",disabled:e.multiple},on:{click:e.handleDelete}},[e._v("删除")])],1)],1),e._v(" "),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],attrs:{data:e.userList,border:""},on:{"selection-change":e.handleSelectionChange}},[a("el-table-column",{attrs:{type:"selection",width:"45",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{label:"编号",width:"50",align:"center",prop:"userId"}}),e._v(" "),a("el-table-column",{attrs:{label:"用户名称",align:"center",prop:"username","show-overflow-tooltip":!0}}),e._v(" "),a("el-table-column",{attrs:{label:"用户昵称",align:"center",prop:"nickName","show-overflow-tooltip":!0}}),e._v(" "),a("el-table-column",{attrs:{label:"部门",align:"center",prop:"deptName","show-overflow-tooltip":!0}}),e._v(" "),a("el-table-column",{attrs:{label:"手机号码",align:"center",prop:"phone",width:"120"}}),e._v(" "),a("el-table-column",{attrs:{label:"状态",width:"68",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-switch",{attrs:{"active-value":"0","inactive-value":"1"},on:{change:function(a){return e.handleStatusChange(t.row)}},model:{value:t.row.status,callback:function(a){e.$set(t.row,"status",a)},expression:"scope.row.status"}})]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"创建时间",align:"center",prop:"create_time",width:"165"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(e.parseTime(t.row.create_time)))])]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"操作",align:"center",width:"220","class-name":"small-padding fixed-width"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{directives:[{name:"permisaction",rawName:"v-permisaction",value:["system:sysuser:edit"],expression:"['system:sysuser:edit']"}],attrs:{size:"mini",type:"text",icon:"el-icon-edit"},on:{click:function(a){return e.handleUpdate(t.row)}}},[e._v("编辑")]),e._v(" "),"admin"!==t.row.username?a("el-button",{directives:[{name:"permisaction",rawName:"v-permisaction",value:["system:sysuser:remove"],expression:"['system:sysuser:remove']"}],attrs:{size:"mini",type:"text",icon:"el-icon-delete"},on:{click:function(a){return e.handleDelete(t.row)}}},[e._v("删除")]):e._e(),e._v(" "),a("el-button",{directives:[{name:"permisaction",rawName:"v-permisaction",value:["system:sysuser:resetPassword"],expression:"['system:sysuser:resetPassword']"}],attrs:{size:"mini",type:"text",icon:"el-icon-key"},on:{click:function(a){return e.handleResetPwd(t.row)}}},[e._v("重置")])]}}])})],1),e._v(" "),a("pagination",{directives:[{name:"show",rawName:"v-show",value:e.total>0,expression:"total>0"}],attrs:{total:e.total,page:e.queryParams.pageIndex,limit:e.queryParams.pageSize},on:{"update:page":function(t){return e.$set(e.queryParams,"pageIndex",t)},"update:limit":function(t){return e.$set(e.queryParams,"pageSize",t)},pagination:e.getList}})],1)],1)],1),e._v(" "),a("el-dialog",{attrs:{title:e.title,visible:e.open,width:"800px"},on:{"update:visible":function(t){e.open=t}}},[a("el-form",{ref:"form",attrs:{model:e.form,rules:e.rules,"label-width":"80px"}},[a("el-row",[a("el-col",{attrs:{span:12}},[a("el-form-item",{staticStyle:{width:"90%"},attrs:{label:"用户名称",prop:"username"}},[a("el-input",{attrs:{placeholder:"请输入用户名称"},model:{value:e.form.username,callback:function(t){e.$set(e.form,"username",t)},expression:"form.username"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{staticStyle:{width:"90%"},attrs:{label:"用户昵称",prop:"nickName"}},[a("el-input",{attrs:{placeholder:"请输入用户昵称"},model:{value:e.form.nickName,callback:function(t){e.$set(e.form,"nickName",t)},expression:"form.nickName"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:12}},[void 0==e.form.userId?a("el-form-item",{staticStyle:{width:"90%"},attrs:{label:"用户密码",prop:"password"}},[a("el-input",{attrs:{placeholder:"请输入用户密码",type:"password"},model:{value:e.form.password,callback:function(t){e.$set(e.form,"password",t)},expression:"form.password"}})],1):e._e()],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{staticStyle:{width:"90%"},attrs:{label:"手机号码",prop:"phone"}},[a("el-input",{attrs:{placeholder:"请输入手机号码",maxlength:"11"},model:{value:e.form.phone,callback:function(t){e.$set(e.form,"phone",t)},expression:"form.phone"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{staticStyle:{width:"90%"},attrs:{label:"邮箱",prop:"email"}},[a("el-input",{attrs:{placeholder:"请输入邮箱",maxlength:"50"},model:{value:e.form.email,callback:function(t){e.$set(e.form,"email",t)},expression:"form.email"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{staticStyle:{width:"90%"},attrs:{label:"角色"}},[a("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"请选择"},on:{change:function(t){return e.$forceUpdate()}},model:{value:e.form.roleId,callback:function(t){e.$set(e.form,"roleId",t)},expression:"form.roleId"}},e._l(e.roleOptions,(function(e){return a("el-option",{key:e.roleId,attrs:{label:e.roleName,value:e.roleId,disabled:1==e.status}})})),1)],1)],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{staticStyle:{width:"90%"},attrs:{label:"归属部门",prop:"deptId"}},[a("treeselect",{attrs:{options:e.deptOptions,normalizer:e.normalizer,placeholder:"请选择归属部门"},model:{value:e.form.deptId,callback:function(t){e.$set(e.form,"deptId",t)},expression:"form.deptId"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{staticStyle:{width:"90%"},attrs:{label:"岗位"}},[a("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"请选择"},on:{change:function(t){return e.$forceUpdate()}},model:{value:e.form.postId,callback:function(t){e.$set(e.form,"postId",t)},expression:"form.postId"}},e._l(e.postOptions,(function(e){return a("el-option",{key:e.postId,attrs:{label:e.postName,value:e.postId,disabled:1==e.status}})})),1)],1)],1),e._v(" "),a("el-col",{attrs:{span:24}},[a("el-form-item",{staticStyle:{width:"95%"},attrs:{label:"备注"}},[a("el-input",{attrs:{type:"textarea",placeholder:"请输入内容"},model:{value:e.form.remark,callback:function(t){e.$set(e.form,"remark",t)},expression:"form.remark"}})],1)],1)],1)],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:e.submitForm}},[e._v("确 定")]),e._v(" "),a("el-button",{on:{click:e.cancel}},[e._v("取 消")])],1)],1),e._v(" "),a("el-dialog",{attrs:{title:e.upload.title,visible:e.upload.open,width:"400px"},on:{"update:visible":function(t){return e.$set(e.upload,"open",t)}}},[a("el-upload",{ref:"upload",attrs:{limit:1,accept:".xlsx, .xls",headers:e.upload.headers,action:e.upload.url+"?updateSupport="+e.upload.updateSupport,disabled:e.upload.isUploading,"on-progress":e.handleFileUploadProgress,"on-success":e.handleFileSuccess,"auto-upload":!1,drag:""}},[a("i",{staticClass:"el-icon-upload"}),e._v(" "),a("div",{staticClass:"el-upload__text"},[e._v("\n        将文件拖到此处，或\n        "),a("em",[e._v("点击上传")])]),e._v(" "),a("div",{staticClass:"el-upload__tip",attrs:{slot:"tip"},slot:"tip"},[a("el-checkbox",{model:{value:e.upload.updateSupport,callback:function(t){e.$set(e.upload,"updateSupport",t)},expression:"upload.updateSupport"}}),e._v("是否更新已经存在的用户数据\n        "),a("el-link",{staticStyle:{"font-size":"12px"},attrs:{type:"info"},on:{click:e.importTemplate}},[e._v("下载模板")])],1),e._v(" "),a("div",{staticClass:"el-upload__tip",staticStyle:{color:"red"},attrs:{slot:"tip"},slot:"tip"},[e._v("提示：仅允许导入“xls”或“xlsx”格式文件！")])]),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:e.submitFileForm}},[e._v("确 定")]),e._v(" "),a("el-button",{on:{click:function(t){e.upload.open=!1}}},[e._v("取 消")])],1)],1)],1)},s=[],n=a("b150"),o=a("5f87"),l=a("fcb7"),r=a("ca17"),c=a.n(r),d=(a("542c"),{name:"User",components:{Treeselect:c.a},data:function(){return{loading:!0,ids:[],single:!0,multiple:!0,total:0,userList:null,title:"",deptOptions:void 0,open:!1,deptName:void 0,dateRange:[],postOptions:[],roleOptions:[],form:{},defaultProps:{children:"children",label:"deptName"},upload:{open:!1,title:"",isUploading:!1,updateSupport:0,headers:{Authorization:"Bearer "+Object(o["a"])()},url:"http://localhost:8002/system/user/importData"},queryParams:{pageIndex:1,pageSize:10,username:void 0,phone:void 0,status:void 0,deptId:void 0},rules:{username:[{required:!0,message:"用户名称不能为空",trigger:"blur"}],nickName:[{required:!0,message:"用户昵称不能为空",trigger:"blur"}],deptId:[{required:!0,message:"归属部门不能为空",trigger:"blur"}],password:[{required:!0,message:"用户密码不能为空",trigger:"blur"}],email:[{required:!0,message:"邮箱地址不能为空",trigger:"blur"},{type:"email",message:"'请输入正确的邮箱地址",trigger:["blur","change"]}],phone:[{required:!0,message:"手机号码不能为空",trigger:"blur"},{pattern:/^1[3|4|5|6|7|8|9][0-9]\d{8}$/,message:"请输入正确的手机号码",trigger:"blur"}]}}},watch:{deptName:function(e){this.$refs.tree.filter(e)}},created:function(){this.getList(),this.getTreeselect()},methods:{getList:function(){var e=this;this.loading=!0,Object(n["i"])(this.addDateRange(this.queryParams,this.dateRange)).then((function(t){e.userList=t.data.list,e.total=t.data.count,e.loading=!1}))},getTreeselect:function(){var e=this;Object(l["f"])().then((function(t){e.deptOptions=t.data}))},filterNode:function(e,t){return!e||-1!==t.deptName.indexOf(e)},handleNodeClick:function(e){this.queryParams.deptId=e.deptId,this.getList()},normalizer:function(e){return e.children&&!e.children.length&&delete e.children,{id:e.deptId,label:e.deptName,children:e.children}},handleStatusChange:function(e){var t=this,a="0"===e.status?"启用":"停用";this.$confirm('确认要"'+a+'""'+e.username+'"用户吗?',"警告",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){return Object(n["b"])(e.userId,e.status)})).then((function(){t.msgSuccess(a+"成功")})).catch((function(){e.status="0"===e.status?"1":"0"}))},cancel:function(){this.open=!1,this.reset()},reset:function(){this.form={userId:void 0,deptId:void 0,username:void 0,nickName:void 0,password:void 0,phone:void 0,email:void 0,sex:void 0,status:"0",remark:void 0,postIds:void 0,roleIds:void 0},this.resetForm("form")},handleQuery:function(){this.queryParams.page=1,this.getList()},resetQuery:function(){this.dateRange=[],this.resetForm("queryForm"),this.handleQuery()},handleSelectionChange:function(e){this.ids=e.map((function(e){return e.userId})),this.single=1!==e.length,this.multiple=!e.length},handleAdd:function(){var e=this;this.reset(),this.getTreeselect(),Object(n["f"])().then((function(t){e.postOptions=t.data.posts,e.roleOptions=t.data.roles,e.open=!0,e.title="添加用户",e.form.password="123456"}))},handleUpdate:function(e){var t=this;this.reset(),this.getTreeselect();var a=e.userId||this.ids;Object(n["e"])(a).then((function(e){t.form=e.data,t.postOptions=e.posts,t.roleOptions=e.roles,t.form.postIds=e.postIds[0],t.form.roleIds=e.roleIds[0],t.open=!0,t.title="修改用户",t.form.password=""}))},handleResetPwd:function(e){var t=this;this.$prompt('请输入"'+e.username+'"的新密码',"提示",{confirmButtonText:"确定",cancelButtonText:"取消"}).then((function(a){var i=a.value;Object(n["j"])(e.userId,i).then((function(e){200===e.code?t.msgSuccess("修改成功，新密码是："+i):t.msgError(e.msg)}))})).catch((function(){}))},submitForm:function(){var e=this;this.$refs["form"].validate((function(t){t&&(void 0!==e.form.userId?Object(n["k"])(e.form).then((function(t){200===t.code?(e.msgSuccess("修改成功"),e.open=!1,e.getList()):e.msgError(t.msg)})):Object(n["a"])(e.form).then((function(t){200===t.code?(e.msgSuccess("新增成功"),e.open=!1,e.getList()):e.msgError(t.msg)})))}))},handleDelete:function(e){var t=this,a=e.userId||this.ids;this.$confirm('是否确认删除用户编号为"'+a+'"的数据项?',"警告",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){return Object(n["c"])(a)})).then((function(){t.getList(),t.msgSuccess("删除成功")})).catch((function(){}))},handleExport:function(){var e=this,t=this.queryParams;this.$confirm("是否确认导出所有用户数据项?","警告",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){return Object(n["d"])(t)})).then((function(t){e.download(t.msg)})).catch((function(){}))},handleImport:function(){this.upload.title="用户导入",this.upload.open=!0},importTemplate:function(){var e=this;Object(n["h"])().then((function(t){e.download(t.msg)}))},handleFileUploadProgress:function(e,t,a){this.upload.isUploading=!0},handleFileSuccess:function(e,t,a){this.upload.open=!1,this.upload.isUploading=!1,this.$refs.upload.clearFiles(),this.$alert(e.msg,"导入结果",{dangerouslyUseHTMLString:!0}),this.getList()},submitFileForm:function(){this.$refs.upload.submit()}}}),u=d,p=a("2877"),m=Object(p["a"])(u,i,s,!1,null,null,null);t["default"]=m.exports},df1c:function(e,t,a){},e206:function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-form",[a("el-form-item",{attrs:{label:"Name"}},[a("el-input",{model:{value:e.user.name,callback:function(t){e.$set(e.user,"name","string"===typeof t?t.trim():t)},expression:"user.name"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"Email"}},[a("el-input",{model:{value:e.user.email,callback:function(t){e.$set(e.user,"email","string"===typeof t?t.trim():t)},expression:"user.email"}})],1),e._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:e.submit}},[e._v("Update")])],1)],1)},s=[],n={props:{user:{type:Object,default:function(){return{name:"",email:""}}}},methods:{submit:function(){this.$message({message:"User information has been updated successfully",type:"success",duration:5e3})}}},o=n,l=a("2877"),r=Object(l["a"])(o,i,s,!1,null,null,null);t["default"]=r.exports},ebe1:function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticStyle:{display:"inline-block"}},[a("label",{staticClass:"radio-label"},[e._v("Book Type: ")]),e._v(" "),a("el-select",{staticStyle:{width:"120px"},model:{value:e.bookType,callback:function(t){e.bookType=t},expression:"bookType"}},e._l(e.options,(function(e){return a("el-option",{key:e,attrs:{label:e,value:e}})})),1)],1)},s=[],n={props:{value:{type:String,default:"xlsx"}},data:function(){return{options:["xlsx","csv","txt"]}},computed:{bookType:{get:function(){return this.value},set:function(e){this.$emit("input",e)}}}},o=n,l=a("2877"),r=Object(l["a"])(o,i,s,!1,null,null,null);t["default"]=r.exports},ec2d:function(e,t,a){},ecac:function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container"},[a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:6,xs:24}},[a("el-card",{staticClass:"box-card"},[a("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[a("span",[e._v("个人信息")])]),e._v(" "),a("div",[a("div",{staticClass:"text-center"},[a("userAvatar",{attrs:{user:e.user}})],1),e._v(" "),a("ul",{staticClass:"list-group list-group-striped"},[a("li",{staticClass:"list-group-item"},[a("svg-icon",{attrs:{"icon-class":"user"}}),e._v(" 用户名称\n              "),a("div",{staticClass:"pull-right"},[e._v(e._s(e.user.username))])],1),e._v(" "),a("li",{staticClass:"list-group-item"},[a("svg-icon",{attrs:{"icon-class":"phone"}}),e._v(" 手机号码\n              "),a("div",{staticClass:"pull-right"},[e._v(e._s(e.user.phone))])],1),e._v(" "),a("li",{staticClass:"list-group-item"},[a("svg-icon",{attrs:{"icon-class":"email"}}),e._v(" 用户邮箱\n              "),a("div",{staticClass:"pull-right"},[e._v(e._s(e.user.email))])],1),e._v(" "),a("li",{staticClass:"list-group-item"},[a("svg-icon",{attrs:{"icon-class":"tree"}}),e._v(" 所属部门\n              "),a("div",{staticClass:"pull-right"},[e._v(e._s(e.deptName))])],1),e._v(" "),a("li",{staticClass:"list-group-item"},[a("svg-icon",{attrs:{"icon-class":"peoples"}}),e._v(" 所属角色\n              "),a("div",{staticClass:"pull-right"},[e._v(e._s(e.roleName))])],1),e._v(" "),a("li",{staticClass:"list-group-item"},[a("svg-icon",{attrs:{"icon-class":"date"}}),e._v(" 创建日期\n              "),a("div",{staticClass:"pull-right"},[e._v(e._s(e.parseTime(e.user.create_time)))])],1)])])])],1),e._v(" "),a("el-col",{attrs:{span:18,xs:24}},[a("el-card",[a("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[a("span",[e._v("基本资料")])]),e._v(" "),a("el-tabs",{model:{value:e.activeTab,callback:function(t){e.activeTab=t},expression:"activeTab"}},[a("el-tab-pane",{attrs:{label:"基本资料",name:"userinfo"}},[a("userInfo",{attrs:{user:e.user}})],1),e._v(" "),a("el-tab-pane",{attrs:{label:"修改密码",name:"resetPwd"}},[a("resetPwd",{attrs:{user:e.user}})],1)],1)],1)],1)],1)],1)},s=[],n=a("88c9"),o=a("2dde"),l=a("3823"),r=a("b150"),c={name:"Profile",components:{userAvatar:n["default"],userInfo:o["default"],resetPwd:l["default"]},data:function(){return{user:{},roleGroup:{},postGroup:{},deptGroup:{},activeTab:"userinfo",roleIds:void 0,postIds:void 0,roleName:void 0,postName:void 0,dept:{},deptName:void 0}},created:function(){this.getUser()},methods:{getUser:function(){var e=this;Object(r["g"])().then((function(t){if(e.user=t.data,e.roleIds=t.roleIds,e.roleGroup=t.roles,e.roleIds[0])for(var a in e.roleGroup)e.roleIds[0]===e.roleGroup[a].roleId&&(e.roleName=e.roleGroup[a].roleName);else e.roleName="暂无";e.dept=t.dept,e.deptName=e.dept.deptName}))}}},d=c,u=a("2877"),p=Object(u["a"])(d,i,s,!1,null,null,null);t["default"]=p.exports},ed66:function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{class:e.className,style:{height:e.height,width:e.width}})},s=[],n=a("313e"),o=a.n(n),l=a("a7dc");a("817d");var r={mixins:[l["default"]],props:{className:{type:String,default:"chart"},width:{type:String,default:"100%"},height:{type:String,default:"300px"},submitRankingData:{type:Object,required:!0}},data:function(){return{chart:null}},mounted:function(){var e=this;this.$nextTick((function(){e.initChart()}))},beforeDestroy:function(){this.chart&&(this.chart.dispose(),this.chart=null)},methods:{initChart:function(){this.chart=o.a.init(this.$el,"macarons"),this.chart.setOption({title:{text:"工单提交排名",textStyle:{fontSize:15}},tooltip:{trigger:"axis",axisPointer:{type:"shadow"}},grid:{top:45,left:"3%",right:"5%",bottom:"20",containLabel:!0},xAxis:{type:"value",boundaryGap:[0,.01]},yAxis:{type:"category",data:this.submitRankingData.nickname},series:[{type:"bar",barWidth:20,data:this.submitRankingData.rankingCount}]})}}},c=r,d=a("2877"),u=Object(d["a"])(c,i,s,!1,null,null,null);t["default"]=u.exports},edd9:function(e,t,a){"use strict";a.d(t,"b",(function(){return s})),a.d(t,"e",(function(){return n})),a.d(t,"f",(function(){return o})),a.d(t,"c",(function(){return l})),a.d(t,"d",(function(){return r})),a.d(t,"a",(function(){return c}));var i=a("b775");function s(e){return Object(i["a"])({url:"/api/v1/process",method:"post",data:e})}function n(e){return Object(i["a"])({url:"/api/v1/process",method:"get",params:e})}function o(e){return Object(i["a"])({url:"/api/v1/process",method:"put",data:e})}function l(e){return Object(i["a"])({url:"/api/v1/process",method:"delete",params:e})}function r(e){return Object(i["a"])({url:"/api/v1/process/details",method:"get",params:e})}function c(e){return Object(i["a"])({url:"/api/v1/process/classify",method:"get",params:e})}},ef3c:function(e,t,a){"use strict";a.r(t);a("a481");var i,s,n={created:function(){var e=this.$route,t=e.params,a=e.query,i=t.path;this.$router.replace({path:"/"+i,query:a})},render:function(e){return e()}},o=n,l=a("2877"),r=Object(l["a"])(o,i,s,!1,null,null,null);t["default"]=r.exports},ef8d:function(e,t,a){},f2cc:function(e,t,a){},f643:function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{class:e.className,style:{height:e.height,width:e.width}})},s=[],n=a("313e"),o=a.n(n),l=a("a7dc");a("817d");var r={mixins:[l["default"]],props:{className:{type:String,default:"chart"},width:{type:String,default:"100%"},height:{type:String,default:"300px"}},data:function(){return{chart:null}},mounted:function(){var e=this;this.$nextTick((function(){e.initChart()}))},beforeDestroy:function(){this.chart&&(this.chart.dispose(),this.chart=null)},methods:{initChart:function(){this.chart=o.a.init(this.$el,"macarons"),this.chart.setOption({title:{text:"完成工单排名",textStyle:{fontSize:15}},tooltip:{trigger:"axis",axisPointer:{type:"shadow"}},grid:{top:35,left:"2%",right:"2%",bottom:"3%",containLabel:!0},xAxis:{type:"value",boundaryGap:[0,.01]},yAxis:{type:"category",data:["马七","赵六","王五","李四","张三","兰玉磊"]},series:[{type:"bar",barWidth:20,stack:"vistors",data:[367,435,693,764,890,999],itemStyle:{normal:{color:"#b6a2de"}}}]})}}},c=r,d=a("2877"),u=Object(d["a"])(c,i,s,!1,null,null,null);t["default"]=u.exports},f6cb8:function(e,t,a){"use strict";var i=a("3944"),s=a.n(i);s.a},f757:function(e,t,a){},f794:function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container"},[a("el-card",{staticClass:"box-card"},[a("el-form",{attrs:{inline:!0}},[a("el-form-item",{attrs:{label:"菜单名称"}},[a("el-input",{attrs:{placeholder:"请输入菜单名称",clearable:"",size:"small"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleQuery(t)}},model:{value:e.queryParams.title,callback:function(t){e.$set(e.queryParams,"title",t)},expression:"queryParams.title"}})],1),e._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary",icon:"el-icon-search",size:"small"},on:{click:e.handleQuery}},[e._v("搜索")]),e._v(" "),a("el-button",{directives:[{name:"permisaction",rawName:"v-permisaction",value:["system:sysmenu:add"],expression:"['system:sysmenu:add']"}],attrs:{type:"primary",icon:"el-icon-plus",size:"small"},on:{click:e.handleAdd}},[e._v("新增")])],1)],1),e._v(" "),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],attrs:{border:"",data:e.menuList,"row-key":"menuId","tree-props":{children:"children",hasChildren:"hasChildren"}}},[a("el-table-column",{attrs:{prop:"title",label:"菜单名称","show-overflow-tooltip":!0,width:"180px"}}),e._v(" "),a("el-table-column",{attrs:{prop:"icon",label:"图标",align:"center",width:"100px"},scopedSlots:e._u([{key:"default",fn:function(e){return[a("svg-icon",{attrs:{"icon-class":e.row.icon}})]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"sort",label:"排序",width:"60px"}}),e._v(" "),a("el-table-column",{attrs:{prop:"permission",label:"权限标识","show-overflow-tooltip":!0}}),e._v(" "),a("el-table-column",{attrs:{prop:"path",label:"路径","show-overflow-tooltip":!0},scopedSlots:e._u([{key:"default",fn:function(t){return["A"==t.row.menuType?a("span",[e._v(e._s(t.row.path))]):a("span",[e._v(e._s(t.row.component))])]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"visible",label:"可见",formatter:e.visibleFormat,width:"80"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-tag",{attrs:{type:"1"===t.row.visible?"danger":"success","disable-transitions":""}},[e._v(e._s(e.visibleFormat(t.row)))])]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"创建时间",align:"center",prop:"create_time",width:"180"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(e.parseTime(t.row.create_time)))])]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"操作",align:"center","class-name":"small-padding fixed-width",width:"180"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{directives:[{name:"permisaction",rawName:"v-permisaction",value:["system:sysmenu:edit"],expression:"['system:sysmenu:edit']"}],attrs:{size:"mini",type:"text",icon:"el-icon-edit"},on:{click:function(a){return e.handleUpdate(t.row)}}},[e._v("编辑")]),e._v(" "),a("el-button",{directives:[{name:"permisaction",rawName:"v-permisaction",value:["system:sysmenu:add"],expression:"['system:sysmenu:add']"}],attrs:{size:"mini",type:"text",icon:"el-icon-plus"},on:{click:function(a){return e.handleAdd(t.row)}}},[e._v("新增")]),e._v(" "),a("el-button",{directives:[{name:"permisaction",rawName:"v-permisaction",value:["system:sysmenu:remove"],expression:"['system:sysmenu:remove']"}],attrs:{size:"mini",type:"text",icon:"el-icon-delete"},on:{click:function(a){return e.handleDelete(t.row)}}},[e._v("删除")])]}}])})],1)],1),e._v(" "),a("el-dialog",{attrs:{title:e.title,visible:e.open,width:"800px"},on:{"update:visible":function(t){e.open=t}}},[a("el-form",{ref:"form",attrs:{model:e.form,rules:e.rules,"label-width":"100px"}},[a("el-row",[a("el-col",{attrs:{span:24}},[a("el-form-item",{staticStyle:{width:"95%"},attrs:{label:"上级菜单"}},[a("treeselect",{attrs:{options:e.menuOptions,normalizer:e.normalizer,"show-count":!0,placeholder:"选择上级菜单"},model:{value:e.form.parentId,callback:function(t){e.$set(e.form,"parentId",t)},expression:"form.parentId"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{staticStyle:{width:"90%"},attrs:{label:"菜单标题",prop:"title"}},[a("el-input",{attrs:{placeholder:"请输入菜单标题"},model:{value:e.form.title,callback:function(t){e.$set(e.form,"title",t)},expression:"form.title"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"显示排序",prop:"sort"}},[a("el-input-number",{attrs:{"controls-position":"right",min:0},model:{value:e.form.sort,callback:function(t){e.$set(e.form,"sort",t)},expression:"form.sort"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{label:"菜单类型",prop:"menuType"}},[a("el-radio-group",{model:{value:e.form.menuType,callback:function(t){e.$set(e.form,"menuType",t)},expression:"form.menuType"}},[a("el-radio",{attrs:{label:"M"}},[e._v("目录")]),e._v(" "),a("el-radio",{attrs:{label:"C"}},[e._v("菜单")]),e._v(" "),a("el-radio",{attrs:{label:"F"}},[e._v("按钮")]),e._v(" "),a("el-radio",{attrs:{label:"A"}},[e._v("接口")])],1)],1)],1),e._v(" "),a("el-col",{attrs:{span:24}},["A"==e.form.menuType?a("el-form-item",{attrs:{label:"请求方式"}},[a("el-radio-group",{model:{value:e.form.action,callback:function(t){e.$set(e.form,"action",t)},expression:"form.action"}},[a("el-radio",{attrs:{label:"GET"}},[e._v("GET")]),e._v(" "),a("el-radio",{attrs:{label:"POST"}},[e._v("POST")]),e._v(" "),a("el-radio",{attrs:{label:"PUT"}},[e._v("PUT")]),e._v(" "),a("el-radio",{attrs:{label:"DELETE"}},[e._v("DELETE")])],1)],1):e._e()],1),e._v(" "),a("el-col",{attrs:{span:24}},[a("el-form-item",{staticStyle:{width:"95%"},attrs:{label:"菜单图标"}},[a("el-popover",{attrs:{placement:"bottom-start",width:"460",trigger:"click"},on:{show:function(t){return e.$refs["iconSelect"].reset()}}},[a("IconSelect",{ref:"iconSelect",on:{selected:e.selected}}),e._v(" "),a("el-input",{attrs:{slot:"reference",placeholder:"点击选择图标",readonly:""},slot:"reference",model:{value:e.form.icon,callback:function(t){e.$set(e.form,"icon",t)},expression:"form.icon"}},[e.form.icon?a("svg-icon",{staticClass:"el-input__icon",staticStyle:{height:"32px",width:"16px"},attrs:{slot:"prefix","icon-class":e.form.icon},slot:"prefix"}):a("i",{staticClass:"el-icon-search el-input__icon",attrs:{slot:"prefix"},slot:"prefix"})],1)],1)],1)],1),e._v(" "),a("el-col",{attrs:{span:12}},["M"==e.form.menuType||"C"==e.form.menuType?a("el-form-item",{staticStyle:{width:"90%"},attrs:{label:"路由名称",prop:"menuName"}},[a("el-input",{attrs:{placeholder:"请输入路由名称"},model:{value:e.form.menuName,callback:function(t){e.$set(e.form,"menuName",t)},expression:"form.menuName"}})],1):e._e()],1),e._v(" "),"M"==e.form.menuType||"C"==e.form.menuType?a("el-col",{attrs:{span:12}},[a("el-form-item",{staticStyle:{width:"90%"},attrs:{label:"组件路径",prop:"component"}},[a("el-input",{attrs:{placeholder:"请输入组件路径"},model:{value:e.form.component,callback:function(t){e.$set(e.form,"component",t)},expression:"form.component"}})],1)],1):e._e(),e._v(" "),a("el-col",{attrs:{span:12}},["M"==e.form.menuType||"C"==e.form.menuType?a("el-form-item",{attrs:{label:"是否外链"}},[a("el-radio-group",{model:{value:e.form.isFrame,callback:function(t){e.$set(e.form,"isFrame",t)},expression:"form.isFrame"}},[a("el-radio",{attrs:{label:"0"}},[e._v("是")]),e._v(" "),a("el-radio",{attrs:{label:"1"}},[e._v("否")])],1)],1):e._e()],1),e._v(" "),a("el-col",{attrs:{span:12}},["F"!=e.form.menuType?a("el-form-item",{staticStyle:{width:"90%"},attrs:{label:"路由地址",prop:"path"}},[a("el-input",{attrs:{placeholder:"请输入路由地址"},model:{value:e.form.path,callback:function(t){e.$set(e.form,"path",t)},expression:"form.path"}})],1):e._e()],1),e._v(" "),a("el-col",{attrs:{span:12}},["F"==e.form.menuType||"C"==e.form.menuType?a("el-form-item",{staticStyle:{width:"90%"},attrs:{label:"权限标识"}},[a("el-input",{attrs:{placeholder:"请权限标识",maxlength:"50"},model:{value:e.form.permission,callback:function(t){e.$set(e.form,"permission",t)},expression:"form.permission"}})],1):e._e()],1),e._v(" "),a("el-col",{attrs:{span:24}},["F"!=e.form.menuType?a("el-form-item",{attrs:{label:"菜单状态"}},[a("el-radio-group",{model:{value:e.form.visible,callback:function(t){e.$set(e.form,"visible",t)},expression:"form.visible"}},e._l(e.visibleOptions,(function(t){return a("el-radio",{key:t.dictValue,attrs:{label:t.dictValue}},[e._v(e._s(t.dictLabel))])})),1)],1):e._e()],1)],1)],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:e.submitForm}},[e._v("确 定")]),e._v(" "),a("el-button",{on:{click:e.cancel}},[e._v("取 消")])],1)],1)],1)},s=[],n=a("a6dc"),o=a("ca17"),l=a.n(o),r=(a("542c"),function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"icon-body"},[a("el-input",{staticStyle:{position:"relative"},attrs:{clearable:"",placeholder:"请输入图标名称"},on:{clear:e.filterIcons},nativeOn:{input:function(t){return e.filterIcons(t)}},model:{value:e.name,callback:function(t){e.name=t},expression:"name"}},[a("i",{staticClass:"el-icon-search el-input__icon",attrs:{slot:"suffix"},slot:"suffix"})]),e._v(" "),a("div",{staticClass:"icon-list"},e._l(e.iconList,(function(t,i){return a("div",{key:i,on:{click:function(a){return e.selectedIcon(t)}}},[a("svg-icon",{staticStyle:{height:"30px",width:"16px"},attrs:{"icon-class":t}}),e._v(" "),a("span",[e._v(e._s(t))])],1)})),0)],1)}),c=[],d=(a("6762"),a("2fdb"),a("7f7f"),a("4917"),a("ac6a"),a("51ff")),u=function(e){return e.keys()},p=/\.\/(.*)\.svg/,m=u(d).map((function(e){return e.match(p)[1]})),f=m,h={name:"IconSelect",data:function(){return{name:"",iconList:f}},methods:{filterIcons:function(){var e=this;this.name?this.iconList=this.iconList.filter((function(t){return t.includes(e.name)})):this.iconList=f},selectedIcon:function(e){this.$emit("selected",e),document.body.click()},reset:function(){this.name="",this.iconList=f}}},v=h,b=(a("aa5a"),a("2877")),g=Object(b["a"])(v,r,c,!1,null,"29eae0d6",null),_=g.exports,y={name:"Menu",components:{Treeselect:l.a,IconSelect:_},data:function(){return{loading:!0,menuList:[],menuOptions:[],title:"",open:!1,visibleOptions:[{dictValue:"0",dictLabel:"显示"},{dictValue:"1",dictLabel:"隐藏"}],queryParams:{title:void 0,visible:void 0},form:{},rules:{title:[{required:!0,message:"菜单标题不能为空",trigger:"blur"}],sort:[{required:!0,message:"菜单顺序不能为空",trigger:"blur"}]}}},created:function(){this.getList()},methods:{selected:function(e){this.form.icon=e},getList:function(){var e=this;this.loading=!0,Object(n["d"])(this.queryParams).then((function(t){e.menuList=t.data,e.loading=!1}))},normalizer:function(e){return e.children&&!e.children.length&&delete e.children,{id:e.menuId,label:e.title,children:e.children}},getTreeselect:function(){var e=this;Object(n["d"])().then((function(t){e.menuOptions=[];var a={menuId:0,title:"主类目",children:[]};a.children=t.data,e.menuOptions.push(a)}))},visibleFormat:function(e){return"F"===e.menuType?"-- --":"1"===e.visible?"隐藏":"0"===e.visible?"可见":void 0},cancel:function(){this.open=!1,this.reset()},reset:function(){this.form={menuId:void 0,parentId:0,menuName:void 0,icon:void 0,menuType:"M",sort:0,action:"A"===this.form.menuType?this.form.action:"",isFrame:"1",visible:"0"},this.resetForm("form")},handleQuery:function(){this.getList()},handleAdd:function(e){this.reset(),this.getTreeselect(),null!=e&&(this.form.parentId=e.menuId),this.open=!0,this.title="添加菜单"},handleUpdate:function(e){var t=this;this.reset(),this.getTreeselect(),Object(n["c"])(e.menuId).then((function(e){t.form=e.data,t.open=!0,t.title="修改菜单"}))},submitForm:function(){var e=this;this.$refs["form"].validate((function(t){t&&(void 0!==e.form.menuId?Object(n["g"])(e.form).then((function(t){200===t.code?(e.msgSuccess("修改成功"),e.open=!1,e.getList()):e.msgError(t.msg)})):Object(n["a"])(e.form).then((function(t){200===t.code?(e.msgSuccess("新增成功"),e.open=!1,e.getList()):e.msgError(t.msg)})))}))},handleDelete:function(e){var t=this;this.$confirm('是否确认删除名称为"'+e.title+'"的数据项?',"警告",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){return Object(n["b"])(e.menuId)})).then((function(){t.getList(),t.msgSuccess("删除成功")})).catch((function(){}))}}},w=y,x=Object(b["a"])(w,i,s,!1,null,null,null);t["default"]=x.exports},f79c:function(e,t,a){"use strict";var i=a("74b5"),s=a.n(i);s.a},f9c6:function(e,t,a){"use strict";var i=a("ef8d"),s=a.n(i);s.a},fb8d:function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"block"},[a("el-timeline",e._l(e.timeline,(function(t,i){return a("el-timeline-item",{key:i,attrs:{timestamp:t.timestamp,placement:"top"}},[a("el-card",[a("h4",[e._v(e._s(t.title))]),e._v(" "),a("p",[e._v(e._s(t.content))])])],1)})),1)],1)},s=[],n={data:function(){return{timeline:[{timestamp:"2019/4/20",title:"Update Github template",content:"PanJiaChen committed 2019/4/20 20:46"},{timestamp:"2019/4/21",title:"Update Github template",content:"PanJiaChen committed 2019/4/21 20:46"},{timestamp:"2019/4/22",title:"Build Template",content:"PanJiaChen committed 2019/4/22 20:46"},{timestamp:"2019/4/23",title:"Release New Version",content:"PanJiaChen committed 2019/4/23 20:46"}]}}},o=n,l=a("2877"),r=Object(l["a"])(o,i,s,!1,null,null,null);t["default"]=r.exports},fcb7:function(e,t,a){"use strict";a.d(t,"d",(function(){return s})),a.d(t,"c",(function(){return n})),a.d(t,"f",(function(){return o})),a.d(t,"e",(function(){return l})),a.d(t,"a",(function(){return r})),a.d(t,"g",(function(){return c})),a.d(t,"b",(function(){return d}));var i=a("b775");function s(e){return Object(i["a"])({url:"/api/v1/deptList",method:"get",params:e})}function n(e){return Object(i["a"])({url:"/api/v1/dept/"+e,method:"get"})}function o(){return Object(i["a"])({url:"/api/v1/deptTree",method:"get"})}function l(e){return Object(i["a"])({url:"/api/v1/roleDeptTreeselect/"+e,method:"get"})}function r(e){return Object(i["a"])({url:"/api/v1/dept",method:"post",data:e})}function c(e){return Object(i["a"])({url:"/api/v1/dept",method:"put",data:e})}function d(e){return Object(i["a"])({url:"/api/v1/dept/"+e,method:"delete"})}}}]);